(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function ja(t,n){const o=Object.create(null),s=t.split(",");for(let l=0;l<s.length;l++)o[s[l]]=!0;return n?l=>!!o[l.toLowerCase()]:l=>!!o[l]}const Pe={},ci=[],En=()=>{},sd=()=>!1,ad=/^on[^a-z]/,fo=t=>ad.test(t),Na=t=>t.startsWith("onUpdate:"),je=Object.assign,Ha=(t,n)=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)},ld=Object.prototype.hasOwnProperty,he=(t,n)=>ld.call(t,n),$t=Array.isArray,ui=t=>cs(t)==="[object Map]",bu=t=>cs(t)==="[object Set]",ne=t=>typeof t=="function",De=t=>typeof t=="string",Fa=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",wu=t=>Se(t)&&ne(t.then)&&ne(t.catch),xu=Object.prototype.toString,cs=t=>xu.call(t),cd=t=>cs(t).slice(8,-1),ku=t=>cs(t)==="[object Object]",Ua=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ji=ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),us=t=>{const n=Object.create(null);return o=>n[o]||(n[o]=t(o))},ud=/-(\w)/g,Fn=us(t=>t.replace(ud,(n,o)=>o?o.toUpperCase():"")),hd=/\B([A-Z])/g,vi=us(t=>t.replace(hd,"-$1").toLowerCase()),hs=us(t=>t.charAt(0).toUpperCase()+t.slice(1)),qs=us(t=>t?`on${hs(t)}`:""),ro=(t,n)=>!Object.is(t,n),Zo=(t,n)=>{for(let o=0;o<t.length;o++)t[o](n)},Qo=(t,n,o)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:o})},fa=t=>{const n=parseFloat(t);return isNaN(n)?t:n},fd=t=>{const n=De(t)?Number(t):NaN;return isNaN(n)?t:n};let Wl;const da=()=>Wl||(Wl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fr(t){if($t(t)){const n={};for(let o=0;o<t.length;o++){const s=t[o],l=De(s)?gd(s):Fr(s);if(l)for(const c in l)n[c]=l[c]}return n}else{if(De(t))return t;if(Se(t))return t}}const dd=/;(?![^(]*\))/g,pd=/:([^]+)/,md=/\/\*[^]*?\*\//g;function gd(t){const n={};return t.replace(md,"").split(dd).forEach(o=>{if(o){const s=o.split(pd);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function wn(t){let n="";if(De(t))n=t;else if($t(t))for(let o=0;o<t.length;o++){const s=wn(t[o]);s&&(n+=s+" ")}else if(Se(t))for(const o in t)t[o]&&(n+=o+" ");return n.trim()}const _d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yd=ja(_d);function Lu(t){return!!t||t===""}const Ce=t=>De(t)?t:t==null?"":$t(t)||Se(t)&&(t.toString===xu||!ne(t.toString))?JSON.stringify(t,Mu,2):String(t),Mu=(t,n)=>n&&n.__v_isRef?Mu(t,n.value):ui(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[s,l])=>(o[`${s} =>`]=l,o),{})}:bu(n)?{[`Set(${n.size})`]:[...n.values()]}:Se(n)&&!$t(n)&&!ku(n)?String(n):n;let ln;class Cu{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ln,!n&&ln&&(this.index=(ln.scopes||(ln.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const o=ln;try{return ln=this,n()}finally{ln=o}}}on(){ln=this}off(){ln=this.parent}stop(n){if(this._active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function Pu(t){return new Cu(t)}function vd(t,n=ln){n&&n.active&&n.effects.push(t)}function Su(){return ln}function bd(t){ln&&ln.cleanups.push(t)}const Va=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Eu=t=>(t.w&wr)>0,Tu=t=>(t.n&wr)>0,wd=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=wr},xd=t=>{const{deps:n}=t;if(n.length){let o=0;for(let s=0;s<n.length;s++){const l=n[s];Eu(l)&&!Tu(l)?l.delete(t):n[o++]=l,l.w&=~wr,l.n&=~wr}n.length=o}},ts=new WeakMap;let Ki=0,wr=1;const pa=30;let Pn;const Ur=Symbol(""),ma=Symbol("");class Ga{constructor(n,o=null,s){this.fn=n,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,vd(this,s)}run(){if(!this.active)return this.fn();let n=Pn,o=yr;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Pn,Pn=this,yr=!0,wr=1<<++Ki,Ki<=pa?wd(this):Jl(this),this.fn()}finally{Ki<=pa&&xd(this),wr=1<<--Ki,Pn=this.parent,yr=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pn===this?this.deferStop=!0:this.active&&(Jl(this),this.onStop&&this.onStop(),this.active=!1)}}function Jl(t){const{deps:n}=t;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(t);n.length=0}}let yr=!0;const Ou=[];function bi(){Ou.push(yr),yr=!1}function wi(){const t=Ou.pop();yr=t===void 0?!0:t}function rn(t,n,o){if(yr&&Pn){let s=ts.get(t);s||ts.set(t,s=new Map);let l=s.get(o);l||s.set(o,l=Va()),Au(l)}}function Au(t,n){let o=!1;Ki<=pa?Tu(t)||(t.n|=wr,o=!Eu(t)):o=!t.has(Pn),o&&(t.add(Pn),Pn.deps.push(t))}function er(t,n,o,s,l,c){const h=ts.get(t);if(!h)return;let d=[];if(n==="clear")d=[...h.values()];else if(o==="length"&&$t(t)){const m=Number(s);h.forEach((g,y)=>{(y==="length"||y>=m)&&d.push(g)})}else switch(o!==void 0&&d.push(h.get(o)),n){case"add":$t(t)?Ua(o)&&d.push(h.get("length")):(d.push(h.get(Ur)),ui(t)&&d.push(h.get(ma)));break;case"delete":$t(t)||(d.push(h.get(Ur)),ui(t)&&d.push(h.get(ma)));break;case"set":ui(t)&&d.push(h.get(Ur));break}if(d.length===1)d[0]&&ga(d[0]);else{const m=[];for(const g of d)g&&m.push(...g);ga(Va(m))}}function ga(t,n){const o=$t(t)?t:[...t];for(const s of o)s.computed&&Yl(s);for(const s of o)s.computed||Yl(s)}function Yl(t,n){(t!==Pn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function kd(t,n){var o;return(o=ts.get(t))==null?void 0:o.get(n)}const Ld=ja("__proto__,__v_isRef,__isVue"),Ru=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fa)),Md=$a(),Cd=$a(!1,!0),Pd=$a(!0),Xl=Sd();function Sd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...o){const s=ue(this);for(let c=0,h=this.length;c<h;c++)rn(s,"get",c+"");const l=s[n](...o);return l===-1||l===!1?s[n](...o.map(ue)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...o){bi();const s=ue(this)[n].apply(this,o);return wi(),s}}),t}function Ed(t){const n=ue(this);return rn(n,"has",t),n.hasOwnProperty(t)}function $a(t=!1,n=!1){return function(s,l,c){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&c===(t?n?$d:ju:n?zu:Du).get(s))return s;const h=$t(s);if(!t){if(h&&he(Xl,l))return Reflect.get(Xl,l,c);if(l==="hasOwnProperty")return Ed}const d=Reflect.get(s,l,c);return(Fa(l)?Ru.has(l):Ld(l))||(t||rn(s,"get",l),n)?d:Be(d)?h&&Ua(l)?d:d.value:Se(d)?t?Nu(d):xi(d):d}}const Td=Bu(),Od=Bu(!0);function Bu(t=!1){return function(o,s,l,c){let h=o[s];if(di(h)&&Be(h)&&!Be(l))return!1;if(!t&&(!es(l)&&!di(l)&&(h=ue(h),l=ue(l)),!$t(o)&&Be(h)&&!Be(l)))return h.value=l,!0;const d=$t(o)&&Ua(s)?Number(s)<o.length:he(o,s),m=Reflect.set(o,s,l,c);return o===ue(c)&&(d?ro(l,h)&&er(o,"set",s,l):er(o,"add",s,l)),m}}function Ad(t,n){const o=he(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&er(t,"delete",n,void 0),s}function Rd(t,n){const o=Reflect.has(t,n);return(!Fa(n)||!Ru.has(n))&&rn(t,"has",n),o}function Bd(t){return rn(t,"iterate",$t(t)?"length":Ur),Reflect.ownKeys(t)}const Iu={get:Md,set:Td,deleteProperty:Ad,has:Rd,ownKeys:Bd},Id={get:Pd,set(t,n){return!0},deleteProperty(t,n){return!0}},Dd=je({},Iu,{get:Cd,set:Od}),Za=t=>t,fs=t=>Reflect.getPrototypeOf(t);function Do(t,n,o=!1,s=!1){t=t.__v_raw;const l=ue(t),c=ue(n);o||(n!==c&&rn(l,"get",n),rn(l,"get",c));const{has:h}=fs(l),d=s?Za:o?Wa:io;if(h.call(l,n))return d(t.get(n));if(h.call(l,c))return d(t.get(c));t!==l&&t.get(n)}function zo(t,n=!1){const o=this.__v_raw,s=ue(o),l=ue(t);return n||(t!==l&&rn(s,"has",t),rn(s,"has",l)),t===l?o.has(t):o.has(t)||o.has(l)}function jo(t,n=!1){return t=t.__v_raw,!n&&rn(ue(t),"iterate",Ur),Reflect.get(t,"size",t)}function Ql(t){t=ue(t);const n=ue(this);return fs(n).has.call(n,t)||(n.add(t),er(n,"add",t,t)),this}function tc(t,n){n=ue(n);const o=ue(this),{has:s,get:l}=fs(o);let c=s.call(o,t);c||(t=ue(t),c=s.call(o,t));const h=l.call(o,t);return o.set(t,n),c?ro(n,h)&&er(o,"set",t,n):er(o,"add",t,n),this}function ec(t){const n=ue(this),{has:o,get:s}=fs(n);let l=o.call(n,t);l||(t=ue(t),l=o.call(n,t)),s&&s.call(n,t);const c=n.delete(t);return l&&er(n,"delete",t,void 0),c}function nc(){const t=ue(this),n=t.size!==0,o=t.clear();return n&&er(t,"clear",void 0,void 0),o}function No(t,n){return function(s,l){const c=this,h=c.__v_raw,d=ue(h),m=n?Za:t?Wa:io;return!t&&rn(d,"iterate",Ur),h.forEach((g,y)=>s.call(l,m(g),m(y),c))}}function Ho(t,n,o){return function(...s){const l=this.__v_raw,c=ue(l),h=ui(c),d=t==="entries"||t===Symbol.iterator&&h,m=t==="keys"&&h,g=l[t](...s),y=o?Za:n?Wa:io;return!n&&rn(c,"iterate",m?ma:Ur),{next(){const{value:k,done:C}=g.next();return C?{value:k,done:C}:{value:d?[y(k[0]),y(k[1])]:y(k),done:C}},[Symbol.iterator](){return this}}}}function cr(t){return function(...n){return t==="delete"?!1:this}}function zd(){const t={get(c){return Do(this,c)},get size(){return jo(this)},has:zo,add:Ql,set:tc,delete:ec,clear:nc,forEach:No(!1,!1)},n={get(c){return Do(this,c,!1,!0)},get size(){return jo(this)},has:zo,add:Ql,set:tc,delete:ec,clear:nc,forEach:No(!1,!0)},o={get(c){return Do(this,c,!0)},get size(){return jo(this,!0)},has(c){return zo.call(this,c,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:No(!0,!1)},s={get(c){return Do(this,c,!0,!0)},get size(){return jo(this,!0)},has(c){return zo.call(this,c,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:No(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{t[c]=Ho(c,!1,!1),o[c]=Ho(c,!0,!1),n[c]=Ho(c,!1,!0),s[c]=Ho(c,!0,!0)}),[t,o,n,s]}const[jd,Nd,Hd,Fd]=zd();function qa(t,n){const o=n?t?Fd:Hd:t?Nd:jd;return(s,l,c)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?s:Reflect.get(he(o,l)&&l in s?o:s,l,c)}const Ud={get:qa(!1,!1)},Vd={get:qa(!1,!0)},Gd={get:qa(!0,!1)},Du=new WeakMap,zu=new WeakMap,ju=new WeakMap,$d=new WeakMap;function Zd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qd(t){return t.__v_skip||!Object.isExtensible(t)?0:Zd(cd(t))}function xi(t){return di(t)?t:Ka(t,!1,Iu,Ud,Du)}function Kd(t){return Ka(t,!1,Dd,Vd,zu)}function Nu(t){return Ka(t,!0,Id,Gd,ju)}function Ka(t,n,o,s,l){if(!Se(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const c=l.get(t);if(c)return c;const h=qd(t);if(h===0)return t;const d=new Proxy(t,h===2?s:o);return l.set(t,d),d}function vr(t){return di(t)?vr(t.__v_raw):!!(t&&t.__v_isReactive)}function di(t){return!!(t&&t.__v_isReadonly)}function es(t){return!!(t&&t.__v_isShallow)}function Hu(t){return vr(t)||di(t)}function ue(t){const n=t&&t.__v_raw;return n?ue(n):t}function ds(t){return Qo(t,"__v_skip",!0),t}const io=t=>Se(t)?xi(t):t,Wa=t=>Se(t)?Nu(t):t;function Fu(t){yr&&Pn&&(t=ue(t),Au(t.dep||(t.dep=Va())))}function Uu(t,n){t=ue(t);const o=t.dep;o&&ga(o)}function Be(t){return!!(t&&t.__v_isRef===!0)}function Xt(t){return Vu(t,!1)}function Wd(t){return Vu(t,!0)}function Vu(t,n){return Be(t)?t:new Jd(t,n)}class Jd{constructor(n,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?n:ue(n),this._value=o?n:io(n)}get value(){return Fu(this),this._value}set value(n){const o=this.__v_isShallow||es(n)||di(n);n=o?n:ue(n),ro(n,this._rawValue)&&(this._rawValue=n,this._value=o?n:io(n),Uu(this))}}function ge(t){return Be(t)?t.value:t}const Yd={get:(t,n,o)=>ge(Reflect.get(t,n,o)),set:(t,n,o,s)=>{const l=t[n];return Be(l)&&!Be(o)?(l.value=o,!0):Reflect.set(t,n,o,s)}};function Gu(t){return vr(t)?t:new Proxy(t,Yd)}function Xd(t){const n=$t(t)?new Array(t.length):{};for(const o in t)n[o]=tp(t,o);return n}class Qd{constructor(n,o,s){this._object=n,this._key=o,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return kd(ue(this._object),this._key)}}function tp(t,n,o){const s=t[n];return Be(s)?s:new Qd(t,n,o)}class ep{constructor(n,o,s,l){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ga(n,()=>{this._dirty||(this._dirty=!0,Uu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=s}get value(){const n=ue(this);return Fu(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function np(t,n,o=!1){let s,l;const c=ne(t);return c?(s=t,l=En):(s=t.get,l=t.set),new ep(s,l,c||!l,o)}function br(t,n,o,s){let l;try{l=s?t(...s):t()}catch(c){ps(c,n,o)}return l}function yn(t,n,o,s){if(ne(t)){const c=br(t,n,o,s);return c&&wu(c)&&c.catch(h=>{ps(h,n,o)}),c}const l=[];for(let c=0;c<t.length;c++)l.push(yn(t[c],n,o,s));return l}function ps(t,n,o,s=!0){const l=n?n.vnode:null;if(n){let c=n.parent;const h=n.proxy,d=o;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](t,h,d)===!1)return}c=c.parent}const m=n.appContext.config.errorHandler;if(m){br(m,null,10,[t,h,d]);return}}rp(t,o,l,s)}function rp(t,n,o,s=!0){console.error(t)}let oo=!1,_a=!1;const We=[];let Nn=0;const hi=[];let Qn=null,zr=0;const $u=Promise.resolve();let Ja=null;function ms(t){const n=Ja||$u;return t?n.then(this?t.bind(this):t):n}function ip(t){let n=Nn+1,o=We.length;for(;n<o;){const s=n+o>>>1;so(We[s])<t?n=s+1:o=s}return n}function Ya(t){(!We.length||!We.includes(t,oo&&t.allowRecurse?Nn+1:Nn))&&(t.id==null?We.push(t):We.splice(ip(t.id),0,t),Zu())}function Zu(){!oo&&!_a&&(_a=!0,Ja=$u.then(qu))}function op(t){const n=We.indexOf(t);n>Nn&&We.splice(n,1)}function sp(t){$t(t)?hi.push(...t):(!Qn||!Qn.includes(t,t.allowRecurse?zr+1:zr))&&hi.push(t),Zu()}function rc(t,n=oo?Nn+1:0){for(;n<We.length;n++){const o=We[n];o&&o.pre&&(We.splice(n,1),n--,o())}}function ns(t){if(hi.length){const n=[...new Set(hi)];if(hi.length=0,Qn){Qn.push(...n);return}for(Qn=n,Qn.sort((o,s)=>so(o)-so(s)),zr=0;zr<Qn.length;zr++)Qn[zr]();Qn=null,zr=0}}const so=t=>t.id==null?1/0:t.id,ap=(t,n)=>{const o=so(t)-so(n);if(o===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return o};function qu(t){_a=!1,oo=!0,We.sort(ap);const n=En;try{for(Nn=0;Nn<We.length;Nn++){const o=We[Nn];o&&o.active!==!1&&br(o,null,14)}}finally{Nn=0,We.length=0,ns(),oo=!1,Ja=null,(We.length||hi.length)&&qu()}}function lp(t,n,...o){if(t.isUnmounted)return;const s=t.vnode.props||Pe;let l=o;const c=n.startsWith("update:"),h=c&&n.slice(7);if(h&&h in s){const y=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:C}=s[y]||Pe;C&&(l=o.map(z=>De(z)?z.trim():z)),k&&(l=o.map(fa))}let d,m=s[d=qs(n)]||s[d=qs(Fn(n))];!m&&c&&(m=s[d=qs(vi(n))]),m&&yn(m,t,6,l);const g=s[d+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,yn(g,t,6,l)}}function Ku(t,n,o=!1){const s=n.emitsCache,l=s.get(t);if(l!==void 0)return l;const c=t.emits;let h={},d=!1;if(!ne(t)){const m=g=>{const y=Ku(g,n,!0);y&&(d=!0,je(h,y))};!o&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!c&&!d?(Se(t)&&s.set(t,null),null):($t(c)?c.forEach(m=>h[m]=null):je(h,c),Se(t)&&s.set(t,h),h)}function gs(t,n){return!t||!fo(n)?!1:(n=n.slice(2).replace(/Once$/,""),he(t,n[0].toLowerCase()+n.slice(1))||he(t,vi(n))||he(t,n))}let Ge=null,_s=null;function rs(t){const n=Ge;return Ge=t,_s=t&&t.type.__scopeId||null,n}function cp(t){_s=t}function up(){_s=null}function Ht(t,n=Ge,o){if(!n||t._n)return t;const s=(...l)=>{s._d&&mc(-1);const c=rs(n);let h;try{h=t(...l)}finally{rs(c),s._d&&mc(1)}return h};return s._n=!0,s._c=!0,s._d=!0,s}function Ks(t){const{type:n,vnode:o,proxy:s,withProxy:l,props:c,propsOptions:[h],slots:d,attrs:m,emit:g,render:y,renderCache:k,data:C,setupState:z,ctx:T,inheritAttrs:S}=t;let $,E;const O=rs(t);try{if(o.shapeFlag&4){const P=l||s;$=Cn(y.call(P,P,k,c,z,C,T)),E=m}else{const P=n;$=Cn(P.length>1?P(c,{attrs:m,slots:d,emit:g}):P(c,null)),E=n.props?m:hp(m)}}catch(P){Qi.length=0,ps(P,t,1),$=Lt(cn)}let H=$;if(E&&S!==!1){const P=Object.keys(E),{shapeFlag:I}=H;P.length&&I&7&&(h&&P.some(Na)&&(E=fp(E,h)),H=xr(H,E))}return o.dirs&&(H=xr(H),H.dirs=H.dirs?H.dirs.concat(o.dirs):o.dirs),o.transition&&(H.transition=o.transition),$=H,rs(O),$}const hp=t=>{let n;for(const o in t)(o==="class"||o==="style"||fo(o))&&((n||(n={}))[o]=t[o]);return n},fp=(t,n)=>{const o={};for(const s in t)(!Na(s)||!(s.slice(9)in n))&&(o[s]=t[s]);return o};function dp(t,n,o){const{props:s,children:l,component:c}=t,{props:h,children:d,patchFlag:m}=n,g=c.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&m>=0){if(m&1024)return!0;if(m&16)return s?ic(s,h,g):!!h;if(m&8){const y=n.dynamicProps;for(let k=0;k<y.length;k++){const C=y[k];if(h[C]!==s[C]&&!gs(g,C))return!0}}}else return(l||d)&&(!d||!d.$stable)?!0:s===h?!1:s?h?ic(s,h,g):!0:!!h;return!1}function ic(t,n,o){const s=Object.keys(n);if(s.length!==Object.keys(t).length)return!0;for(let l=0;l<s.length;l++){const c=s[l];if(n[c]!==t[c]&&!gs(o,c))return!0}return!1}function pp({vnode:t,parent:n},o){for(;n&&n.subTree===t;)(t=n.vnode).el=o,n=n.parent}const mp=t=>t.__isSuspense;function Wu(t,n){n&&n.pendingBranch?$t(t)?n.effects.push(...t):n.effects.push(t):sp(t)}const Fo={};function Ie(t,n,o){return Ju(t,n,o)}function Ju(t,n,{immediate:o,deep:s,flush:l,onTrack:c,onTrigger:h}=Pe){var d;const m=Su()===((d=He)==null?void 0:d.scope)?He:null;let g,y=!1,k=!1;if(Be(t)?(g=()=>t.value,y=es(t)):vr(t)?(g=()=>t,s=!0):$t(t)?(k=!0,y=t.some(P=>vr(P)||es(P)),g=()=>t.map(P=>{if(Be(P))return P.value;if(vr(P))return Hr(P);if(ne(P))return br(P,m,2)})):ne(t)?n?g=()=>br(t,m,2):g=()=>{if(!(m&&m.isUnmounted))return C&&C(),yn(t,m,3,[z])}:g=En,n&&s){const P=g;g=()=>Hr(P())}let C,z=P=>{C=O.onStop=()=>{br(P,m,4)}},T;if(co)if(z=En,n?o&&yn(n,m,3,[g(),k?[]:void 0,z]):g(),l==="sync"){const P=cm();T=P.__watcherHandles||(P.__watcherHandles=[])}else return En;let S=k?new Array(t.length).fill(Fo):Fo;const $=()=>{if(O.active)if(n){const P=O.run();(s||y||(k?P.some((I,K)=>ro(I,S[K])):ro(P,S)))&&(C&&C(),yn(n,m,3,[P,S===Fo?void 0:k&&S[0]===Fo?[]:S,z]),S=P)}else O.run()};$.allowRecurse=!!n;let E;l==="sync"?E=$:l==="post"?E=()=>nn($,m&&m.suspense):($.pre=!0,m&&($.id=m.uid),E=()=>Ya($));const O=new Ga(g,E);n?o?$():S=O.run():l==="post"?nn(O.run.bind(O),m&&m.suspense):O.run();const H=()=>{O.stop(),m&&m.scope&&Ha(m.scope.effects,O)};return T&&T.push(H),H}function gp(t,n,o){const s=this.proxy,l=De(t)?t.includes(".")?Yu(s,t):()=>s[t]:t.bind(s,s);let c;ne(n)?c=n:(c=n.handler,o=n);const h=He;mi(this);const d=Ju(l,c.bind(s),o);return h?mi(h):Vr(),d}function Yu(t,n){const o=n.split(".");return()=>{let s=t;for(let l=0;l<o.length&&s;l++)s=s[o[l]];return s}}function Hr(t,n){if(!Se(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Be(t))Hr(t.value,n);else if($t(t))for(let o=0;o<t.length;o++)Hr(t[o],n);else if(bu(t)||ui(t))t.forEach(o=>{Hr(o,n)});else if(ku(t))for(const o in t)Hr(t[o],n);return t}function Xa(t,n){const o=Ge;if(o===null)return t;const s=ws(o)||o.proxy,l=t.dirs||(t.dirs=[]);for(let c=0;c<n.length;c++){let[h,d,m,g=Pe]=n[c];h&&(ne(h)&&(h={mounted:h,updated:h}),h.deep&&Hr(d),l.push({dir:h,instance:s,value:d,oldValue:void 0,arg:m,modifiers:g}))}return t}function jn(t,n,o,s){const l=t.dirs,c=n&&n.dirs;for(let h=0;h<l.length;h++){const d=l[h];c&&(d.oldValue=c[h].value);let m=d.dir[s];m&&(bi(),yn(m,o,8,[t.el,d,t,n]),wi())}}function _p(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{t.isMounted=!0}),rh(()=>{t.isUnmounting=!0}),t}const gn=[Function,Array],Xu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gn,onEnter:gn,onAfterEnter:gn,onEnterCancelled:gn,onBeforeLeave:gn,onLeave:gn,onAfterLeave:gn,onLeaveCancelled:gn,onBeforeAppear:gn,onAppear:gn,onAfterAppear:gn,onAppearCancelled:gn},yp={name:"BaseTransition",props:Xu,setup(t,{slots:n}){const o=_h(),s=_p();let l;return()=>{const c=n.default&&th(n.default(),!0);if(!c||!c.length)return;let h=c[0];if(c.length>1){for(const S of c)if(S.type!==cn){h=S;break}}const d=ue(t),{mode:m}=d;if(s.isLeaving)return Ws(h);const g=oc(h);if(!g)return Ws(h);const y=ya(g,d,s,o);va(g,y);const k=o.subTree,C=k&&oc(k);let z=!1;const{getTransitionKey:T}=g.type;if(T){const S=T();l===void 0?l=S:S!==l&&(l=S,z=!0)}if(C&&C.type!==cn&&(!jr(g,C)||z)){const S=ya(C,d,s,o);if(va(C,S),m==="out-in")return s.isLeaving=!0,S.afterLeave=()=>{s.isLeaving=!1,o.update.active!==!1&&o.update()},Ws(h);m==="in-out"&&g.type!==cn&&(S.delayLeave=($,E,O)=>{const H=Qu(s,C);H[String(C.key)]=C,$._leaveCb=()=>{E(),$._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=O})}return h}}},vp=yp;function Qu(t,n){const{leavingVNodes:o}=t;let s=o.get(n.type);return s||(s=Object.create(null),o.set(n.type,s)),s}function ya(t,n,o,s){const{appear:l,mode:c,persisted:h=!1,onBeforeEnter:d,onEnter:m,onAfterEnter:g,onEnterCancelled:y,onBeforeLeave:k,onLeave:C,onAfterLeave:z,onLeaveCancelled:T,onBeforeAppear:S,onAppear:$,onAfterAppear:E,onAppearCancelled:O}=n,H=String(t.key),P=Qu(o,t),I=(W,et)=>{W&&yn(W,s,9,et)},K=(W,et)=>{const st=et[1];I(W,et),$t(W)?W.every(ft=>ft.length<=1)&&st():W.length<=1&&st()},nt={mode:c,persisted:h,beforeEnter(W){let et=d;if(!o.isMounted)if(l)et=S||d;else return;W._leaveCb&&W._leaveCb(!0);const st=P[H];st&&jr(t,st)&&st.el._leaveCb&&st.el._leaveCb(),I(et,[W])},enter(W){let et=m,st=g,ft=y;if(!o.isMounted)if(l)et=$||m,st=E||g,ft=O||y;else return;let it=!1;const gt=W._enterCb=bt=>{it||(it=!0,bt?I(ft,[W]):I(st,[W]),nt.delayedLeave&&nt.delayedLeave(),W._enterCb=void 0)};et?K(et,[W,gt]):gt()},leave(W,et){const st=String(t.key);if(W._enterCb&&W._enterCb(!0),o.isUnmounting)return et();I(k,[W]);let ft=!1;const it=W._leaveCb=gt=>{ft||(ft=!0,et(),gt?I(T,[W]):I(z,[W]),W._leaveCb=void 0,P[st]===t&&delete P[st])};P[st]=t,C?K(C,[W,it]):it()},clone(W){return ya(W,n,o,s)}};return nt}function Ws(t){if(ys(t))return t=xr(t),t.children=null,t}function oc(t){return ys(t)?t.children?t.children[0]:void 0:t}function va(t,n){t.shapeFlag&6&&t.component?va(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function th(t,n=!1,o){let s=[],l=0;for(let c=0;c<t.length;c++){let h=t[c];const d=o==null?h.key:String(o)+String(h.key!=null?h.key:c);h.type===Jt?(h.patchFlag&128&&l++,s=s.concat(th(h.children,n,d))):(n||h.type!==cn)&&s.push(d!=null?xr(h,{key:d}):h)}if(l>1)for(let c=0;c<s.length;c++)s[c].patchFlag=-2;return s}function eh(t,n){return ne(t)?(()=>je({name:t.name},n,{setup:t}))():t}const fi=t=>!!t.type.__asyncLoader,ys=t=>t.type.__isKeepAlive;function bp(t,n){nh(t,"a",n)}function wp(t,n){nh(t,"da",n)}function nh(t,n,o=He){const s=t.__wdc||(t.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(vs(n,s,o),o){let l=o.parent;for(;l&&l.parent;)ys(l.parent.vnode)&&xp(s,n,o,l),l=l.parent}}function xp(t,n,o,s){const l=vs(n,t,s,!0);ki(()=>{Ha(s[n],l)},o)}function vs(t,n,o=He,s=!1){if(o){const l=o[t]||(o[t]=[]),c=n.__weh||(n.__weh=(...h)=>{if(o.isUnmounted)return;bi(),mi(o);const d=yn(n,o,t,h);return Vr(),wi(),d});return s?l.unshift(c):l.push(c),c}}const nr=t=>(n,o=He)=>(!co||t==="sp")&&vs(t,(...s)=>n(...s),o),kp=nr("bm"),On=nr("m"),Lp=nr("bu"),Mp=nr("u"),rh=nr("bum"),ki=nr("um"),Qa=nr("sp"),Cp=nr("rtg"),Pp=nr("rtc");function Sp(t,n=He){vs("ec",t,n)}const tl="components";function Ot(t,n){return oh(tl,t,!0,n)||t}const ih=Symbol.for("v-ndc");function ba(t){return De(t)?oh(tl,t,!1)||t:t||ih}function oh(t,n,o=!0,s=!1){const l=Ge||He;if(l){const c=l.type;if(t===tl){const d=sm(c,!1);if(d&&(d===n||d===Fn(n)||d===hs(Fn(n))))return c}const h=sc(l[t]||c[t],n)||sc(l.appContext[t],n);return!h&&s?c:h}}function sc(t,n){return t&&(t[n]||t[Fn(n)]||t[hs(Fn(n))])}function Te(t,n,o,s){let l;const c=o&&o[s];if($t(t)||De(t)){l=new Array(t.length);for(let h=0,d=t.length;h<d;h++)l[h]=n(t[h],h,void 0,c&&c[h])}else if(typeof t=="number"){l=new Array(t);for(let h=0;h<t;h++)l[h]=n(h+1,h,void 0,c&&c[h])}else if(Se(t))if(t[Symbol.iterator])l=Array.from(t,(h,d)=>n(h,d,void 0,c&&c[d]));else{const h=Object.keys(t);l=new Array(h.length);for(let d=0,m=h.length;d<m;d++){const g=h[d];l[d]=n(t[g],g,d,c&&c[d])}}else l=[];return o&&(o[s]=l),l}function Re(t,n,o={},s,l){if(Ge.isCE||Ge.parent&&fi(Ge.parent)&&Ge.parent.isCE)return n!=="default"&&(o.name=n),Lt("slot",o,s&&s());let c=t[n];c&&c._c&&(c._d=!1),Y();const h=c&&sh(c(o)),d=Vt(Jt,{key:o.key||h&&h.key||`_${n}`},h||(s?s():[]),h&&t._===1?64:-2);return!l&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),c&&c._c&&(c._d=!0),d}function sh(t){return t.some(n=>ss(n)?!(n.type===cn||n.type===Jt&&!sh(n.children)):!0)?t:null}const wa=t=>t?yh(t)?ws(t)||t.proxy:wa(t.parent):null,Yi=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wa(t.parent),$root:t=>wa(t.root),$emit:t=>t.emit,$options:t=>el(t),$forceUpdate:t=>t.f||(t.f=()=>Ya(t.update)),$nextTick:t=>t.n||(t.n=ms.bind(t.proxy)),$watch:t=>gp.bind(t)}),Js=(t,n)=>t!==Pe&&!t.__isScriptSetup&&he(t,n),Ep={get({_:t},n){const{ctx:o,setupState:s,data:l,props:c,accessCache:h,type:d,appContext:m}=t;let g;if(n[0]!=="$"){const z=h[n];if(z!==void 0)switch(z){case 1:return s[n];case 2:return l[n];case 4:return o[n];case 3:return c[n]}else{if(Js(s,n))return h[n]=1,s[n];if(l!==Pe&&he(l,n))return h[n]=2,l[n];if((g=t.propsOptions[0])&&he(g,n))return h[n]=3,c[n];if(o!==Pe&&he(o,n))return h[n]=4,o[n];xa&&(h[n]=0)}}const y=Yi[n];let k,C;if(y)return n==="$attrs"&&rn(t,"get",n),y(t);if((k=d.__cssModules)&&(k=k[n]))return k;if(o!==Pe&&he(o,n))return h[n]=4,o[n];if(C=m.config.globalProperties,he(C,n))return C[n]},set({_:t},n,o){const{data:s,setupState:l,ctx:c}=t;return Js(l,n)?(l[n]=o,!0):s!==Pe&&he(s,n)?(s[n]=o,!0):he(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(c[n]=o,!0)},has({_:{data:t,setupState:n,accessCache:o,ctx:s,appContext:l,propsOptions:c}},h){let d;return!!o[h]||t!==Pe&&he(t,h)||Js(n,h)||(d=c[0])&&he(d,h)||he(s,h)||he(Yi,h)||he(l.config.globalProperties,h)},defineProperty(t,n,o){return o.get!=null?t._.accessCache[n]=0:he(o,"value")&&this.set(t,n,o.value,null),Reflect.defineProperty(t,n,o)}};function Tp(){return Op().slots}function Op(){const t=_h();return t.setupContext||(t.setupContext=bh(t))}function ac(t){return $t(t)?t.reduce((n,o)=>(n[o]=null,n),{}):t}let xa=!0;function Ap(t){const n=el(t),o=t.proxy,s=t.ctx;xa=!1,n.beforeCreate&&lc(n.beforeCreate,t,"bc");const{data:l,computed:c,methods:h,watch:d,provide:m,inject:g,created:y,beforeMount:k,mounted:C,beforeUpdate:z,updated:T,activated:S,deactivated:$,beforeDestroy:E,beforeUnmount:O,destroyed:H,unmounted:P,render:I,renderTracked:K,renderTriggered:nt,errorCaptured:W,serverPrefetch:et,expose:st,inheritAttrs:ft,components:it,directives:gt,filters:bt}=n;if(g&&Rp(g,s,null),h)for(const Nt in h){const _t=h[Nt];ne(_t)&&(s[Nt]=_t.bind(o))}if(l){const Nt=l.call(o,o);Se(Nt)&&(t.data=xi(Nt))}if(xa=!0,c)for(const Nt in c){const _t=c[Nt],le=ne(_t)?_t.bind(o,o):ne(_t.get)?_t.get.bind(o,o):En,Bt=!ne(_t)&&ne(_t.set)?_t.set.bind(o):En,At=pe({get:le,set:Bt});Object.defineProperty(s,Nt,{enumerable:!0,configurable:!0,get:()=>At.value,set:Ft=>At.value=Ft})}if(d)for(const Nt in d)ah(d[Nt],s,o,Nt);if(m){const Nt=ne(m)?m.call(o):m;Reflect.ownKeys(Nt).forEach(_t=>{qo(_t,Nt[_t])})}y&&lc(y,t,"c");function kt(Nt,_t){$t(_t)?_t.forEach(le=>Nt(le.bind(o))):_t&&Nt(_t.bind(o))}if(kt(kp,k),kt(On,C),kt(Lp,z),kt(Mp,T),kt(bp,S),kt(wp,$),kt(Sp,W),kt(Pp,K),kt(Cp,nt),kt(rh,O),kt(ki,P),kt(Qa,et),$t(st))if(st.length){const Nt=t.exposed||(t.exposed={});st.forEach(_t=>{Object.defineProperty(Nt,_t,{get:()=>o[_t],set:le=>o[_t]=le})})}else t.exposed||(t.exposed={});I&&t.render===En&&(t.render=I),ft!=null&&(t.inheritAttrs=ft),it&&(t.components=it),gt&&(t.directives=gt)}function Rp(t,n,o=En){$t(t)&&(t=ka(t));for(const s in t){const l=t[s];let c;Se(l)?"default"in l?c=vn(l.from||s,l.default,!0):c=vn(l.from||s):c=vn(l),Be(c)?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>c.value,set:h=>c.value=h}):n[s]=c}}function lc(t,n,o){yn($t(t)?t.map(s=>s.bind(n.proxy)):t.bind(n.proxy),n,o)}function ah(t,n,o,s){const l=s.includes(".")?Yu(o,s):()=>o[s];if(De(t)){const c=n[t];ne(c)&&Ie(l,c)}else if(ne(t))Ie(l,t.bind(o));else if(Se(t))if($t(t))t.forEach(c=>ah(c,n,o,s));else{const c=ne(t.handler)?t.handler.bind(o):n[t.handler];ne(c)&&Ie(l,c,t)}}function el(t){const n=t.type,{mixins:o,extends:s}=n,{mixins:l,optionsCache:c,config:{optionMergeStrategies:h}}=t.appContext,d=c.get(n);let m;return d?m=d:!l.length&&!o&&!s?m=n:(m={},l.length&&l.forEach(g=>is(m,g,h,!0)),is(m,n,h)),Se(n)&&c.set(n,m),m}function is(t,n,o,s=!1){const{mixins:l,extends:c}=n;c&&is(t,c,o,!0),l&&l.forEach(h=>is(t,h,o,!0));for(const h in n)if(!(s&&h==="expose")){const d=Bp[h]||o&&o[h];t[h]=d?d(t[h],n[h]):n[h]}return t}const Bp={data:cc,props:uc,emits:uc,methods:Wi,computed:Wi,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:Wi,directives:Wi,watch:Dp,provide:cc,inject:Ip};function cc(t,n){return n?t?function(){return je(ne(t)?t.call(this,this):t,ne(n)?n.call(this,this):n)}:n:t}function Ip(t,n){return Wi(ka(t),ka(n))}function ka(t){if($t(t)){const n={};for(let o=0;o<t.length;o++)n[t[o]]=t[o];return n}return t}function Ye(t,n){return t?[...new Set([].concat(t,n))]:n}function Wi(t,n){return t?je(Object.create(null),t,n):n}function uc(t,n){return t?$t(t)&&$t(n)?[...new Set([...t,...n])]:je(Object.create(null),ac(t),ac(n??{})):n}function Dp(t,n){if(!t)return n;if(!n)return t;const o=je(Object.create(null),t);for(const s in n)o[s]=Ye(t[s],n[s]);return o}function lh(){return{app:null,config:{isNativeTag:sd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zp=0;function jp(t,n){return function(s,l=null){ne(s)||(s=je({},s)),l!=null&&!Se(l)&&(l=null);const c=lh(),h=new Set;let d=!1;const m=c.app={_uid:zp++,_component:s,_props:l,_container:null,_context:c,_instance:null,version:um,get config(){return c.config},set config(g){},use(g,...y){return h.has(g)||(g&&ne(g.install)?(h.add(g),g.install(m,...y)):ne(g)&&(h.add(g),g(m,...y))),m},mixin(g){return c.mixins.includes(g)||c.mixins.push(g),m},component(g,y){return y?(c.components[g]=y,m):c.components[g]},directive(g,y){return y?(c.directives[g]=y,m):c.directives[g]},mount(g,y,k){if(!d){const C=Lt(s,l);return C.appContext=c,y&&n?n(C,g):t(C,g,k),d=!0,m._container=g,g.__vue_app__=m,ws(C.component)||C.component.proxy}},unmount(){d&&(t(null,m._container),delete m._container.__vue_app__)},provide(g,y){return c.provides[g]=y,m},runWithContext(g){ao=m;try{return g()}finally{ao=null}}};return m}}let ao=null;function qo(t,n){if(He){let o=He.provides;const s=He.parent&&He.parent.provides;s===o&&(o=He.provides=Object.create(s)),o[t]=n}}function vn(t,n,o=!1){const s=He||Ge;if(s||ao){const l=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ao._context.provides;if(l&&t in l)return l[t];if(arguments.length>1)return o&&ne(n)?n.call(s&&s.proxy):n}}function Np(){return!!(He||Ge||ao)}function Hp(t,n,o,s=!1){const l={},c={};Qo(c,bs,1),t.propsDefaults=Object.create(null),ch(t,n,l,c);for(const h in t.propsOptions[0])h in l||(l[h]=void 0);o?t.props=s?l:Kd(l):t.type.props?t.props=l:t.props=c,t.attrs=c}function Fp(t,n,o,s){const{props:l,attrs:c,vnode:{patchFlag:h}}=t,d=ue(l),[m]=t.propsOptions;let g=!1;if((s||h>0)&&!(h&16)){if(h&8){const y=t.vnode.dynamicProps;for(let k=0;k<y.length;k++){let C=y[k];if(gs(t.emitsOptions,C))continue;const z=n[C];if(m)if(he(c,C))z!==c[C]&&(c[C]=z,g=!0);else{const T=Fn(C);l[T]=La(m,d,T,z,t,!1)}else z!==c[C]&&(c[C]=z,g=!0)}}}else{ch(t,n,l,c)&&(g=!0);let y;for(const k in d)(!n||!he(n,k)&&((y=vi(k))===k||!he(n,y)))&&(m?o&&(o[k]!==void 0||o[y]!==void 0)&&(l[k]=La(m,d,k,void 0,t,!0)):delete l[k]);if(c!==d)for(const k in c)(!n||!he(n,k))&&(delete c[k],g=!0)}g&&er(t,"set","$attrs")}function ch(t,n,o,s){const[l,c]=t.propsOptions;let h=!1,d;if(n)for(let m in n){if(Ji(m))continue;const g=n[m];let y;l&&he(l,y=Fn(m))?!c||!c.includes(y)?o[y]=g:(d||(d={}))[y]=g:gs(t.emitsOptions,m)||(!(m in s)||g!==s[m])&&(s[m]=g,h=!0)}if(c){const m=ue(o),g=d||Pe;for(let y=0;y<c.length;y++){const k=c[y];o[k]=La(l,m,k,g[k],t,!he(g,k))}}return h}function La(t,n,o,s,l,c){const h=t[o];if(h!=null){const d=he(h,"default");if(d&&s===void 0){const m=h.default;if(h.type!==Function&&!h.skipFactory&&ne(m)){const{propsDefaults:g}=l;o in g?s=g[o]:(mi(l),s=g[o]=m.call(null,n),Vr())}else s=m}h[0]&&(c&&!d?s=!1:h[1]&&(s===""||s===vi(o))&&(s=!0))}return s}function uh(t,n,o=!1){const s=n.propsCache,l=s.get(t);if(l)return l;const c=t.props,h={},d=[];let m=!1;if(!ne(t)){const y=k=>{m=!0;const[C,z]=uh(k,n,!0);je(h,C),z&&d.push(...z)};!o&&n.mixins.length&&n.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!c&&!m)return Se(t)&&s.set(t,ci),ci;if($t(c))for(let y=0;y<c.length;y++){const k=Fn(c[y]);hc(k)&&(h[k]=Pe)}else if(c)for(const y in c){const k=Fn(y);if(hc(k)){const C=c[y],z=h[k]=$t(C)||ne(C)?{type:C}:je({},C);if(z){const T=pc(Boolean,z.type),S=pc(String,z.type);z[0]=T>-1,z[1]=S<0||T<S,(T>-1||he(z,"default"))&&d.push(k)}}}const g=[h,d];return Se(t)&&s.set(t,g),g}function hc(t){return t[0]!=="$"}function fc(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function dc(t,n){return fc(t)===fc(n)}function pc(t,n){return $t(n)?n.findIndex(o=>dc(o,t)):ne(n)&&dc(n,t)?0:-1}const hh=t=>t[0]==="_"||t==="$stable",nl=t=>$t(t)?t.map(Cn):[Cn(t)],Up=(t,n,o)=>{if(n._n)return n;const s=Ht((...l)=>nl(n(...l)),o);return s._c=!1,s},fh=(t,n,o)=>{const s=t._ctx;for(const l in t){if(hh(l))continue;const c=t[l];if(ne(c))n[l]=Up(l,c,s);else if(c!=null){const h=nl(c);n[l]=()=>h}}},dh=(t,n)=>{const o=nl(n);t.slots.default=()=>o},Vp=(t,n)=>{if(t.vnode.shapeFlag&32){const o=n._;o?(t.slots=ue(n),Qo(n,"_",o)):fh(n,t.slots={})}else t.slots={},n&&dh(t,n);Qo(t.slots,bs,1)},Gp=(t,n,o)=>{const{vnode:s,slots:l}=t;let c=!0,h=Pe;if(s.shapeFlag&32){const d=n._;d?o&&d===1?c=!1:(je(l,n),!o&&d===1&&delete l._):(c=!n.$stable,fh(n,l)),h=n}else n&&(dh(t,n),h={default:1});if(c)for(const d in l)!hh(d)&&!(d in h)&&delete l[d]};function os(t,n,o,s,l=!1){if($t(t)){t.forEach((C,z)=>os(C,n&&($t(n)?n[z]:n),o,s,l));return}if(fi(s)&&!l)return;const c=s.shapeFlag&4?ws(s.component)||s.component.proxy:s.el,h=l?null:c,{i:d,r:m}=t,g=n&&n.r,y=d.refs===Pe?d.refs={}:d.refs,k=d.setupState;if(g!=null&&g!==m&&(De(g)?(y[g]=null,he(k,g)&&(k[g]=null)):Be(g)&&(g.value=null)),ne(m))br(m,d,12,[h,y]);else{const C=De(m),z=Be(m);if(C||z){const T=()=>{if(t.f){const S=C?he(k,m)?k[m]:y[m]:m.value;l?$t(S)&&Ha(S,c):$t(S)?S.includes(c)||S.push(c):C?(y[m]=[c],he(k,m)&&(k[m]=y[m])):(m.value=[c],t.k&&(y[t.k]=m.value))}else C?(y[m]=h,he(k,m)&&(k[m]=h)):z&&(m.value=h,t.k&&(y[t.k]=h))};h?(T.id=-1,nn(T,o)):T()}}}let ur=!1;const Uo=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Vo=t=>t.nodeType===8;function $p(t){const{mt:n,p:o,o:{patchProp:s,createText:l,nextSibling:c,parentNode:h,remove:d,insert:m,createComment:g}}=t,y=(E,O)=>{if(!O.hasChildNodes()){o(null,E,O),ns(),O._vnode=E;return}ur=!1,k(O.firstChild,E,null,null,null),ns(),O._vnode=E,ur&&console.error("Hydration completed but contains mismatches.")},k=(E,O,H,P,I,K=!1)=>{const nt=Vo(E)&&E.data==="[",W=()=>S(E,O,H,P,I,nt),{type:et,ref:st,shapeFlag:ft,patchFlag:it}=O;let gt=E.nodeType;O.el=E,it===-2&&(K=!1,O.dynamicChildren=null);let bt=null;switch(et){case pi:gt!==3?O.children===""?(m(O.el=l(""),h(E),E),bt=E):bt=W():(E.data!==O.children&&(ur=!0,E.data=O.children),bt=c(E));break;case cn:gt!==8||nt?bt=W():bt=c(E);break;case Xi:if(nt&&(E=c(E),gt=E.nodeType),gt===1||gt===3){bt=E;const Pt=!O.children.length;for(let kt=0;kt<O.staticCount;kt++)Pt&&(O.children+=bt.nodeType===1?bt.outerHTML:bt.data),kt===O.staticCount-1&&(O.anchor=bt),bt=c(bt);return nt?c(bt):bt}else W();break;case Jt:nt?bt=T(E,O,H,P,I,K):bt=W();break;default:if(ft&1)gt!==1||O.type.toLowerCase()!==E.tagName.toLowerCase()?bt=W():bt=C(E,O,H,P,I,K);else if(ft&6){O.slotScopeIds=I;const Pt=h(E);if(n(O,Pt,null,H,P,Uo(Pt),K),bt=nt?$(E):c(E),bt&&Vo(bt)&&bt.data==="teleport end"&&(bt=c(bt)),fi(O)){let kt;nt?(kt=Lt(Jt),kt.anchor=bt?bt.previousSibling:Pt.lastChild):kt=E.nodeType===3?un(""):Lt("div"),kt.el=E,O.component.subTree=kt}}else ft&64?gt!==8?bt=W():bt=O.type.hydrate(E,O,H,P,I,K,t,z):ft&128&&(bt=O.type.hydrate(E,O,H,P,Uo(h(E)),I,K,t,k))}return st!=null&&os(st,null,P,O),bt},C=(E,O,H,P,I,K)=>{K=K||!!O.dynamicChildren;const{type:nt,props:W,patchFlag:et,shapeFlag:st,dirs:ft}=O,it=nt==="input"&&ft||nt==="option";if(it||et!==-1){if(ft&&jn(O,null,H,"created"),W)if(it||!K||et&48)for(const bt in W)(it&&bt.endsWith("value")||fo(bt)&&!Ji(bt))&&s(E,bt,null,W[bt],!1,void 0,H);else W.onClick&&s(E,"onClick",null,W.onClick,!1,void 0,H);let gt;if((gt=W&&W.onVnodeBeforeMount)&&_n(gt,H,O),ft&&jn(O,null,H,"beforeMount"),((gt=W&&W.onVnodeMounted)||ft)&&Wu(()=>{gt&&_n(gt,H,O),ft&&jn(O,null,H,"mounted")},P),st&16&&!(W&&(W.innerHTML||W.textContent))){let bt=z(E.firstChild,O,E,H,P,I,K);for(;bt;){ur=!0;const Pt=bt;bt=bt.nextSibling,d(Pt)}}else st&8&&E.textContent!==O.children&&(ur=!0,E.textContent=O.children)}return E.nextSibling},z=(E,O,H,P,I,K,nt)=>{nt=nt||!!O.dynamicChildren;const W=O.children,et=W.length;for(let st=0;st<et;st++){const ft=nt?W[st]:W[st]=Cn(W[st]);if(E)E=k(E,ft,P,I,K,nt);else{if(ft.type===pi&&!ft.children)continue;ur=!0,o(null,ft,H,null,P,I,Uo(H),K)}}return E},T=(E,O,H,P,I,K)=>{const{slotScopeIds:nt}=O;nt&&(I=I?I.concat(nt):nt);const W=h(E),et=z(c(E),O,W,H,P,I,K);return et&&Vo(et)&&et.data==="]"?c(O.anchor=et):(ur=!0,m(O.anchor=g("]"),W,et),et)},S=(E,O,H,P,I,K)=>{if(ur=!0,O.el=null,K){const et=$(E);for(;;){const st=c(E);if(st&&st!==et)d(st);else break}}const nt=c(E),W=h(E);return d(E),o(null,O,W,nt,H,P,Uo(W),I),nt},$=E=>{let O=0;for(;E;)if(E=c(E),E&&Vo(E)&&(E.data==="["&&O++,E.data==="]")){if(O===0)return c(E);O--}return E};return[y,k]}const nn=Wu;function Zp(t){return qp(t,$p)}function qp(t,n){const o=da();o.__VUE__=!0;const{insert:s,remove:l,patchProp:c,createElement:h,createText:d,createComment:m,setText:g,setElementText:y,parentNode:k,nextSibling:C,setScopeId:z=En,insertStaticContent:T}=t,S=(U,q,J,ct=null,pt=null,yt=null,Et=!1,B=null,b=!!q.dynamicChildren)=>{if(U===q)return;U&&!jr(U,q)&&(ct=lt(U),Ft(U,pt,yt,!0),U=null),q.patchFlag===-2&&(b=!1,q.dynamicChildren=null);const{type:x,ref:A,shapeFlag:D}=q;switch(x){case pi:$(U,q,J,ct);break;case cn:E(U,q,J,ct);break;case Xi:U==null&&O(q,J,ct,Et);break;case Jt:it(U,q,J,ct,pt,yt,Et,B,b);break;default:D&1?I(U,q,J,ct,pt,yt,Et,B,b):D&6?gt(U,q,J,ct,pt,yt,Et,B,b):(D&64||D&128)&&x.process(U,q,J,ct,pt,yt,Et,B,b,Ct)}A!=null&&pt&&os(A,U&&U.ref,yt,q||U,!q)},$=(U,q,J,ct)=>{if(U==null)s(q.el=d(q.children),J,ct);else{const pt=q.el=U.el;q.children!==U.children&&g(pt,q.children)}},E=(U,q,J,ct)=>{U==null?s(q.el=m(q.children||""),J,ct):q.el=U.el},O=(U,q,J,ct)=>{[U.el,U.anchor]=T(U.children,q,J,ct,U.el,U.anchor)},H=({el:U,anchor:q},J,ct)=>{let pt;for(;U&&U!==q;)pt=C(U),s(U,J,ct),U=pt;s(q,J,ct)},P=({el:U,anchor:q})=>{let J;for(;U&&U!==q;)J=C(U),l(U),U=J;l(q)},I=(U,q,J,ct,pt,yt,Et,B,b)=>{Et=Et||q.type==="svg",U==null?K(q,J,ct,pt,yt,Et,B,b):et(U,q,pt,yt,Et,B,b)},K=(U,q,J,ct,pt,yt,Et,B)=>{let b,x;const{type:A,props:D,shapeFlag:N,transition:Q,dirs:rt}=U;if(b=U.el=h(U.type,yt,D&&D.is,D),N&8?y(b,U.children):N&16&&W(U.children,b,null,ct,pt,yt&&A!=="foreignObject",Et,B),rt&&jn(U,null,ct,"created"),nt(b,U,U.scopeId,Et,ct),D){for(const St in D)St!=="value"&&!Ji(St)&&c(b,St,null,D[St],yt,U.children,ct,pt,zt);"value"in D&&c(b,"value",null,D.value),(x=D.onVnodeBeforeMount)&&_n(x,ct,U)}rt&&jn(U,null,ct,"beforeMount");const mt=(!pt||pt&&!pt.pendingBranch)&&Q&&!Q.persisted;mt&&Q.beforeEnter(b),s(b,q,J),((x=D&&D.onVnodeMounted)||mt||rt)&&nn(()=>{x&&_n(x,ct,U),mt&&Q.enter(b),rt&&jn(U,null,ct,"mounted")},pt)},nt=(U,q,J,ct,pt)=>{if(J&&z(U,J),ct)for(let yt=0;yt<ct.length;yt++)z(U,ct[yt]);if(pt){let yt=pt.subTree;if(q===yt){const Et=pt.vnode;nt(U,Et,Et.scopeId,Et.slotScopeIds,pt.parent)}}},W=(U,q,J,ct,pt,yt,Et,B,b=0)=>{for(let x=b;x<U.length;x++){const A=U[x]=B?gr(U[x]):Cn(U[x]);S(null,A,q,J,ct,pt,yt,Et,B)}},et=(U,q,J,ct,pt,yt,Et)=>{const B=q.el=U.el;let{patchFlag:b,dynamicChildren:x,dirs:A}=q;b|=U.patchFlag&16;const D=U.props||Pe,N=q.props||Pe;let Q;J&&Br(J,!1),(Q=N.onVnodeBeforeUpdate)&&_n(Q,J,q,U),A&&jn(q,U,J,"beforeUpdate"),J&&Br(J,!0);const rt=pt&&q.type!=="foreignObject";if(x?st(U.dynamicChildren,x,B,J,ct,rt,yt):Et||_t(U,q,B,null,J,ct,rt,yt,!1),b>0){if(b&16)ft(B,q,D,N,J,ct,pt);else if(b&2&&D.class!==N.class&&c(B,"class",null,N.class,pt),b&4&&c(B,"style",D.style,N.style,pt),b&8){const mt=q.dynamicProps;for(let St=0;St<mt.length;St++){const Dt=mt[St],Zt=D[Dt],Wt=N[Dt];(Wt!==Zt||Dt==="value")&&c(B,Dt,Zt,Wt,pt,U.children,J,ct,zt)}}b&1&&U.children!==q.children&&y(B,q.children)}else!Et&&x==null&&ft(B,q,D,N,J,ct,pt);((Q=N.onVnodeUpdated)||A)&&nn(()=>{Q&&_n(Q,J,q,U),A&&jn(q,U,J,"updated")},ct)},st=(U,q,J,ct,pt,yt,Et)=>{for(let B=0;B<q.length;B++){const b=U[B],x=q[B],A=b.el&&(b.type===Jt||!jr(b,x)||b.shapeFlag&70)?k(b.el):J;S(b,x,A,null,ct,pt,yt,Et,!0)}},ft=(U,q,J,ct,pt,yt,Et)=>{if(J!==ct){if(J!==Pe)for(const B in J)!Ji(B)&&!(B in ct)&&c(U,B,J[B],null,Et,q.children,pt,yt,zt);for(const B in ct){if(Ji(B))continue;const b=ct[B],x=J[B];b!==x&&B!=="value"&&c(U,B,x,b,Et,q.children,pt,yt,zt)}"value"in ct&&c(U,"value",J.value,ct.value)}},it=(U,q,J,ct,pt,yt,Et,B,b)=>{const x=q.el=U?U.el:d(""),A=q.anchor=U?U.anchor:d("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:Q}=q;Q&&(B=B?B.concat(Q):Q),U==null?(s(x,J,ct),s(A,J,ct),W(q.children,J,A,pt,yt,Et,B,b)):D>0&&D&64&&N&&U.dynamicChildren?(st(U.dynamicChildren,N,J,pt,yt,Et,B),(q.key!=null||pt&&q===pt.subTree)&&ph(U,q,!0)):_t(U,q,J,A,pt,yt,Et,B,b)},gt=(U,q,J,ct,pt,yt,Et,B,b)=>{q.slotScopeIds=B,U==null?q.shapeFlag&512?pt.ctx.activate(q,J,ct,Et,b):bt(q,J,ct,pt,yt,Et,b):Pt(U,q,b)},bt=(U,q,J,ct,pt,yt,Et)=>{const B=U.component=nm(U,ct,pt);if(ys(U)&&(B.ctx.renderer=Ct),rm(B),B.asyncDep){if(pt&&pt.registerDep(B,kt),!U.el){const b=B.subTree=Lt(cn);E(null,b,q,J)}return}kt(B,U,q,J,pt,yt,Et)},Pt=(U,q,J)=>{const ct=q.component=U.component;if(dp(U,q,J))if(ct.asyncDep&&!ct.asyncResolved){Nt(ct,q,J);return}else ct.next=q,op(ct.update),ct.update();else q.el=U.el,ct.vnode=q},kt=(U,q,J,ct,pt,yt,Et)=>{const B=()=>{if(U.isMounted){let{next:A,bu:D,u:N,parent:Q,vnode:rt}=U,mt=A,St;Br(U,!1),A?(A.el=rt.el,Nt(U,A,Et)):A=rt,D&&Zo(D),(St=A.props&&A.props.onVnodeBeforeUpdate)&&_n(St,Q,A,rt),Br(U,!0);const Dt=Ks(U),Zt=U.subTree;U.subTree=Dt,S(Zt,Dt,k(Zt.el),lt(Zt),U,pt,yt),A.el=Dt.el,mt===null&&pp(U,Dt.el),N&&nn(N,pt),(St=A.props&&A.props.onVnodeUpdated)&&nn(()=>_n(St,Q,A,rt),pt)}else{let A;const{el:D,props:N}=q,{bm:Q,m:rt,parent:mt}=U,St=fi(q);if(Br(U,!1),Q&&Zo(Q),!St&&(A=N&&N.onVnodeBeforeMount)&&_n(A,mt,q),Br(U,!0),D&&ie){const Dt=()=>{U.subTree=Ks(U),ie(D,U.subTree,U,pt,null)};St?q.type.__asyncLoader().then(()=>!U.isUnmounted&&Dt()):Dt()}else{const Dt=U.subTree=Ks(U);S(null,Dt,J,ct,U,pt,yt),q.el=Dt.el}if(rt&&nn(rt,pt),!St&&(A=N&&N.onVnodeMounted)){const Dt=q;nn(()=>_n(A,mt,Dt),pt)}(q.shapeFlag&256||mt&&fi(mt.vnode)&&mt.vnode.shapeFlag&256)&&U.a&&nn(U.a,pt),U.isMounted=!0,q=J=ct=null}},b=U.effect=new Ga(B,()=>Ya(x),U.scope),x=U.update=()=>b.run();x.id=U.uid,Br(U,!0),x()},Nt=(U,q,J)=>{q.component=U;const ct=U.vnode.props;U.vnode=q,U.next=null,Fp(U,q.props,ct,J),Gp(U,q.children,J),bi(),rc(),wi()},_t=(U,q,J,ct,pt,yt,Et,B,b=!1)=>{const x=U&&U.children,A=U?U.shapeFlag:0,D=q.children,{patchFlag:N,shapeFlag:Q}=q;if(N>0){if(N&128){Bt(x,D,J,ct,pt,yt,Et,B,b);return}else if(N&256){le(x,D,J,ct,pt,yt,Et,B,b);return}}Q&8?(A&16&&zt(x,pt,yt),D!==x&&y(J,D)):A&16?Q&16?Bt(x,D,J,ct,pt,yt,Et,B,b):zt(x,pt,yt,!0):(A&8&&y(J,""),Q&16&&W(D,J,ct,pt,yt,Et,B,b))},le=(U,q,J,ct,pt,yt,Et,B,b)=>{U=U||ci,q=q||ci;const x=U.length,A=q.length,D=Math.min(x,A);let N;for(N=0;N<D;N++){const Q=q[N]=b?gr(q[N]):Cn(q[N]);S(U[N],Q,J,null,pt,yt,Et,B,b)}x>A?zt(U,pt,yt,!0,!1,D):W(q,J,ct,pt,yt,Et,B,b,D)},Bt=(U,q,J,ct,pt,yt,Et,B,b)=>{let x=0;const A=q.length;let D=U.length-1,N=A-1;for(;x<=D&&x<=N;){const Q=U[x],rt=q[x]=b?gr(q[x]):Cn(q[x]);if(jr(Q,rt))S(Q,rt,J,null,pt,yt,Et,B,b);else break;x++}for(;x<=D&&x<=N;){const Q=U[D],rt=q[N]=b?gr(q[N]):Cn(q[N]);if(jr(Q,rt))S(Q,rt,J,null,pt,yt,Et,B,b);else break;D--,N--}if(x>D){if(x<=N){const Q=N+1,rt=Q<A?q[Q].el:ct;for(;x<=N;)S(null,q[x]=b?gr(q[x]):Cn(q[x]),J,rt,pt,yt,Et,B,b),x++}}else if(x>N)for(;x<=D;)Ft(U[x],pt,yt,!0),x++;else{const Q=x,rt=x,mt=new Map;for(x=rt;x<=N;x++){const se=q[x]=b?gr(q[x]):Cn(q[x]);se.key!=null&&mt.set(se.key,x)}let St,Dt=0;const Zt=N-rt+1;let Wt=!1,_e=0;const Kt=new Array(Zt);for(x=0;x<Zt;x++)Kt[x]=0;for(x=Q;x<=D;x++){const se=U[x];if(Dt>=Zt){Ft(se,pt,yt,!0);continue}let ye;if(se.key!=null)ye=mt.get(se.key);else for(St=rt;St<=N;St++)if(Kt[St-rt]===0&&jr(se,q[St])){ye=St;break}ye===void 0?Ft(se,pt,yt,!0):(Kt[ye-rt]=x+1,ye>=_e?_e=ye:Wt=!0,S(se,q[ye],J,null,pt,yt,Et,B,b),Dt++)}const me=Wt?Kp(Kt):ci;for(St=me.length-1,x=Zt-1;x>=0;x--){const se=rt+x,ye=q[se],Ee=se+1<A?q[se+1].el:ct;Kt[x]===0?S(null,ye,J,Ee,pt,yt,Et,B,b):Wt&&(St<0||x!==me[St]?At(ye,J,Ee,2):St--)}}},At=(U,q,J,ct,pt=null)=>{const{el:yt,type:Et,transition:B,children:b,shapeFlag:x}=U;if(x&6){At(U.component.subTree,q,J,ct);return}if(x&128){U.suspense.move(q,J,ct);return}if(x&64){Et.move(U,q,J,Ct);return}if(Et===Jt){s(yt,q,J);for(let D=0;D<b.length;D++)At(b[D],q,J,ct);s(U.anchor,q,J);return}if(Et===Xi){H(U,q,J);return}if(ct!==2&&x&1&&B)if(ct===0)B.beforeEnter(yt),s(yt,q,J),nn(()=>B.enter(yt),pt);else{const{leave:D,delayLeave:N,afterLeave:Q}=B,rt=()=>s(yt,q,J),mt=()=>{D(yt,()=>{rt(),Q&&Q()})};N?N(yt,rt,mt):mt()}else s(yt,q,J)},Ft=(U,q,J,ct=!1,pt=!1)=>{const{type:yt,props:Et,ref:B,children:b,dynamicChildren:x,shapeFlag:A,patchFlag:D,dirs:N}=U;if(B!=null&&os(B,null,J,U,!0),A&256){q.ctx.deactivate(U);return}const Q=A&1&&N,rt=!fi(U);let mt;if(rt&&(mt=Et&&Et.onVnodeBeforeUnmount)&&_n(mt,q,U),A&6)re(U.component,J,ct);else{if(A&128){U.suspense.unmount(J,ct);return}Q&&jn(U,null,q,"beforeUnmount"),A&64?U.type.remove(U,q,J,pt,Ct,ct):x&&(yt!==Jt||D>0&&D&64)?zt(x,q,J,!1,!0):(yt===Jt&&D&384||!pt&&A&16)&&zt(b,q,J),ct&&xe(U)}(rt&&(mt=Et&&Et.onVnodeUnmounted)||Q)&&nn(()=>{mt&&_n(mt,q,U),Q&&jn(U,null,q,"unmounted")},J)},xe=U=>{const{type:q,el:J,anchor:ct,transition:pt}=U;if(q===Jt){ce(J,ct);return}if(q===Xi){P(U);return}const yt=()=>{l(J),pt&&!pt.persisted&&pt.afterLeave&&pt.afterLeave()};if(U.shapeFlag&1&&pt&&!pt.persisted){const{leave:Et,delayLeave:B}=pt,b=()=>Et(J,yt);B?B(U.el,yt,b):b()}else yt()},ce=(U,q)=>{let J;for(;U!==q;)J=C(U),l(U),U=J;l(q)},re=(U,q,J)=>{const{bum:ct,scope:pt,update:yt,subTree:Et,um:B}=U;ct&&Zo(ct),pt.stop(),yt&&(yt.active=!1,Ft(Et,U,q,J)),B&&nn(B,q),nn(()=>{U.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},zt=(U,q,J,ct=!1,pt=!1,yt=0)=>{for(let Et=yt;Et<U.length;Et++)Ft(U[Et],q,J,ct,pt)},lt=U=>U.shapeFlag&6?lt(U.component.subTree):U.shapeFlag&128?U.suspense.next():C(U.anchor||U.el),Mt=(U,q,J)=>{U==null?q._vnode&&Ft(q._vnode,null,null,!0):S(q._vnode||null,U,q,null,null,null,J),rc(),ns(),q._vnode=U},Ct={p:S,um:Ft,m:At,r:xe,mt:bt,mc:W,pc:_t,pbc:st,n:lt,o:t};let It,ie;return n&&([It,ie]=n(Ct)),{render:Mt,hydrate:It,createApp:jp(Mt,It)}}function Br({effect:t,update:n},o){t.allowRecurse=n.allowRecurse=o}function ph(t,n,o=!1){const s=t.children,l=n.children;if($t(s)&&$t(l))for(let c=0;c<s.length;c++){const h=s[c];let d=l[c];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=l[c]=gr(l[c]),d.el=h.el),o||ph(h,d)),d.type===pi&&(d.el=h.el)}}function Kp(t){const n=t.slice(),o=[0];let s,l,c,h,d;const m=t.length;for(s=0;s<m;s++){const g=t[s];if(g!==0){if(l=o[o.length-1],t[l]<g){n[s]=l,o.push(s);continue}for(c=0,h=o.length-1;c<h;)d=c+h>>1,t[o[d]]<g?c=d+1:h=d;g<t[o[c]]&&(c>0&&(n[s]=o[c-1]),o[c]=s)}}for(c=o.length,h=o[c-1];c-- >0;)o[c]=h,h=n[h];return o}const Wp=t=>t.__isTeleport,Jt=Symbol.for("v-fgt"),pi=Symbol.for("v-txt"),cn=Symbol.for("v-cmt"),Xi=Symbol.for("v-stc"),Qi=[];let Sn=null;function Y(t=!1){Qi.push(Sn=t?null:[])}function Jp(){Qi.pop(),Sn=Qi[Qi.length-1]||null}let lo=1;function mc(t){lo+=t}function mh(t){return t.dynamicChildren=lo>0?Sn||ci:null,Jp(),lo>0&&Sn&&Sn.push(t),t}function ht(t,n,o,s,l,c){return mh(wt(t,n,o,s,l,c,!0))}function Vt(t,n,o,s,l){return mh(Lt(t,n,o,s,l,!0))}function ss(t){return t?t.__v_isVNode===!0:!1}function jr(t,n){return t.type===n.type&&t.key===n.key}const bs="__vInternal",gh=({key:t})=>t??null,Ko=({ref:t,ref_key:n,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Be(t)||ne(t)?{i:Ge,r:t,k:n,f:!!o}:t:null);function wt(t,n=null,o=null,s=0,l=null,c=t===Jt?0:1,h=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&gh(n),ref:n&&Ko(n),scopeId:_s,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ge};return d?(il(m,o),c&128&&t.normalize(m)):o&&(m.shapeFlag|=De(o)?8:16),lo>0&&!h&&Sn&&(m.patchFlag>0||c&6)&&m.patchFlag!==32&&Sn.push(m),m}const Lt=Yp;function Yp(t,n=null,o=null,s=0,l=null,c=!1){if((!t||t===ih)&&(t=cn),ss(t)){const d=xr(t,n,!0);return o&&il(d,o),lo>0&&!c&&Sn&&(d.shapeFlag&6?Sn[Sn.indexOf(t)]=d:Sn.push(d)),d.patchFlag|=-2,d}if(am(t)&&(t=t.__vccOpts),n){n=Xp(n);let{class:d,style:m}=n;d&&!De(d)&&(n.class=wn(d)),Se(m)&&(Hu(m)&&!$t(m)&&(m=je({},m)),n.style=Fr(m))}const h=De(t)?1:mp(t)?128:Wp(t)?64:Se(t)?4:ne(t)?2:0;return wt(t,n,o,s,l,h,c,!0)}function Xp(t){return t?Hu(t)||bs in t?je({},t):t:null}function xr(t,n,o=!1){const{props:s,ref:l,patchFlag:c,children:h}=t,d=n?Qp(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&gh(d),ref:n&&n.ref?o&&l?$t(l)?l.concat(Ko(n)):[l,Ko(n)]:Ko(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Jt?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xr(t.ssContent),ssFallback:t.ssFallback&&xr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function un(t=" ",n=0){return Lt(pi,null,t,n)}function rl(t,n){const o=Lt(Xi,null,t);return o.staticCount=n,o}function Qt(t="",n=!1){return n?(Y(),Vt(cn,null,t)):Lt(cn,null,t)}function Cn(t){return t==null||typeof t=="boolean"?Lt(cn):$t(t)?Lt(Jt,null,t.slice()):typeof t=="object"?gr(t):Lt(pi,null,String(t))}function gr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xr(t)}function il(t,n){let o=0;const{shapeFlag:s}=t;if(n==null)n=null;else if($t(n))o=16;else if(typeof n=="object")if(s&65){const l=n.default;l&&(l._c&&(l._d=!1),il(t,l()),l._c&&(l._d=!0));return}else{o=32;const l=n._;!l&&!(bs in n)?n._ctx=Ge:l===3&&Ge&&(Ge.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else ne(n)?(n={default:n,_ctx:Ge},o=32):(n=String(n),s&64?(o=16,n=[un(n)]):o=8);t.children=n,t.shapeFlag|=o}function Qp(...t){const n={};for(let o=0;o<t.length;o++){const s=t[o];for(const l in s)if(l==="class")n.class!==s.class&&(n.class=wn([n.class,s.class]));else if(l==="style")n.style=Fr([n.style,s.style]);else if(fo(l)){const c=n[l],h=s[l];h&&c!==h&&!($t(c)&&c.includes(h))&&(n[l]=c?[].concat(c,h):h)}else l!==""&&(n[l]=s[l])}return n}function _n(t,n,o,s=null){yn(t,n,7,[o,s])}const tm=lh();let em=0;function nm(t,n,o){const s=t.type,l=(n?n.appContext:t.appContext)||tm,c={uid:em++,vnode:t,type:s,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uh(s,l),emitsOptions:Ku(s,l),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=n?n.root:c,c.emit=lp.bind(null,c),t.ce&&t.ce(c),c}let He=null;const _h=()=>He||Ge;let ol,oi,gc="__VUE_INSTANCE_SETTERS__";(oi=da()[gc])||(oi=da()[gc]=[]),oi.push(t=>He=t),ol=t=>{oi.length>1?oi.forEach(n=>n(t)):oi[0](t)};const mi=t=>{ol(t),t.scope.on()},Vr=()=>{He&&He.scope.off(),ol(null)};function yh(t){return t.vnode.shapeFlag&4}let co=!1;function rm(t,n=!1){co=n;const{props:o,children:s}=t.vnode,l=yh(t);Hp(t,o,l,n),Vp(t,s);const c=l?im(t,n):void 0;return co=!1,c}function im(t,n){const o=t.type;t.accessCache=Object.create(null),t.proxy=ds(new Proxy(t.ctx,Ep));const{setup:s}=o;if(s){const l=t.setupContext=s.length>1?bh(t):null;mi(t),bi();const c=br(s,t,0,[t.props,l]);if(wi(),Vr(),wu(c)){if(c.then(Vr,Vr),n)return c.then(h=>{_c(t,h,n)}).catch(h=>{ps(h,t,0)});t.asyncDep=c}else _c(t,c,n)}else vh(t,n)}function _c(t,n,o){ne(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Se(n)&&(t.setupState=Gu(n)),vh(t,o)}let yc;function vh(t,n,o){const s=t.type;if(!t.render){if(!n&&yc&&!s.render){const l=s.template||el(t).template;if(l){const{isCustomElement:c,compilerOptions:h}=t.appContext.config,{delimiters:d,compilerOptions:m}=s,g=je(je({isCustomElement:c,delimiters:d},h),m);s.render=yc(l,g)}}t.render=s.render||En}mi(t),bi(),Ap(t),wi(),Vr()}function om(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,o){return rn(t,"get","$attrs"),n[o]}}))}function bh(t){const n=o=>{t.exposed=o||{}};return{get attrs(){return om(t)},slots:t.slots,emit:t.emit,expose:n}}function ws(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gu(ds(t.exposed)),{get(n,o){if(o in n)return n[o];if(o in Yi)return Yi[o](t)},has(n,o){return o in n||o in Yi}}))}function sm(t,n=!0){return ne(t)?t.displayName||t.name:t.name||n&&t.__name}function am(t){return ne(t)&&"__vccOpts"in t}const pe=(t,n)=>np(t,n,co);function sl(t,n,o){const s=arguments.length;return s===2?Se(n)&&!$t(n)?ss(n)?Lt(t,null,[n]):Lt(t,n):Lt(t,null,n):(s>3?o=Array.prototype.slice.call(arguments,2):s===3&&ss(o)&&(o=[o]),Lt(t,n,o))}const lm=Symbol.for("v-scx"),cm=()=>vn(lm),um="3.3.4",hm="http://www.w3.org/2000/svg",Nr=typeof document<"u"?document:null,vc=Nr&&Nr.createElement("template"),fm={insert:(t,n,o)=>{n.insertBefore(t,o||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,o,s)=>{const l=n?Nr.createElementNS(hm,t):Nr.createElement(t,o?{is:o}:void 0);return t==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:t=>Nr.createTextNode(t),createComment:t=>Nr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,o,s,l,c){const h=o?o.previousSibling:n.lastChild;if(l&&(l===c||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),o),!(l===c||!(l=l.nextSibling)););else{vc.innerHTML=s?`<svg>${t}</svg>`:t;const d=vc.content;if(s){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}n.insertBefore(d,o)}return[h?h.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}};function dm(t,n,o){const s=t._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?t.removeAttribute("class"):o?t.setAttribute("class",n):t.className=n}function pm(t,n,o){const s=t.style,l=De(o);if(o&&!l){if(n&&!De(n))for(const c in n)o[c]==null&&Ma(s,c,"");for(const c in o)Ma(s,c,o[c])}else{const c=s.display;l?n!==o&&(s.cssText=o):n&&t.removeAttribute("style"),"_vod"in t&&(s.display=c)}}const bc=/\s*!important$/;function Ma(t,n,o){if($t(o))o.forEach(s=>Ma(t,n,s));else if(o==null&&(o=""),n.startsWith("--"))t.setProperty(n,o);else{const s=mm(t,n);bc.test(o)?t.setProperty(vi(s),o.replace(bc,""),"important"):t[s]=o}}const wc=["Webkit","Moz","ms"],Ys={};function mm(t,n){const o=Ys[n];if(o)return o;let s=Fn(n);if(s!=="filter"&&s in t)return Ys[n]=s;s=hs(s);for(let l=0;l<wc.length;l++){const c=wc[l]+s;if(c in t)return Ys[n]=c}return n}const xc="http://www.w3.org/1999/xlink";function gm(t,n,o,s,l){if(s&&n.startsWith("xlink:"))o==null?t.removeAttributeNS(xc,n.slice(6,n.length)):t.setAttributeNS(xc,n,o);else{const c=yd(n);o==null||c&&!Lu(o)?t.removeAttribute(n):t.setAttribute(n,c?"":o)}}function _m(t,n,o,s,l,c,h){if(n==="innerHTML"||n==="textContent"){s&&h(s,l,c),t[n]=o??"";return}const d=t.tagName;if(n==="value"&&d!=="PROGRESS"&&!d.includes("-")){t._value=o;const g=d==="OPTION"?t.getAttribute("value"):t.value,y=o??"";g!==y&&(t.value=y),o==null&&t.removeAttribute(n);return}let m=!1;if(o===""||o==null){const g=typeof t[n];g==="boolean"?o=Lu(o):o==null&&g==="string"?(o="",m=!0):g==="number"&&(o=0,m=!0)}try{t[n]=o}catch{}m&&t.removeAttribute(n)}function ai(t,n,o,s){t.addEventListener(n,o,s)}function ym(t,n,o,s){t.removeEventListener(n,o,s)}function vm(t,n,o,s,l=null){const c=t._vei||(t._vei={}),h=c[n];if(s&&h)h.value=s;else{const[d,m]=bm(n);if(s){const g=c[n]=km(s,l);ai(t,d,g,m)}else h&&(ym(t,d,h,m),c[n]=void 0)}}const kc=/(?:Once|Passive|Capture)$/;function bm(t){let n;if(kc.test(t)){n={};let s;for(;s=t.match(kc);)t=t.slice(0,t.length-s[0].length),n[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vi(t.slice(2)),n]}let Xs=0;const wm=Promise.resolve(),xm=()=>Xs||(wm.then(()=>Xs=0),Xs=Date.now());function km(t,n){const o=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=o.attached)return;yn(Lm(s,o.value),n,5,[s])};return o.value=t,o.attached=xm(),o}function Lm(t,n){if($t(n)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},n.map(s=>l=>!l._stopped&&s&&s(l))}else return n}const Lc=/^on[a-z]/,Mm=(t,n,o,s,l=!1,c,h,d,m)=>{n==="class"?dm(t,s,l):n==="style"?pm(t,o,s):fo(n)?Na(n)||vm(t,n,o,s,h):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Cm(t,n,s,l))?_m(t,n,s,c,h,d,m):(n==="true-value"?t._trueValue=s:n==="false-value"&&(t._falseValue=s),gm(t,n,s,l))};function Cm(t,n,o,s){return s?!!(n==="innerHTML"||n==="textContent"||n in t&&Lc.test(n)&&ne(o)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Lc.test(n)&&De(o)?!1:n in t}const hr="transition",Vi="animation",al=(t,{slots:n})=>sl(vp,Pm(t),n);al.displayName="Transition";const wh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};al.props=je({},Xu,wh);const Ir=(t,n=[])=>{$t(t)?t.forEach(o=>o(...n)):t&&t(...n)},Mc=t=>t?$t(t)?t.some(n=>n.length>1):t.length>1:!1;function Pm(t){const n={};for(const it in t)it in wh||(n[it]=t[it]);if(t.css===!1)return n;const{name:o="v",type:s,duration:l,enterFromClass:c=`${o}-enter-from`,enterActiveClass:h=`${o}-enter-active`,enterToClass:d=`${o}-enter-to`,appearFromClass:m=c,appearActiveClass:g=h,appearToClass:y=d,leaveFromClass:k=`${o}-leave-from`,leaveActiveClass:C=`${o}-leave-active`,leaveToClass:z=`${o}-leave-to`}=t,T=Sm(l),S=T&&T[0],$=T&&T[1],{onBeforeEnter:E,onEnter:O,onEnterCancelled:H,onLeave:P,onLeaveCancelled:I,onBeforeAppear:K=E,onAppear:nt=O,onAppearCancelled:W=H}=n,et=(it,gt,bt)=>{Dr(it,gt?y:d),Dr(it,gt?g:h),bt&&bt()},st=(it,gt)=>{it._isLeaving=!1,Dr(it,k),Dr(it,z),Dr(it,C),gt&&gt()},ft=it=>(gt,bt)=>{const Pt=it?nt:O,kt=()=>et(gt,it,bt);Ir(Pt,[gt,kt]),Cc(()=>{Dr(gt,it?m:c),fr(gt,it?y:d),Mc(Pt)||Pc(gt,s,S,kt)})};return je(n,{onBeforeEnter(it){Ir(E,[it]),fr(it,c),fr(it,h)},onBeforeAppear(it){Ir(K,[it]),fr(it,m),fr(it,g)},onEnter:ft(!1),onAppear:ft(!0),onLeave(it,gt){it._isLeaving=!0;const bt=()=>st(it,gt);fr(it,k),Om(),fr(it,C),Cc(()=>{it._isLeaving&&(Dr(it,k),fr(it,z),Mc(P)||Pc(it,s,$,bt))}),Ir(P,[it,bt])},onEnterCancelled(it){et(it,!1),Ir(H,[it])},onAppearCancelled(it){et(it,!0),Ir(W,[it])},onLeaveCancelled(it){st(it),Ir(I,[it])}})}function Sm(t){if(t==null)return null;if(Se(t))return[Qs(t.enter),Qs(t.leave)];{const n=Qs(t);return[n,n]}}function Qs(t){return fd(t)}function fr(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t._vtc||(t._vtc=new Set)).add(n)}function Dr(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:o}=t;o&&(o.delete(n),o.size||(t._vtc=void 0))}function Cc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Em=0;function Pc(t,n,o,s){const l=t._endId=++Em,c=()=>{l===t._endId&&s()};if(o)return setTimeout(c,o);const{type:h,timeout:d,propCount:m}=Tm(t,n);if(!h)return s();const g=h+"end";let y=0;const k=()=>{t.removeEventListener(g,C),c()},C=z=>{z.target===t&&++y>=m&&k()};setTimeout(()=>{y<m&&k()},d+1),t.addEventListener(g,C)}function Tm(t,n){const o=window.getComputedStyle(t),s=T=>(o[T]||"").split(", "),l=s(`${hr}Delay`),c=s(`${hr}Duration`),h=Sc(l,c),d=s(`${Vi}Delay`),m=s(`${Vi}Duration`),g=Sc(d,m);let y=null,k=0,C=0;n===hr?h>0&&(y=hr,k=h,C=c.length):n===Vi?g>0&&(y=Vi,k=g,C=m.length):(k=Math.max(h,g),y=k>0?h>g?hr:Vi:null,C=y?y===hr?c.length:m.length:0);const z=y===hr&&/\b(transform|all)(,|$)/.test(s(`${hr}Property`).toString());return{type:y,timeout:k,propCount:C,hasTransform:z}}function Sc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((o,s)=>Ec(o)+Ec(t[s])))}function Ec(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Om(){return document.body.offsetHeight}const Tc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return $t(n)?o=>Zo(n,o):n};function Am(t){t.target.composing=!0}function Oc(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Rm={created(t,{modifiers:{lazy:n,trim:o,number:s}},l){t._assign=Tc(l);const c=s||l.props&&l.props.type==="number";ai(t,n?"change":"input",h=>{if(h.target.composing)return;let d=t.value;o&&(d=d.trim()),c&&(d=fa(d)),t._assign(d)}),o&&ai(t,"change",()=>{t.value=t.value.trim()}),n||(ai(t,"compositionstart",Am),ai(t,"compositionend",Oc),ai(t,"change",Oc))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:o,trim:s,number:l}},c){if(t._assign=Tc(c),t.composing||document.activeElement===t&&t.type!=="range"&&(o||s&&t.value.trim()===n||(l||t.type==="number")&&fa(t.value)===n))return;const h=n??"";t.value!==h&&(t.value=h)}},Bm=["ctrl","shift","alt","meta"],Im={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Bm.some(o=>t[`${o}Key`]&&!n.includes(o))},Ac=(t,n)=>(o,...s)=>{for(let l=0;l<n.length;l++){const c=Im[n[l]];if(c&&c(o,n))return}return t(o,...s)},xh={beforeMount(t,{value:n},{transition:o}){t._vod=t.style.display==="none"?"":t.style.display,o&&n?o.beforeEnter(t):Gi(t,n)},mounted(t,{value:n},{transition:o}){o&&n&&o.enter(t)},updated(t,{value:n,oldValue:o},{transition:s}){!n!=!o&&(s?n?(s.beforeEnter(t),Gi(t,!0),s.enter(t)):s.leave(t,()=>{Gi(t,!1)}):Gi(t,n))},beforeUnmount(t,{value:n}){Gi(t,n)}};function Gi(t,n){t.style.display=n?t._vod:"none"}const Dm=je({patchProp:Mm},fm);let ta,Rc=!1;function zm(){return ta=Rc?ta:Zp(Dm),Rc=!0,ta}const jm=(...t)=>{const n=zm().createApp(...t),{mount:o}=n;return n.mount=s=>{const l=Nm(s);if(l)return o(l,!0,l instanceof SVGElement)},n};function Nm(t){return De(t)?document.querySelector(t):t}const Hm=["title"],Fm={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Um=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Vm=[Um],Gm={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$m=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Zm=[$m],kh={__name:"SwitchTheme",setup(t){const n={dark:"dark",light:"light"},o=Xt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?o.value="dark":o.value="light",Ie(o,(l,c)=>{document.documentElement.classList.add(l),document.documentElement.classList.remove(c),localStorage.setItem("theme",l)},{immediate:!0}));const s=()=>{o.value===n.dark?o.value=n.light:o.value=n.dark};return(l,c)=>(Y(),ht("button",{type:"button",onClick:s,title:o.value===n.light?"Change to dark mode":"Change to light mode"},[o.value===n.dark?(Y(),ht("svg",Fm,Vm)):(Y(),ht("svg",Gm,Zm))],8,Hm))}},qm=["aria-expanded"],Km=wt("span",{class:"sr-only"},"Open main menu",-1),Wm={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Jm={class:"font-normal container mx-auto"},Ym={class:"flex flex-col m-0 p-0 border-t border-base-border"},Xm={__name:"NavbarMobile",setup(t){const{header_links:n}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null},o=Xt(!1),s=()=>{o.value=!o.value};return(l,c)=>{const h=Ot("IconClose"),d=Ot("IconHamburger"),m=Ot("router-link"),g=Ot("ClientOnly"),y=Ot("AnimationOpacity");return Y(),ht(Jt,null,[wt("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":o.value,onClick:s},[Km,o.value?(Y(),Vt(h,{key:0})):(Y(),Vt(d,{key:1,class:"w-6 h-6"}))],8,qm),Lt(y,null,{default:Ht(()=>[o.value?(Y(),ht("div",Wm,[wt("nav",Jm,[wt("ul",Ym,[(Y(!0),ht(Jt,null,Te(ge(n),(k,C)=>(Y(),ht("li",{key:C,class:"border-b border-base-border"},[Lt(m,{to:k.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:Ht(()=>[un(Ce(k.label),1)]),_:2},1032,["to"])]))),128)),wt("li",null,[Lt(g,null,{default:Ht(()=>[Lt(kh,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})])])])])):Qt("",!0)]),_:1})],64)}}};function Qm(t){try{return new URL(t),!0}catch{return!1}}const tg={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},eg={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},ng=["src","alt"],rg={class:"relative hidden lg:flex items-center ml-auto"},ig={class:"text-sm leading-6 font-normal"},og={class:"flex space-x-8"},sg={class:"flex items-center border-l ml-6 pl-6 border-base-muted"},ag={__name:"LayoutHeader",setup(t){const{header_links:n,header_logo_text:o,header_logo_url:s,base_url:l}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null},c=Qm(s)?s:(l+s).replace("//","/");return(h,d)=>{const m=Ot("router-link"),g=Ot("ClientOnly");return Y(),ht("div",tg,[wt("div",eg,[Lt(m,{to:"/",class:"flex items-center text-primary-content"},{default:Ht(()=>[ge(s)?(Y(),ht("img",{key:0,class:"mr-3 h-10",src:ge(c),alt:ge(o)},null,8,ng)):Qt("",!0),wt("span",null,Ce(ge(o)),1)]),_:1}),Lt(Xm),wt("div",rg,[wt("nav",ig,[wt("ul",og,[(Y(!0),ht(Jt,null,Te(ge(n),(y,k)=>(Y(),ht("li",{key:k},[Lt(m,{to:y.link,class:"hover:text-primary-content text-primary-content"},{default:Ht(()=>[un(Ce(y.label),1)]),_:2},1032,["to"])]))),128))])]),wt("div",sg,[Lt(g,null,{default:Ht(()=>[Lt(kh,{class:"text-primary-content"})]),_:1})])])])])}}},lg={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},cg={class:"container mx-auto text-sm pt-2 pb-4"},ug={class:"pt-4 pb-2"},hg={key:0},fg=["href"],dg={class:"flex items-center text-xs"},pg=["src"],mg=rl('<hr class="mt-3 mb-3 border-gray-500"><div class="flex items-center"><span> Data provided by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://taxonworks.org/"> TaxonWorks </a></span><span class="ml-2 mr-2">|</span><span> Pages by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://github.com/SpeciesFileGroup/taxonpages"> TaxonPages </a></span><span class="ml-2 mr-2">|</span><span> Support (Services) by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://speciesfilegroup.org"> Species File Group </a></span></div>',2),gg={__name:"LayoutFooter",setup(t){const{project_authors:n,project_citation:o,project_url:s,copyright_text:l,copyright_image:c,copyright_image_link:h}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null};return(d,m)=>(Y(),ht("footer",lg,[wt("div",cg,[wt("div",ug,[un(Ce(ge(n))+" "+Ce(ge(o))+" ",1),ge(s)?(Y(),ht("span",hg,[un(" < "),wt("a",{class:"text-secondary-color",href:ge(s)},Ce(ge(s)),9,fg),un(" > ")])):Qt("",!0)]),wt("div",dg,[(Y(),Vt(ba(ge(h)?"a":"span"),{href:ge(h)},{default:Ht(()=>[ge(c)?(Y(),ht("img",{key:0,src:ge(c),alt:"copyright",class:"mr-2"},null,8,pg)):Qt("",!0)]),_:1},8,["href"])),wt("p",null,Ce(ge(l)),1)]),mg])]))}},_g={class:"min-h-screen flex flex-col justify-between"},yg={__name:"Application",setup(t){return(n,o)=>(Y(),ht("div",_g,[wt("div",null,[Lt(ag),Re(n.$slots,"default")]),Lt(gg)]))}};function Ca(t,n={},o){for(const s in t){const l=t[s],c=o?`${o}:${s}`:s;typeof l=="object"&&l!==null?Ca(l,n,c):typeof l=="function"&&(n[c]=l)}return n}const vg={run:t=>t()},bg=()=>vg,Lh=typeof console.createTask<"u"?console.createTask:bg;function wg(t,n){const o=n.shift(),s=Lh(o);return t.reduce((l,c)=>l.then(()=>s.run(()=>c(...n))),Promise.resolve())}function xg(t,n){const o=n.shift(),s=Lh(o);return Promise.all(t.map(l=>s.run(()=>l(...n))))}function ea(t,n){for(const o of[...t])o(n)}class kg{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,o,s={}){if(!n||typeof o!="function")return()=>{};const l=n;let c;for(;this._deprecatedHooks[n];)c=this._deprecatedHooks[n],n=c.to;if(c&&!s.allowDeprecated){let h=c.message;h||(h=`${l} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(h)||(console.warn(h),this._deprecatedMessages.add(h))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(o),()=>{o&&(this.removeHook(n,o),o=void 0)}}hookOnce(n,o){let s,l=(...c)=>(typeof s=="function"&&s(),s=void 0,l=void 0,o(...c));return s=this.hook(n,l),s}removeHook(n,o){if(this._hooks[n]){const s=this._hooks[n].indexOf(o);s!==-1&&this._hooks[n].splice(s,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,o){this._deprecatedHooks[n]=typeof o=="string"?{to:o}:o;const s=this._hooks[n]||[];delete this._hooks[n];for(const l of s)this.hook(n,l)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const o in n)this.deprecateHook(o,n[o])}addHooks(n){const o=Ca(n),s=Object.keys(o).map(l=>this.hook(l,o[l]));return()=>{for(const l of s.splice(0,s.length))l()}}removeHooks(n){const o=Ca(n);for(const s in o)this.removeHook(s,o[s])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...o){return o.unshift(n),this.callHookWith(wg,n,...o)}callHookParallel(n,...o){return o.unshift(n),this.callHookWith(xg,n,...o)}callHookWith(n,o,...s){const l=this._before||this._after?{name:o,args:s,context:{}}:void 0;this._before&&ea(this._before,l);const c=n(o in this._hooks?[...this._hooks[o]]:[],s);return c instanceof Promise?c.finally(()=>{this._after&&l&&ea(this._after,l)}):(this._after&&l&&ea(this._after,l),c)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const o=this._before.indexOf(n);o!==-1&&this._before.splice(o,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const o=this._after.indexOf(n);o!==-1&&this._after.splice(o,1)}}}}function Lg(){return new kg}function Mg(t){return Array.isArray(t)?t:[t]}const Mh=["title","script","style","noscript"],Ch=["base","meta","link","style","script","noscript"],Cg=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],Pg=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Sg=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Ph(t){let n=9;for(let o=0;o<t.length;)n=Math.imul(n^t.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Pa(t){return Ph(`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([n,o])=>`${n}:${String(o)}`).join(",")}`)}function Eg(t){let n=9;for(const o of t)for(let s=0;s<o.length;)n=Math.imul(n^o.charCodeAt(s++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Sh(t,n){const{props:o,tag:s}=t;if(Pg.includes(s))return s;if(s==="link"&&o.rel==="canonical")return"canonical";if(o.charset)return"charset";const l=["id"];s==="meta"&&l.push("name","property","http-equiv");for(const c of l)if(typeof o[c]<"u"){const h=String(o[c]);return n&&!n(h)?!1:`${s}:${c}:${h}`}return!1}function Bc(t,n){return t==null?n||null:typeof t=="function"?t(n):t}function Go(t,n=!1,o){const{tag:s,$el:l}=t;l&&(Object.entries(s.props).forEach(([c,h])=>{h=String(h);const d=`attr:${c}`;if(c==="class"){if(!h)return;for(const m of h.split(" ")){const g=`${d}:${m}`;o&&o(t,g,()=>l.classList.remove(m)),l.classList.contains(m)||l.classList.add(m)}return}o&&!c.startsWith("data-h-")&&o(t,d,()=>l.removeAttribute(c)),(n||l.getAttribute(c)!==h)&&l.setAttribute(c,h)}),Mh.includes(s.tag)&&(s.textContent&&s.textContent!==l.textContent?l.textContent=s.textContent:s.innerHTML&&s.innerHTML!==l.innerHTML&&(l.innerHTML=s.innerHTML)))}let $i=!1;async function Tg(t,n={}){var C,z;const o={shouldRender:!0};if(await t.hooks.callHook("dom:beforeRender",o),!o.shouldRender)return;const s=n.document||t.resolvedOptions.document||window.document,l=(await t.resolveTags()).map(d);if(t.resolvedOptions.experimentalHashHydration&&($i=$i||t._hash||!1,$i)){const T=Eg(l.map(S=>S.tag._h));if($i===T)return;$i=T}const c=t._popSideEffectQueue();t.headEntries().map(T=>T._sde).forEach(T=>{Object.entries(T).forEach(([S,$])=>{c[S]=$})});const h=(T,S,$)=>{S=`${T.renderId}:${S}`,T.entry&&(T.entry._sde[S]=$),delete c[S]};function d(T){const S=t.headEntries().find(E=>E._i===T._e),$={renderId:T._d||Pa(T),$el:null,shouldRender:!0,tag:T,entry:S,markSideEffect:(E,O)=>h($,E,O)};return $}const m=[],g={body:[],head:[]},y=T=>{t._elMap[T.renderId]=T.$el,m.push(T),h(T,"el",()=>{var S;(S=T.$el)==null||S.remove(),delete t._elMap[T.renderId]})};for(const T of l){if(await t.hooks.callHook("dom:beforeRenderTag",T),!T.shouldRender)continue;const{tag:S}=T;if(S.tag==="title"){s.title=S.textContent||"",m.push(T);continue}if(S.tag==="htmlAttrs"||S.tag==="bodyAttrs"){T.$el=s[S.tag==="htmlAttrs"?"documentElement":"body"],Go(T,!1,h),m.push(T);continue}if(T.$el=t._elMap[T.renderId],!T.$el&&S.key&&(T.$el=s.querySelector(`${(C=S.tagPosition)!=null&&C.startsWith("body")?"body":"head"} > ${S.tag}[data-h-${S._h}]`)),T.$el){T.tag._d&&Go(T),y(T);continue}g[(z=S.tagPosition)!=null&&z.startsWith("body")?"body":"head"].push(T)}const k={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(g).forEach(([T,S])=>{var E;if(!S.length)return;const $=(E=s==null?void 0:s[T])==null?void 0:E.children;if($){for(const O of[...$].reverse()){const H=O.tagName.toLowerCase();if(!Ch.includes(H))continue;const P=O.getAttributeNames().reduce((W,et)=>({...W,[et]:O.getAttribute(et)}),{}),I={tag:H,props:P};O.innerHTML&&(I.innerHTML=O.innerHTML);const K=Pa(I);let nt=S.findIndex(W=>(W==null?void 0:W.renderId)===K);if(nt===-1){const W=Sh(I);nt=S.findIndex(et=>(et==null?void 0:et.tag._d)&&et.tag._d===W)}if(nt!==-1){const W=S[nt];W.$el=O,Go(W),y(W),delete S[nt]}}S.forEach(O=>{const H=O.tag.tagPosition||"head";k[H]=k[H]||s.createDocumentFragment(),O.$el||(O.$el=s.createElement(O.tag.tag),Go(O,!0)),k[H].appendChild(O.$el),y(O)})}}),k.head&&s.head.appendChild(k.head),k.bodyOpen&&s.body.insertBefore(k.bodyOpen,s.body.firstChild),k.bodyClose&&s.body.appendChild(k.bodyClose);for(const T of m)await t.hooks.callHook("dom:renderTag",T);Object.values(c).forEach(T=>T())}let na=null;async function Og(t,n={}){function o(){return na=null,Tg(t,n)}const s=n.delayFn||(l=>setTimeout(l,10));return na=na||new Promise(l=>s(()=>l(o())))}function Ag(t){return{hooks:{"entries:updated":function(n){if(typeof(t==null?void 0:t.document)>"u"&&typeof window>"u")return;let o=t==null?void 0:t.delayFn;!o&&typeof requestAnimationFrame<"u"&&(o=requestAnimationFrame),Og(n,{document:(t==null?void 0:t.document)||window.document,delayFn:o})}}}}function Rg(t){var n;return((n=t==null?void 0:t.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:n.getAttribute("content"))||!1}const Ic={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Dc(t){if(typeof t.tagPriority=="number")return t.tagPriority;if(t.tag==="meta"){if(t.props.charset)return-2;if(t.props["http-equiv"]==="content-security-policy")return 0}const n=t.tagPriority||t.tag;return n in Ic?Ic[n]:10}const Bg=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function Ig(){return{hooks:{"tags:resolve":t=>{const n=o=>{var s;return(s=t.tags.find(l=>l._d===o))==null?void 0:s._p};for(const{prefix:o,offset:s}of Bg)for(const l of t.tags.filter(c=>typeof c.tagPriority=="string"&&c.tagPriority.startsWith(o))){const c=n(l.tagPriority.replace(o,""));typeof c<"u"&&(l._p=c+s)}t.tags.sort((o,s)=>o._p-s._p).sort((o,s)=>Dc(o)-Dc(s))}}}}function Dg(){return{hooks:{"tags:resolve":t=>{const{tags:n}=t;let o=n.findIndex(l=>l.tag==="titleTemplate");const s=n.findIndex(l=>l.tag==="title");if(s!==-1&&o!==-1){const l=Bc(n[o].textContent,n[s].textContent);l!==null?n[s].textContent=l||n[s].textContent:delete n[s]}else if(o!==-1){const l=Bc(n[o].textContent);l!==null&&(n[o].textContent=l,n[o].tag="title",o=-1)}o!==-1&&delete n[o],t.tags=n.filter(Boolean)}}}}function zg(){return{hooks:{"tag:normalise":function({tag:t}){typeof t.props.body<"u"&&(t.tagPosition="bodyClose",delete t.props.body)}}}}const jg=["link","style","script","noscript"];function Ng(){return{hooks:{"tag:normalise":({tag:t,resolvedOptions:n})=>{n.experimentalHashHydration===!0&&(t._h=Pa(t)),t.key&&jg.includes(t.tag)&&(t._h=Ph(t.key),t.props[`data-h-${t._h}`]="")}}}}const zc=["script","link","bodyAttrs"];function Hg(){const t=(n,o)=>{const s={},l={};Object.entries(o.props).forEach(([h,d])=>{h.startsWith("on")&&typeof d=="function"?l[h]=d:s[h]=d});let c;return n==="dom"&&o.tag==="script"&&typeof s.src=="string"&&typeof l.onload<"u"&&(c=s.src,delete s.src),{props:s,eventHandlers:l,delayedSrc:c}};return{hooks:{"ssr:render":function(n){n.tags=n.tags.map(o=>(!zc.includes(o.tag)||!Object.entries(o.props).find(([s,l])=>s.startsWith("on")&&typeof l=="function")||(o.props=t("ssr",o).props),o))},"dom:beforeRenderTag":function(n){if(!zc.includes(n.tag.tag)||!Object.entries(n.tag.props).find(([c,h])=>c.startsWith("on")&&typeof h=="function"))return;const{props:o,eventHandlers:s,delayedSrc:l}=t("dom",n.tag);Object.keys(s).length&&(n.tag.props=o,n.tag._eventHandlers=s,n.tag._delayedSrc=l)},"dom:renderTag":function(n){const o=n.$el;if(!n.tag._eventHandlers||!o)return;const s=n.tag.tag==="bodyAttrs"&&typeof window<"u"?window:o;Object.entries(n.tag._eventHandlers).forEach(([l,c])=>{const h=`${n.tag._d||n.tag._p}:${l}`,d=l.slice(2).toLowerCase(),m=`data-h-${d}`;if(n.markSideEffect(h,()=>{}),o.hasAttribute(m))return;const g=c;o.setAttribute(m,""),s.addEventListener(d,g),n.entry&&(n.entry._sde[h]=()=>{s.removeEventListener(d,g),o.removeAttribute(m)})}),n.tag._delayedSrc&&o.setAttribute("src",n.tag._delayedSrc)}}}}const Fg=["templateParams","htmlAttrs","bodyAttrs"];function Ug(){return{hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(s=>{t.props[s]&&(t.key=t.props[s],delete t.props[s])});const o=Sh(t)||(t.key?`${t.tag}:${t.key}`:!1);o&&(t._d=o)},"tags:resolve":function(t){const n={};t.tags.forEach(s=>{const l=(s.key?`${s.tag}:${s.key}`:s._d)||s._p,c=n[l];if(c){let d=s==null?void 0:s.tagDuplicateStrategy;if(!d&&Fg.includes(s.tag)&&(d="merge"),d==="merge"){const m=c.props;["class","style"].forEach(g=>{s.props[g]&&m[g]&&(g==="style"&&!m[g].endsWith(";")&&(m[g]+=";"),s.props[g]=`${m[g]} ${s.props[g]}`)}),n[l].props={...m,...s.props};return}else if(s._e===c._e){c._duped=c._duped||[],s._d=`${c._d}:${c._duped.length+1}`,c._duped.push(s);return}}const h=Object.keys(s.props).length+(s.innerHTML?1:0)+(s.textContent?1:0);if(Ch.includes(s.tag)&&h===0){delete n[l];return}n[l]=s});const o=[];Object.values(n).forEach(s=>{const l=s._duped;delete s._duped,o.push(s),l&&o.push(...l)}),t.tags=o}}}}function $o(t,n){function o(c){if(["s","pageTitle"].includes(c))return n.pageTitle;let h;return c.includes(".")?h=c.split(".").reduce((d,m)=>d&&d[m]||void 0,n):h=n[c],typeof h<"u"?h||"":!1}let s=t;try{s=decodeURI(t)}catch{}return(s.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(c=>{const h=o(c.slice(1));typeof h=="string"&&(t=t.replace(new RegExp(`\\${c}(\\W|$)`,"g"),`${h}$1`).trim())}),n.separator&&(t.endsWith(n.separator)&&(t=t.slice(0,-n.separator.length).trim()),t.startsWith(n.separator)&&(t=t.slice(n.separator.length).trim()),t=t.replace(new RegExp(`\\${n.separator}\\s*\\${n.separator}`,"g"),n.separator)),t}function Vg(){return{hooks:{"tags:resolve":t=>{var c;const{tags:n}=t,o=(c=n.find(h=>h.tag==="title"))==null?void 0:c.textContent,s=n.findIndex(h=>h.tag==="templateParams"),l=s!==-1?n[s].props:{};l.pageTitle=l.pageTitle||o||"";for(const h of n)if(["titleTemplate","title"].includes(h.tag)&&typeof h.textContent=="string")h.textContent=$o(h.textContent,l);else if(h.tag==="meta"&&typeof h.props.content=="string")h.props.content=$o(h.props.content,l);else if(h.tag==="link"&&typeof h.props.href=="string")h.props.href=$o(h.props.href,l);else if(h.tag==="script"&&["application/json","application/ld+json"].includes(h.props.type)&&typeof h.innerHTML=="string")try{h.innerHTML=JSON.stringify(JSON.parse(h.innerHTML),(d,m)=>typeof m=="string"?$o(m,l):m)}catch{}t.tags=n.filter(h=>h.tag!=="templateParams")}}}}const Eh=typeof window<"u";let Th;function Gg(t){return Th=t}function $g(){return Th}function Oh(t,n={}){var s;const o=$g();if(o){const l=Eh||((s=o.resolvedOptions)==null?void 0:s.document);return n.mode==="server"&&l||n.mode==="client"&&!l?void 0:o.push(t,n)}}async function Zg(t,n){const o={tag:t,props:{}};return t==="templateParams"?(o.props=n,o):["title","titleTemplate"].includes(t)?(o.textContent=n instanceof Promise?await n:n,o):typeof n=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?o.props.src=n:o.innerHTML=n,o):!1:(o.props=await Kg(t,{...n}),o.props.children&&(o.props.innerHTML=o.props.children),delete o.props.children,Object.keys(o.props).filter(s=>Sg.includes(s)).forEach(s=>{(!["innerHTML","textContent"].includes(s)||Mh.includes(o.tag))&&(o[s]=o.props[s]),delete o.props[s]}),["innerHTML","textContent"].forEach(s=>{if(o.tag==="script"&&typeof o[s]=="string"&&["application/ld+json","application/json"].includes(o.props.type))try{o[s]=JSON.parse(o[s])}catch{o[s]=""}typeof o[s]=="object"&&(o[s]=JSON.stringify(o[s]))}),o.props.class&&(o.props.class=qg(o.props.class)),o.props.content&&Array.isArray(o.props.content)?o.props.content.map(s=>({...o,props:{...o.props,content:s}})):o)}function qg(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(n=>t[n])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function Kg(t,n){for(const o of Object.keys(n)){const s=o.startsWith("data-");n[o]instanceof Promise&&(n[o]=await n[o]),String(n[o])==="true"?n[o]=s?"true":"":String(n[o])==="false"&&(s?n[o]="false":delete n[o])}return n}const Wg=10;async function Jg(t){const n=[];return Object.entries(t.resolvedInput).filter(([o,s])=>typeof s<"u"&&Cg.includes(o)).forEach(([o,s])=>{const l=Mg(s);n.push(...l.map(c=>Zg(o,c)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((o,s)=>(o._e=t._i,o._p=(t._i<<Wg)+s,o))}function Yg(){return[Ug(),Ig(),Vg(),Dg(),Ng(),Hg(),zg()]}function Xg(t={}){return[Ag({document:t==null?void 0:t.document,delayFn:t==null?void 0:t.domDelayFn})]}function Qg(t={}){const n=t_({...t,plugins:[...Xg(t),...(t==null?void 0:t.plugins)||[]]});return t.experimentalHashHydration&&n.resolvedOptions.document&&(n._hash=Rg(n.resolvedOptions.document)),Gg(n),n}function t_(t={}){let n=[],o={},s=0;const l=Lg();t!=null&&t.hooks&&l.addHooks(t.hooks),t.plugins=[...Yg(),...(t==null?void 0:t.plugins)||[]],t.plugins.forEach(d=>d.hooks&&l.addHooks(d.hooks)),t.document=t.document||(Eh?document:void 0);const c=()=>l.callHook("entries:updated",h),h={resolvedOptions:t,headEntries(){return n},get hooks(){return l},use(d){d.hooks&&l.addHooks(d.hooks)},push(d,m){const g={_i:s++,input:d,_sde:{}};return m!=null&&m.mode&&(g._m=m==null?void 0:m.mode),m!=null&&m.transform&&(g._t=m==null?void 0:m.transform),n.push(g),c(),{dispose(){n=n.filter(y=>y._i!==g._i?!0:(o={...o,...y._sde||{}},y._sde={},c(),!1))},patch(y){n=n.map(k=>(k._i===g._i&&(g.input=k.input=y,c()),k))}}},async resolveTags(){const d={tags:[],entries:[...n]};await l.callHook("entries:resolve",d);for(const m of d.entries){const g=m._t||(y=>y);if(m.resolvedInput=g(m.resolvedInput||m.input),m.resolvedInput)for(const y of await Jg(m)){const k={tag:y,entry:m,resolvedOptions:h.resolvedOptions};await l.callHook("tag:normalise",k),d.tags.push(k.tag)}}return await l.callHook("tags:resolve",d),d.tags},_popSideEffectQueue(){const d={...o};return o={},d},_elMap:{}};return h.hooks.callHook("init",h),h}function e_(t){return Object.entries(t).filter(([o])=>o.startsWith("meta_")).map(([o,s])=>({name:o.slice(5),content:s}))}function Ah(t,n){return function(){return t.apply(n,arguments)}}const{toString:n_}=Object.prototype,{getPrototypeOf:ll}=Object,xs=(t=>n=>{const o=n_.call(n);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),n=>xs(n)===t),ks=t=>n=>typeof n===t,{isArray:Li}=Array,uo=ks("undefined");function r_(t){return t!==null&&!uo(t)&&t.constructor!==null&&!uo(t.constructor)&&bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Rh=Un("ArrayBuffer");function i_(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Rh(t.buffer),n}const o_=ks("string"),bn=ks("function"),Bh=ks("number"),Ls=t=>t!==null&&typeof t=="object",s_=t=>t===!0||t===!1,Wo=t=>{if(xs(t)!=="object")return!1;const n=ll(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a_=Un("Date"),l_=Un("File"),c_=Un("Blob"),u_=Un("FileList"),h_=t=>Ls(t)&&bn(t.pipe),f_=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||bn(t.append)&&((n=xs(t))==="formdata"||n==="object"&&bn(t.toString)&&t.toString()==="[object FormData]"))},d_=Un("URLSearchParams"),p_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function po(t,n,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let s,l;if(typeof t!="object"&&(t=[t]),Li(t))for(s=0,l=t.length;s<l;s++)n.call(null,t[s],s,t);else{const c=o?Object.getOwnPropertyNames(t):Object.keys(t),h=c.length;let d;for(s=0;s<h;s++)d=c[s],n.call(null,t[d],d,t)}}function Ih(t,n){n=n.toLowerCase();const o=Object.keys(t);let s=o.length,l;for(;s-- >0;)if(l=o[s],n===l.toLowerCase())return l;return null}const Dh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),zh=t=>!uo(t)&&t!==Dh;function Sa(){const{caseless:t}=zh(this)&&this||{},n={},o=(s,l)=>{const c=t&&Ih(n,l)||l;Wo(n[c])&&Wo(s)?n[c]=Sa(n[c],s):Wo(s)?n[c]=Sa({},s):Li(s)?n[c]=s.slice():n[c]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&po(arguments[s],o);return n}const m_=(t,n,o,{allOwnKeys:s}={})=>(po(n,(l,c)=>{o&&bn(l)?t[c]=Ah(l,o):t[c]=l},{allOwnKeys:s}),t),g_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),__=(t,n,o,s)=>{t.prototype=Object.create(n.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),o&&Object.assign(t.prototype,o)},y_=(t,n,o,s)=>{let l,c,h;const d={};if(n=n||{},t==null)return n;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)h=l[c],(!s||s(h,t,n))&&!d[h]&&(n[h]=t[h],d[h]=!0);t=o!==!1&&ll(t)}while(t&&(!o||o(t,n))&&t!==Object.prototype);return n},v_=(t,n,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=n.length;const s=t.indexOf(n,o);return s!==-1&&s===o},b_=t=>{if(!t)return null;if(Li(t))return t;let n=t.length;if(!Bh(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=t[n];return o},w_=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&ll(Uint8Array)),x_=(t,n)=>{const s=(t&&t[Symbol.iterator]).call(t);let l;for(;(l=s.next())&&!l.done;){const c=l.value;n.call(t,c[0],c[1])}},k_=(t,n)=>{let o;const s=[];for(;(o=t.exec(n))!==null;)s.push(o);return s},L_=Un("HTMLFormElement"),M_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,s,l){return s.toUpperCase()+l}),jc=(({hasOwnProperty:t})=>(n,o)=>t.call(n,o))(Object.prototype),C_=Un("RegExp"),jh=(t,n)=>{const o=Object.getOwnPropertyDescriptors(t),s={};po(o,(l,c)=>{n(l,c,t)!==!1&&(s[c]=l)}),Object.defineProperties(t,s)},P_=t=>{jh(t,(n,o)=>{if(bn(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const s=t[o];if(bn(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},S_=(t,n)=>{const o={},s=l=>{l.forEach(c=>{o[c]=!0})};return Li(t)?s(t):s(String(t).split(n)),o},E_=()=>{},T_=(t,n)=>(t=+t,Number.isFinite(t)?t:n),ra="abcdefghijklmnopqrstuvwxyz",Nc="0123456789",Nh={DIGIT:Nc,ALPHA:ra,ALPHA_DIGIT:ra+ra.toUpperCase()+Nc},O_=(t=16,n=Nh.ALPHA_DIGIT)=>{let o="";const{length:s}=n;for(;t--;)o+=n[Math.random()*s|0];return o};function A_(t){return!!(t&&bn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const R_=t=>{const n=new Array(10),o=(s,l)=>{if(Ls(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[l]=s;const c=Li(s)?[]:{};return po(s,(h,d)=>{const m=o(h,l+1);!uo(m)&&(c[d]=m)}),n[l]=void 0,c}}return s};return o(t,0)},B_=Un("AsyncFunction"),I_=t=>t&&(Ls(t)||bn(t))&&bn(t.then)&&bn(t.catch),dt={isArray:Li,isArrayBuffer:Rh,isBuffer:r_,isFormData:f_,isArrayBufferView:i_,isString:o_,isNumber:Bh,isBoolean:s_,isObject:Ls,isPlainObject:Wo,isUndefined:uo,isDate:a_,isFile:l_,isBlob:c_,isRegExp:C_,isFunction:bn,isStream:h_,isURLSearchParams:d_,isTypedArray:w_,isFileList:u_,forEach:po,merge:Sa,extend:m_,trim:p_,stripBOM:g_,inherits:__,toFlatObject:y_,kindOf:xs,kindOfTest:Un,endsWith:v_,toArray:b_,forEachEntry:x_,matchAll:k_,isHTMLForm:L_,hasOwnProperty:jc,hasOwnProp:jc,reduceDescriptors:jh,freezeMethods:P_,toObjectSet:S_,toCamelCase:M_,noop:E_,toFiniteNumber:T_,findKey:Ih,global:Dh,isContextDefined:zh,ALPHABET:Nh,generateString:O_,isSpecCompliantForm:A_,toJSONObject:R_,isAsyncFn:B_,isThenable:I_};function fe(t,n,o,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),s&&(this.request=s),l&&(this.response=l)}dt.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hh=fe.prototype,Fh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Fh[t]={value:t}});Object.defineProperties(fe,Fh);Object.defineProperty(Hh,"isAxiosError",{value:!0});fe.from=(t,n,o,s,l,c)=>{const h=Object.create(Hh);return dt.toFlatObject(t,h,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),fe.call(h,t.message,n,o,s,l),h.cause=t,h.name=t.name,c&&Object.assign(h,c),h};const D_=null;function Ea(t){return dt.isPlainObject(t)||dt.isArray(t)}function Uh(t){return dt.endsWith(t,"[]")?t.slice(0,-2):t}function Hc(t,n,o){return t?t.concat(n).map(function(l,c){return l=Uh(l),!o&&c?"["+l+"]":l}).join(o?".":""):n}function z_(t){return dt.isArray(t)&&!t.some(Ea)}const j_=dt.toFlatObject(dt,{},null,function(n){return/^is[A-Z]/.test(n)});function Ms(t,n,o){if(!dt.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,o=dt.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,$){return!dt.isUndefined($[S])});const s=o.metaTokens,l=o.visitor||y,c=o.dots,h=o.indexes,m=(o.Blob||typeof Blob<"u"&&Blob)&&dt.isSpecCompliantForm(n);if(!dt.isFunction(l))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(dt.isDate(T))return T.toISOString();if(!m&&dt.isBlob(T))throw new fe("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(T)||dt.isTypedArray(T)?m&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function y(T,S,$){let E=T;if(T&&!$&&typeof T=="object"){if(dt.endsWith(S,"{}"))S=s?S:S.slice(0,-2),T=JSON.stringify(T);else if(dt.isArray(T)&&z_(T)||(dt.isFileList(T)||dt.endsWith(S,"[]"))&&(E=dt.toArray(T)))return S=Uh(S),E.forEach(function(H,P){!(dt.isUndefined(H)||H===null)&&n.append(h===!0?Hc([S],P,c):h===null?S:S+"[]",g(H))}),!1}return Ea(T)?!0:(n.append(Hc($,S,c),g(T)),!1)}const k=[],C=Object.assign(j_,{defaultVisitor:y,convertValue:g,isVisitable:Ea});function z(T,S){if(!dt.isUndefined(T)){if(k.indexOf(T)!==-1)throw Error("Circular reference detected in "+S.join("."));k.push(T),dt.forEach(T,function(E,O){(!(dt.isUndefined(E)||E===null)&&l.call(n,E,dt.isString(O)?O.trim():O,S,C))===!0&&z(E,S?S.concat(O):[O])}),k.pop()}}if(!dt.isObject(t))throw new TypeError("data must be an object");return z(t),n}function Fc(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function cl(t,n){this._pairs=[],t&&Ms(t,this,n)}const Vh=cl.prototype;Vh.append=function(n,o){this._pairs.push([n,o])};Vh.toString=function(n){const o=n?function(s){return n.call(this,s,Fc)}:Fc;return this._pairs.map(function(l){return o(l[0])+"="+o(l[1])},"").join("&")};function N_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gh(t,n,o){if(!n)return t;const s=o&&o.encode||N_,l=o&&o.serialize;let c;if(l?c=l(n,o):c=dt.isURLSearchParams(n)?n.toString():new cl(n,o).toString(s),c){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class H_{constructor(){this.handlers=[]}use(n,o,s){return this.handlers.push({fulfilled:n,rejected:o,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){dt.forEach(this.handlers,function(s){s!==null&&n(s)})}}const Uc=H_,$h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F_=typeof URLSearchParams<"u"?URLSearchParams:cl,U_=typeof FormData<"u"?FormData:null,V_=typeof Blob<"u"?Blob:null,G_=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),$_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Hn={isBrowser:!0,classes:{URLSearchParams:F_,FormData:U_,Blob:V_},isStandardBrowserEnv:G_,isStandardBrowserWebWorkerEnv:$_,protocols:["http","https","file","blob","url","data"]};function Z_(t,n){return Ms(t,new Hn.classes.URLSearchParams,Object.assign({visitor:function(o,s,l,c){return Hn.isNode&&dt.isBuffer(o)?(this.append(s,o.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},n))}function q_(t){return dt.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function K_(t){const n={},o=Object.keys(t);let s;const l=o.length;let c;for(s=0;s<l;s++)c=o[s],n[c]=t[c];return n}function Zh(t){function n(o,s,l,c){let h=o[c++];const d=Number.isFinite(+h),m=c>=o.length;return h=!h&&dt.isArray(l)?l.length:h,m?(dt.hasOwnProp(l,h)?l[h]=[l[h],s]:l[h]=s,!d):((!l[h]||!dt.isObject(l[h]))&&(l[h]=[]),n(o,s,l[h],c)&&dt.isArray(l[h])&&(l[h]=K_(l[h])),!d)}if(dt.isFormData(t)&&dt.isFunction(t.entries)){const o={};return dt.forEachEntry(t,(s,l)=>{n(q_(s),l,o,0)}),o}return null}const W_={"Content-Type":void 0};function J_(t,n,o){if(dt.isString(t))try{return(n||JSON.parse)(t),dt.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(o||JSON.stringify)(t)}const Cs={transitional:$h,adapter:["xhr","http"],transformRequest:[function(n,o){const s=o.getContentType()||"",l=s.indexOf("application/json")>-1,c=dt.isObject(n);if(c&&dt.isHTMLForm(n)&&(n=new FormData(n)),dt.isFormData(n))return l&&l?JSON.stringify(Zh(n)):n;if(dt.isArrayBuffer(n)||dt.isBuffer(n)||dt.isStream(n)||dt.isFile(n)||dt.isBlob(n))return n;if(dt.isArrayBufferView(n))return n.buffer;if(dt.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Z_(n,this.formSerializer).toString();if((d=dt.isFileList(n))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Ms(d?{"files[]":n}:n,m&&new m,this.formSerializer)}}return c||l?(o.setContentType("application/json",!1),J_(n)):n}],transformResponse:[function(n){const o=this.transitional||Cs.transitional,s=o&&o.forcedJSONParsing,l=this.responseType==="json";if(n&&dt.isString(n)&&(s&&!this.responseType||l)){const h=!(o&&o.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(d){if(h)throw d.name==="SyntaxError"?fe.from(d,fe.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};dt.forEach(["delete","get","head"],function(n){Cs.headers[n]={}});dt.forEach(["post","put","patch"],function(n){Cs.headers[n]=dt.merge(W_)});const ul=Cs,Y_=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X_=t=>{const n={};let o,s,l;return t&&t.split(`
`).forEach(function(h){l=h.indexOf(":"),o=h.substring(0,l).trim().toLowerCase(),s=h.substring(l+1).trim(),!(!o||n[o]&&Y_[o])&&(o==="set-cookie"?n[o]?n[o].push(s):n[o]=[s]:n[o]=n[o]?n[o]+", "+s:s)}),n},Vc=Symbol("internals");function Zi(t){return t&&String(t).trim().toLowerCase()}function Jo(t){return t===!1||t==null?t:dt.isArray(t)?t.map(Jo):String(t)}function Q_(t){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=o.exec(t);)n[s[1]]=s[2];return n}const ty=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ia(t,n,o,s,l){if(dt.isFunction(s))return s.call(this,n,o);if(l&&(n=o),!!dt.isString(n)){if(dt.isString(s))return n.indexOf(s)!==-1;if(dt.isRegExp(s))return s.test(n)}}function ey(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,s)=>o.toUpperCase()+s)}function ny(t,n){const o=dt.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+o,{value:function(l,c,h){return this[s].call(this,n,l,c,h)},configurable:!0})})}class Ps{constructor(n){n&&this.set(n)}set(n,o,s){const l=this;function c(d,m,g){const y=Zi(m);if(!y)throw new Error("header name must be a non-empty string");const k=dt.findKey(l,y);(!k||l[k]===void 0||g===!0||g===void 0&&l[k]!==!1)&&(l[k||m]=Jo(d))}const h=(d,m)=>dt.forEach(d,(g,y)=>c(g,y,m));return dt.isPlainObject(n)||n instanceof this.constructor?h(n,o):dt.isString(n)&&(n=n.trim())&&!ty(n)?h(X_(n),o):n!=null&&c(o,n,s),this}get(n,o){if(n=Zi(n),n){const s=dt.findKey(this,n);if(s){const l=this[s];if(!o)return l;if(o===!0)return Q_(l);if(dt.isFunction(o))return o.call(this,l,s);if(dt.isRegExp(o))return o.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=Zi(n),n){const s=dt.findKey(this,n);return!!(s&&this[s]!==void 0&&(!o||ia(this,this[s],s,o)))}return!1}delete(n,o){const s=this;let l=!1;function c(h){if(h=Zi(h),h){const d=dt.findKey(s,h);d&&(!o||ia(s,s[d],d,o))&&(delete s[d],l=!0)}}return dt.isArray(n)?n.forEach(c):c(n),l}clear(n){const o=Object.keys(this);let s=o.length,l=!1;for(;s--;){const c=o[s];(!n||ia(this,this[c],c,n,!0))&&(delete this[c],l=!0)}return l}normalize(n){const o=this,s={};return dt.forEach(this,(l,c)=>{const h=dt.findKey(s,c);if(h){o[h]=Jo(l),delete o[c];return}const d=n?ey(c):String(c).trim();d!==c&&delete o[c],o[d]=Jo(l),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return dt.forEach(this,(s,l)=>{s!=null&&s!==!1&&(o[l]=n&&dt.isArray(s)?s.join(", "):s)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const s=new this(n);return o.forEach(l=>s.set(l)),s}static accessor(n){const s=(this[Vc]=this[Vc]={accessors:{}}).accessors,l=this.prototype;function c(h){const d=Zi(h);s[d]||(ny(l,h),s[d]=!0)}return dt.isArray(n)?n.forEach(c):c(n),this}}Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);dt.freezeMethods(Ps.prototype);dt.freezeMethods(Ps);const tr=Ps;function oa(t,n){const o=this||ul,s=n||o,l=tr.from(s.headers);let c=s.data;return dt.forEach(t,function(d){c=d.call(o,c,l.normalize(),n?n.status:void 0)}),l.normalize(),c}function qh(t){return!!(t&&t.__CANCEL__)}function mo(t,n,o){fe.call(this,t??"canceled",fe.ERR_CANCELED,n,o),this.name="CanceledError"}dt.inherits(mo,fe,{__CANCEL__:!0});function ry(t,n,o){const s=o.config.validateStatus;!o.status||!s||s(o.status)?t(o):n(new fe("Request failed with status code "+o.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const iy=Hn.isStandardBrowserEnv?function(){return{write:function(o,s,l,c,h,d){const m=[];m.push(o+"="+encodeURIComponent(s)),dt.isNumber(l)&&m.push("expires="+new Date(l).toGMTString()),dt.isString(c)&&m.push("path="+c),dt.isString(h)&&m.push("domain="+h),d===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){const s=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sy(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function Kh(t,n){return t&&!oy(n)?sy(t,n):n}const ay=Hn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let s;function l(c){let h=c;return n&&(o.setAttribute("href",h),h=o.href),o.setAttribute("href",h),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return s=l(window.location.href),function(h){const d=dt.isString(h)?l(h):h;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}();function ly(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function cy(t,n){t=t||10;const o=new Array(t),s=new Array(t);let l=0,c=0,h;return n=n!==void 0?n:1e3,function(m){const g=Date.now(),y=s[c];h||(h=g),o[l]=m,s[l]=g;let k=c,C=0;for(;k!==l;)C+=o[k++],k=k%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),g-h<n)return;const z=y&&g-y;return z?Math.round(C*1e3/z):void 0}}function Gc(t,n){let o=0;const s=cy(50,250);return l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,d=c-o,m=s(d),g=c<=h;o=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-c)/m:void 0,event:l};y[n?"download":"upload"]=!0,t(y)}}const uy=typeof XMLHttpRequest<"u",hy=uy&&function(t){return new Promise(function(o,s){let l=t.data;const c=tr.from(t.headers).normalize(),h=t.responseType;let d;function m(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}dt.isFormData(l)&&(Hn.isStandardBrowserEnv||Hn.isStandardBrowserWebWorkerEnv?c.setContentType(!1):c.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(t.auth){const z=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.set("Authorization","Basic "+btoa(z+":"+T))}const y=Kh(t.baseURL,t.url);g.open(t.method.toUpperCase(),Gh(y,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function k(){if(!g)return;const z=tr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),S={data:!h||h==="text"||h==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:z,config:t,request:g};ry(function(E){o(E),m()},function(E){s(E),m()},S),g=null}if("onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(s(new fe("Request aborted",fe.ECONNABORTED,t,g)),g=null)},g.onerror=function(){s(new fe("Network Error",fe.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||$h;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),s(new fe(T,S.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,g)),g=null},Hn.isStandardBrowserEnv){const z=(t.withCredentials||ay(y))&&t.xsrfCookieName&&iy.read(t.xsrfCookieName);z&&c.set(t.xsrfHeaderName,z)}l===void 0&&c.setContentType(null),"setRequestHeader"in g&&dt.forEach(c.toJSON(),function(T,S){g.setRequestHeader(S,T)}),dt.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),h&&h!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",Gc(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Gc(t.onUploadProgress)),(t.cancelToken||t.signal)&&(d=z=>{g&&(s(!z||z.type?new mo(null,t,g):z),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));const C=ly(y);if(C&&Hn.protocols.indexOf(C)===-1){s(new fe("Unsupported protocol "+C+":",fe.ERR_BAD_REQUEST,t));return}g.send(l||null)})},Yo={http:D_,xhr:hy};dt.forEach(Yo,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const fy={getAdapter:t=>{t=dt.isArray(t)?t:[t];const{length:n}=t;let o,s;for(let l=0;l<n&&(o=t[l],!(s=dt.isString(o)?Yo[o.toLowerCase()]:o));l++);if(!s)throw s===!1?new fe(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(dt.hasOwnProp(Yo,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!dt.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:Yo};function sa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mo(null,t)}function $c(t){return sa(t),t.headers=tr.from(t.headers),t.data=oa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fy.getAdapter(t.adapter||ul.adapter)(t).then(function(s){return sa(t),s.data=oa.call(t,t.transformResponse,s),s.headers=tr.from(s.headers),s},function(s){return qh(s)||(sa(t),s&&s.response&&(s.response.data=oa.call(t,t.transformResponse,s.response),s.response.headers=tr.from(s.response.headers))),Promise.reject(s)})}const Zc=t=>t instanceof tr?t.toJSON():t;function gi(t,n){n=n||{};const o={};function s(g,y,k){return dt.isPlainObject(g)&&dt.isPlainObject(y)?dt.merge.call({caseless:k},g,y):dt.isPlainObject(y)?dt.merge({},y):dt.isArray(y)?y.slice():y}function l(g,y,k){if(dt.isUndefined(y)){if(!dt.isUndefined(g))return s(void 0,g,k)}else return s(g,y,k)}function c(g,y){if(!dt.isUndefined(y))return s(void 0,y)}function h(g,y){if(dt.isUndefined(y)){if(!dt.isUndefined(g))return s(void 0,g)}else return s(void 0,y)}function d(g,y,k){if(k in n)return s(g,y);if(k in t)return s(void 0,g)}const m={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,y)=>l(Zc(g),Zc(y),!0)};return dt.forEach(Object.keys(Object.assign({},t,n)),function(y){const k=m[y]||l,C=k(t[y],n[y],y);dt.isUndefined(C)&&k!==d||(o[y]=C)}),o}const Wh="1.4.0",hl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{hl[t]=function(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const qc={};hl.transitional=function(n,o,s){function l(c,h){return"[Axios v"+Wh+"] Transitional option '"+c+"'"+h+(s?". "+s:"")}return(c,h,d)=>{if(n===!1)throw new fe(l(h," has been removed"+(o?" in "+o:"")),fe.ERR_DEPRECATED);return o&&!qc[h]&&(qc[h]=!0,console.warn(l(h," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(c,h,d):!0}};function dy(t,n,o){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let l=s.length;for(;l-- >0;){const c=s[l],h=n[c];if(h){const d=t[c],m=d===void 0||h(d,c,t);if(m!==!0)throw new fe("option "+c+" must be "+m,fe.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new fe("Unknown option "+c,fe.ERR_BAD_OPTION)}}const Ta={assertOptions:dy,validators:hl},dr=Ta.validators;class as{constructor(n){this.defaults=n,this.interceptors={request:new Uc,response:new Uc}}request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=gi(this.defaults,o);const{transitional:s,paramsSerializer:l,headers:c}=o;s!==void 0&&Ta.assertOptions(s,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),l!=null&&(dt.isFunction(l)?o.paramsSerializer={serialize:l}:Ta.assertOptions(l,{encode:dr.function,serialize:dr.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h;h=c&&dt.merge(c.common,c[o.method]),h&&dt.forEach(["delete","get","head","post","put","patch","common"],T=>{delete c[T]}),o.headers=tr.concat(h,c);const d=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(o)===!1||(m=m&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let y,k=0,C;if(!m){const T=[$c.bind(this),void 0];for(T.unshift.apply(T,d),T.push.apply(T,g),C=T.length,y=Promise.resolve(o);k<C;)y=y.then(T[k++],T[k++]);return y}C=d.length;let z=o;for(k=0;k<C;){const T=d[k++],S=d[k++];try{z=T(z)}catch($){S.call(this,$);break}}try{y=$c.call(this,z)}catch(T){return Promise.reject(T)}for(k=0,C=g.length;k<C;)y=y.then(g[k++],g[k++]);return y}getUri(n){n=gi(this.defaults,n);const o=Kh(n.baseURL,n.url);return Gh(o,n.params,n.paramsSerializer)}}dt.forEach(["delete","get","head","options"],function(n){as.prototype[n]=function(o,s){return this.request(gi(s||{},{method:n,url:o,data:(s||{}).data}))}});dt.forEach(["post","put","patch"],function(n){function o(s){return function(c,h,d){return this.request(gi(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}as.prototype[n]=o(),as.prototype[n+"Form"]=o(!0)});const Xo=as;class fl{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(c){o=c});const s=this;this.promise.then(l=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](l);s._listeners=null}),this.promise.then=l=>{let c;const h=new Promise(d=>{s.subscribe(d),c=d}).then(l);return h.cancel=function(){s.unsubscribe(c)},h},n(function(c,h,d){s.reason||(s.reason=new mo(c,h,d),o(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}static source(){let n;return{token:new fl(function(l){n=l}),cancel:n}}}const py=fl;function my(t){return function(o){return t.apply(null,o)}}function gy(t){return dt.isObject(t)&&t.isAxiosError===!0}const Oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oa).forEach(([t,n])=>{Oa[n]=t});const _y=Oa;function Jh(t){const n=new Xo(t),o=Ah(Xo.prototype.request,n);return dt.extend(o,Xo.prototype,n,{allOwnKeys:!0}),dt.extend(o,n,null,{allOwnKeys:!0}),o.create=function(l){return Jh(gi(t,l))},o}const Fe=Jh(ul);Fe.Axios=Xo;Fe.CanceledError=mo;Fe.CancelToken=py;Fe.isCancel=qh;Fe.VERSION=Wh;Fe.toFormData=Ms;Fe.AxiosError=fe;Fe.Cancel=Fe.CanceledError;Fe.all=function(n){return Promise.all(n)};Fe.spread=my;Fe.isAxiosError=gy;Fe.mergeConfig=gi;Fe.AxiosHeaders=tr;Fe.formToJSON=t=>Zh(dt.isHTMLForm(t)?new FormData(t):t);Fe.HttpStatusCode=_y;Fe.default=Fe;const yy=Fe,{url:vy,project_token:by}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null},an=yy.create({baseURL:vy,params:{project_token:by}}),wy={__name:"App",setup(t){Qg();const n=e_({base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null});return Oh({title:"My project",meta:n}),(o,s)=>{const l=Ot("router-view");return Y(),Vt(yg,null,{default:Ht(()=>[Lt(l)]),_:1})}}},de=(t,n)=>{const o=t.__vccOpts||t;for(const[s,l]of n)o[s]=l;return o};var xy=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Yh;const Ss=t=>Yh=t,Xh=Symbol();function Aa(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var to;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(to||(to={}));function ky(){const t=Pu(!0),n=t.run(()=>Xt({}));let o=[],s=[];const l=ds({install(c){Ss(l),l._a=c,c.provide(Xh,l),c.config.globalProperties.$pinia=l,s.forEach(h=>o.push(h)),s=[]},use(c){return!this._a&&!xy?s.push(c):o.push(c),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return l}const Qh=()=>{};function Kc(t,n,o,s=Qh){t.push(n);const l=()=>{const c=t.indexOf(n);c>-1&&(t.splice(c,1),s())};return!o&&Su()&&bd(l),l}function si(t,...n){t.slice().forEach(o=>{o(...n)})}const Ly=t=>t();function Ra(t,n){t instanceof Map&&n instanceof Map&&n.forEach((o,s)=>t.set(s,o)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const s=n[o],l=t[o];Aa(l)&&Aa(s)&&t.hasOwnProperty(o)&&!Be(s)&&!vr(s)?t[o]=Ra(l,s):t[o]=s}return t}const My=Symbol();function Cy(t){return!Aa(t)||!t.hasOwnProperty(My)}const{assign:mr}=Object;function Py(t){return!!(Be(t)&&t.effect)}function Sy(t,n,o,s){const{state:l,actions:c,getters:h}=n,d=o.state.value[t];let m;function g(){d||(o.state.value[t]=l?l():{});const y=Xd(o.state.value[t]);return mr(y,c,Object.keys(h||{}).reduce((k,C)=>(k[C]=ds(pe(()=>{Ss(o);const z=o._s.get(t);return h[C].call(z,z)})),k),{}))}return m=tf(t,g,n,o,s,!0),m}function tf(t,n,o={},s,l,c){let h;const d=mr({actions:{}},o),m={deep:!0};let g,y,k=[],C=[],z;const T=s.state.value[t];!c&&!T&&(s.state.value[t]={}),Xt({});let S;function $(W){let et;g=y=!1,typeof W=="function"?(W(s.state.value[t]),et={type:to.patchFunction,storeId:t,events:z}):(Ra(s.state.value[t],W),et={type:to.patchObject,payload:W,storeId:t,events:z});const st=S=Symbol();ms().then(()=>{S===st&&(g=!0)}),y=!0,si(k,et,s.state.value[t])}const E=c?function(){const{state:et}=o,st=et?et():{};this.$patch(ft=>{mr(ft,st)})}:Qh;function O(){h.stop(),k=[],C=[],s._s.delete(t)}function H(W,et){return function(){Ss(s);const st=Array.from(arguments),ft=[],it=[];function gt(kt){ft.push(kt)}function bt(kt){it.push(kt)}si(C,{args:st,name:W,store:I,after:gt,onError:bt});let Pt;try{Pt=et.apply(this&&this.$id===t?this:I,st)}catch(kt){throw si(it,kt),kt}return Pt instanceof Promise?Pt.then(kt=>(si(ft,kt),kt)).catch(kt=>(si(it,kt),Promise.reject(kt))):(si(ft,Pt),Pt)}}const P={_p:s,$id:t,$onAction:Kc.bind(null,C),$patch:$,$reset:E,$subscribe(W,et={}){const st=Kc(k,W,et.detached,()=>ft()),ft=h.run(()=>Ie(()=>s.state.value[t],it=>{(et.flush==="sync"?y:g)&&W({storeId:t,type:to.direct,events:z},it)},mr({},m,et)));return st},$dispose:O},I=xi(P);s._s.set(t,I);const K=s._a&&s._a.runWithContext||Ly,nt=s._e.run(()=>(h=Pu(),K(()=>h.run(n))));for(const W in nt){const et=nt[W];if(Be(et)&&!Py(et)||vr(et))c||(T&&Cy(et)&&(Be(et)?et.value=T[W]:Ra(et,T[W])),s.state.value[t][W]=et);else if(typeof et=="function"){const st=H(W,et);nt[W]=st,d.actions[W]=et}}return mr(I,nt),mr(ue(I),nt),Object.defineProperty(I,"$state",{get:()=>s.state.value[t],set:W=>{$(et=>{mr(et,W)})}}),s._p.forEach(W=>{mr(I,h.run(()=>W({store:I,app:s._a,pinia:s,options:d})))}),T&&c&&o.hydrate&&o.hydrate(I.$state,T),g=!0,y=!0,I}function Ey(t,n,o){let s,l;const c=typeof n=="function";typeof t=="string"?(s=t,l=c?o:n):(l=t,s=t.id);function h(d,m){const g=Np();return d=d||(g?vn(Xh,null):null),d&&Ss(d),d=Yh,d._s.has(s)||(c?tf(s,n,l,d):Sy(s,l,d)),d._s.get(s)}return h.$id=s,h}const Ty={},Oy={class:"container mx-auto text-center mt-36 flex flex-col justify-center"},Ay=wt("h1",{class:"text-4xl"},"Welcome to TaxonPages",-1),Ry=wt("p",{class:"m-4"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),By=[Ay,Ry];function Iy(t,n){return Y(),ht("div",Oy,By)}const Dy=de(Ty,[["render",Iy]]),zy=[{name:"homepage",path:"/",alias:"/home",component:Dy}];/*!
  * vue-router v4.2.1
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const li=typeof window<"u";function jy(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const we=Object.assign;function aa(t,n){const o={};for(const s in n){const l=n[s];o[s]=Tn(l)?l.map(t):t(l)}return o}const eo=()=>{},Tn=Array.isArray,Ny=/\/$/,Hy=t=>t.replace(Ny,"");function la(t,n,o="/"){let s,l={},c="",h="";const d=n.indexOf("#");let m=n.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(s=n.slice(0,m),c=n.slice(m+1,d>-1?d:n.length),l=t(c)),d>-1&&(s=s||n.slice(0,d),h=n.slice(d,n.length)),s=Gy(s??n,o),{fullPath:s+(c&&"?")+c+h,path:s,query:l,hash:h}}function Fy(t,n){const o=n.query?t(n.query):"";return n.path+(o&&"?")+o+(n.hash||"")}function Wc(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function Uy(t,n,o){const s=n.matched.length-1,l=o.matched.length-1;return s>-1&&s===l&&_i(n.matched[s],o.matched[l])&&ef(n.params,o.params)&&t(n.query)===t(o.query)&&n.hash===o.hash}function _i(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function ef(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(!Vy(t[o],n[o]))return!1;return!0}function Vy(t,n){return Tn(t)?Jc(t,n):Tn(n)?Jc(n,t):t===n}function Jc(t,n){return Tn(n)?t.length===n.length&&t.every((o,s)=>o===n[s]):t.length===1&&t[0]===n}function Gy(t,n){if(t.startsWith("/"))return t;if(!t)return n;const o=n.split("/"),s=t.split("/"),l=s[s.length-1];(l===".."||l===".")&&s.push("");let c=o.length-1,h,d;for(h=0;h<s.length;h++)if(d=s[h],d!==".")if(d==="..")c>1&&c--;else break;return o.slice(0,c).join("/")+"/"+s.slice(h-(h===s.length?1:0)).join("/")}var ho;(function(t){t.pop="pop",t.push="push"})(ho||(ho={}));var no;(function(t){t.back="back",t.forward="forward",t.unknown=""})(no||(no={}));function $y(t){if(!t)if(li){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Hy(t)}const Zy=/^[^#]+#/;function qy(t,n){return t.replace(Zy,"#")+n}function Ky(t,n){const o=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:n.behavior,left:s.left-o.left-(n.left||0),top:s.top-o.top-(n.top||0)}}const Es=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wy(t){let n;if("el"in t){const o=t.el,s=typeof o=="string"&&o.startsWith("#"),l=typeof o=="string"?s?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!l)return;n=Ky(l,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Yc(t,n){return(history.state?history.state.position-n:-1)+t}const Ba=new Map;function Jy(t,n){Ba.set(t,n)}function Yy(t){const n=Ba.get(t);return Ba.delete(t),n}let Xy=()=>location.protocol+"//"+location.host;function nf(t,n){const{pathname:o,search:s,hash:l}=n,c=t.indexOf("#");if(c>-1){let d=l.includes(t.slice(c))?t.slice(c).length:1,m=l.slice(d);return m[0]!=="/"&&(m="/"+m),Wc(m,"")}return Wc(o,t)+s+l}function Qy(t,n,o,s){let l=[],c=[],h=null;const d=({state:C})=>{const z=nf(t,location),T=o.value,S=n.value;let $=0;if(C){if(o.value=z,n.value=C,h&&h===T){h=null;return}$=S?C.position-S.position:0}else s(z);l.forEach(E=>{E(o.value,T,{delta:$,type:ho.pop,direction:$?$>0?no.forward:no.back:no.unknown})})};function m(){h=o.value}function g(C){l.push(C);const z=()=>{const T=l.indexOf(C);T>-1&&l.splice(T,1)};return c.push(z),z}function y(){const{history:C}=window;C.state&&C.replaceState(we({},C.state,{scroll:Es()}),"")}function k(){for(const C of c)C();c=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:m,listen:g,destroy:k}}function Xc(t,n,o,s=!1,l=!1){return{back:t,current:n,forward:o,replaced:s,position:window.history.length,scroll:l?Es():null}}function tv(t){const{history:n,location:o}=window,s={value:nf(t,o)},l={value:n.state};l.value||c(s.value,{back:null,current:s.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function c(m,g,y){const k=t.indexOf("#"),C=k>-1?(o.host&&document.querySelector("base")?t:t.slice(k))+m:Xy()+t+m;try{n[y?"replaceState":"pushState"](g,"",C),l.value=g}catch(z){console.error(z),o[y?"replace":"assign"](C)}}function h(m,g){const y=we({},n.state,Xc(l.value.back,m,l.value.forward,!0),g,{position:l.value.position});c(m,y,!0),s.value=m}function d(m,g){const y=we({},l.value,n.state,{forward:m,scroll:Es()});c(y.current,y,!0);const k=we({},Xc(s.value,m,null),{position:y.position+1},g);c(m,k,!1),s.value=m}return{location:s,state:l,push:d,replace:h}}function rf(t){t=$y(t);const n=tv(t),o=Qy(t,n.state,n.location,n.replace);function s(c,h=!0){h||o.pauseListeners(),history.go(c)}const l=we({location:"",base:t,go:s,createHref:qy.bind(null,t)},n,o);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function ev(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),rf(t)}function nv(t){return typeof t=="string"||t&&typeof t=="object"}function of(t){return typeof t=="string"||typeof t=="symbol"}const pr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sf=Symbol("");var Qc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Qc||(Qc={}));function yi(t,n){return we(new Error,{type:t,[sf]:!0},n)}function Xn(t,n){return t instanceof Error&&sf in t&&(n==null||!!(t.type&n))}const tu="[^/]+?",rv={sensitive:!1,strict:!1,start:!0,end:!0},iv=/[.+*?^${}()[\]/\\]/g;function ov(t,n){const o=we({},rv,n),s=[];let l=o.start?"^":"";const c=[];for(const g of t){const y=g.length?[]:[90];o.strict&&!g.length&&(l+="/");for(let k=0;k<g.length;k++){const C=g[k];let z=40+(o.sensitive?.25:0);if(C.type===0)k||(l+="/"),l+=C.value.replace(iv,"\\$&"),z+=40;else if(C.type===1){const{value:T,repeatable:S,optional:$,regexp:E}=C;c.push({name:T,repeatable:S,optional:$});const O=E||tu;if(O!==tu){z+=10;try{new RegExp(`(${O})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${T}" (${O}): `+P.message)}}let H=S?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;k||(H=$&&g.length<2?`(?:/${H})`:"/"+H),$&&(H+="?"),l+=H,z+=20,$&&(z+=-8),S&&(z+=-20),O===".*"&&(z+=-50)}y.push(z)}s.push(y)}if(o.strict&&o.end){const g=s.length-1;s[g][s[g].length-1]+=.7000000000000001}o.strict||(l+="/?"),o.end?l+="$":o.strict&&(l+="(?:/|$)");const h=new RegExp(l,o.sensitive?"":"i");function d(g){const y=g.match(h),k={};if(!y)return null;for(let C=1;C<y.length;C++){const z=y[C]||"",T=c[C-1];k[T.name]=z&&T.repeatable?z.split("/"):z}return k}function m(g){let y="",k=!1;for(const C of t){(!k||!y.endsWith("/"))&&(y+="/"),k=!1;for(const z of C)if(z.type===0)y+=z.value;else if(z.type===1){const{value:T,repeatable:S,optional:$}=z,E=T in g?g[T]:"";if(Tn(E)&&!S)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const O=Tn(E)?E.join("/"):E;if(!O)if($)C.length<2&&(y.endsWith("/")?y=y.slice(0,-1):k=!0);else throw new Error(`Missing required param "${T}"`);y+=O}}return y||"/"}return{re:h,score:s,keys:c,parse:d,stringify:m}}function sv(t,n){let o=0;for(;o<t.length&&o<n.length;){const s=n[o]-t[o];if(s)return s;o++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function av(t,n){let o=0;const s=t.score,l=n.score;for(;o<s.length&&o<l.length;){const c=sv(s[o],l[o]);if(c)return c;o++}if(Math.abs(l.length-s.length)===1){if(eu(s))return 1;if(eu(l))return-1}return l.length-s.length}function eu(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const lv={type:0,value:""},cv=/[a-zA-Z0-9_]/;function uv(t){if(!t)return[[]];if(t==="/")return[[lv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(z){throw new Error(`ERR (${o})/"${g}": ${z}`)}let o=0,s=o;const l=[];let c;function h(){c&&l.push(c),c=[]}let d=0,m,g="",y="";function k(){g&&(o===0?c.push({type:0,value:g}):o===1||o===2||o===3?(c.length>1&&(m==="*"||m==="+")&&n(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:g,regexp:y,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):n("Invalid state to consume buffer"),g="")}function C(){g+=m}for(;d<t.length;){if(m=t[d++],m==="\\"&&o!==2){s=o,o=4;continue}switch(o){case 0:m==="/"?(g&&k(),h()):m===":"?(k(),o=1):C();break;case 4:C(),o=s;break;case 1:m==="("?o=2:cv.test(m)?C():(k(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+m:o=3:y+=m;break;case 3:k(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,y="";break;default:n("Unknown state");break}}return o===2&&n(`Unfinished custom RegExp for param "${g}"`),k(),h(),l}function hv(t,n,o){const s=ov(uv(t.path),o),l=we(s,{record:t,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function fv(t,n){const o=[],s=new Map;n=iu({strict:!1,end:!0,sensitive:!1},n);function l(y){return s.get(y)}function c(y,k,C){const z=!C,T=dv(y);T.aliasOf=C&&C.record;const S=iu(n,y),$=[T];if("alias"in y){const H=typeof y.alias=="string"?[y.alias]:y.alias;for(const P of H)$.push(we({},T,{components:C?C.record.components:T.components,path:P,aliasOf:C?C.record:T}))}let E,O;for(const H of $){const{path:P}=H;if(k&&P[0]!=="/"){const I=k.record.path,K=I[I.length-1]==="/"?"":"/";H.path=k.record.path+(P&&K+P)}if(E=hv(H,k,S),C?C.alias.push(E):(O=O||E,O!==E&&O.alias.push(E),z&&y.name&&!ru(E)&&h(y.name)),T.children){const I=T.children;for(let K=0;K<I.length;K++)c(I[K],E,C&&C.children[K])}C=C||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&m(E)}return O?()=>{h(O)}:eo}function h(y){if(of(y)){const k=s.get(y);k&&(s.delete(y),o.splice(o.indexOf(k),1),k.children.forEach(h),k.alias.forEach(h))}else{const k=o.indexOf(y);k>-1&&(o.splice(k,1),y.record.name&&s.delete(y.record.name),y.children.forEach(h),y.alias.forEach(h))}}function d(){return o}function m(y){let k=0;for(;k<o.length&&av(y,o[k])>=0&&(y.record.path!==o[k].record.path||!af(y,o[k]));)k++;o.splice(k,0,y),y.record.name&&!ru(y)&&s.set(y.record.name,y)}function g(y,k){let C,z={},T,S;if("name"in y&&y.name){if(C=s.get(y.name),!C)throw yi(1,{location:y});S=C.record.name,z=we(nu(k.params,C.keys.filter(O=>!O.optional).map(O=>O.name)),y.params&&nu(y.params,C.keys.map(O=>O.name))),T=C.stringify(z)}else if("path"in y)T=y.path,C=o.find(O=>O.re.test(T)),C&&(z=C.parse(T),S=C.record.name);else{if(C=k.name?s.get(k.name):o.find(O=>O.re.test(k.path)),!C)throw yi(1,{location:y,currentLocation:k});S=C.record.name,z=we({},k.params,y.params),T=C.stringify(z)}const $=[];let E=C;for(;E;)$.unshift(E.record),E=E.parent;return{name:S,path:T,params:z,matched:$,meta:mv($)}}return t.forEach(y=>c(y)),{addRoute:c,resolve:g,removeRoute:h,getRoutes:d,getRecordMatcher:l}}function nu(t,n){const o={};for(const s of n)s in t&&(o[s]=t[s]);return o}function dv(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:pv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function pv(t){const n={},o=t.props||!1;if("component"in t)n.default=o;else for(const s in t.components)n[s]=typeof o=="boolean"?o:o[s];return n}function ru(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mv(t){return t.reduce((n,o)=>we(n,o.meta),{})}function iu(t,n){const o={};for(const s in t)o[s]=s in n?n[s]:t[s];return o}function af(t,n){return n.children.some(o=>o===t||af(t,o))}const lf=/#/g,gv=/&/g,_v=/\//g,yv=/=/g,vv=/\?/g,cf=/\+/g,bv=/%5B/g,wv=/%5D/g,uf=/%5E/g,xv=/%60/g,hf=/%7B/g,kv=/%7C/g,ff=/%7D/g,Lv=/%20/g;function dl(t){return encodeURI(""+t).replace(kv,"|").replace(bv,"[").replace(wv,"]")}function Mv(t){return dl(t).replace(hf,"{").replace(ff,"}").replace(uf,"^")}function Ia(t){return dl(t).replace(cf,"%2B").replace(Lv,"+").replace(lf,"%23").replace(gv,"%26").replace(xv,"`").replace(hf,"{").replace(ff,"}").replace(uf,"^")}function Cv(t){return Ia(t).replace(yv,"%3D")}function Pv(t){return dl(t).replace(lf,"%23").replace(vv,"%3F")}function Sv(t){return t==null?"":Pv(t).replace(_v,"%2F")}function ls(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Ev(t){const n={};if(t===""||t==="?")return n;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<s.length;++l){const c=s[l].replace(cf," "),h=c.indexOf("="),d=ls(h<0?c:c.slice(0,h)),m=h<0?null:ls(c.slice(h+1));if(d in n){let g=n[d];Tn(g)||(g=n[d]=[g]),g.push(m)}else n[d]=m}return n}function ou(t){let n="";for(let o in t){const s=t[o];if(o=Cv(o),s==null){s!==void 0&&(n+=(n.length?"&":"")+o);continue}(Tn(s)?s.map(c=>c&&Ia(c)):[s&&Ia(s)]).forEach(c=>{c!==void 0&&(n+=(n.length?"&":"")+o,c!=null&&(n+="="+c))})}return n}function Tv(t){const n={};for(const o in t){const s=t[o];s!==void 0&&(n[o]=Tn(s)?s.map(l=>l==null?null:""+l):s==null?s:""+s)}return n}const Ov=Symbol(""),su=Symbol(""),Ts=Symbol(""),pl=Symbol(""),Da=Symbol("");function qi(){let t=[];function n(s){return t.push(s),()=>{const l=t.indexOf(s);l>-1&&t.splice(l,1)}}function o(){t=[]}return{add:n,list:()=>t,reset:o}}function _r(t,n,o,s,l){const c=s&&(s.enterCallbacks[l]=s.enterCallbacks[l]||[]);return()=>new Promise((h,d)=>{const m=k=>{k===!1?d(yi(4,{from:o,to:n})):k instanceof Error?d(k):nv(k)?d(yi(2,{from:n,to:k})):(c&&s.enterCallbacks[l]===c&&typeof k=="function"&&c.push(k),h())},g=t.call(s&&s.instances[l],n,o,m);let y=Promise.resolve(g);t.length<3&&(y=y.then(m)),y.catch(k=>d(k))})}function ca(t,n,o,s){const l=[];for(const c of t)for(const h in c.components){let d=c.components[h];if(!(n!=="beforeRouteEnter"&&!c.instances[h]))if(Av(d)){const g=(d.__vccOpts||d)[n];g&&l.push(_r(g,o,s,c,h))}else{let m=d();l.push(()=>m.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${h}" at "${c.path}"`));const y=jy(g)?g.default:g;c.components[h]=y;const C=(y.__vccOpts||y)[n];return C&&_r(C,o,s,c,h)()}))}}return l}function Av(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function au(t){const n=vn(Ts),o=vn(pl),s=pe(()=>n.resolve(ge(t.to))),l=pe(()=>{const{matched:m}=s.value,{length:g}=m,y=m[g-1],k=o.matched;if(!y||!k.length)return-1;const C=k.findIndex(_i.bind(null,y));if(C>-1)return C;const z=lu(m[g-2]);return g>1&&lu(y)===z&&k[k.length-1].path!==z?k.findIndex(_i.bind(null,m[g-2])):C}),c=pe(()=>l.value>-1&&Dv(o.params,s.value.params)),h=pe(()=>l.value>-1&&l.value===o.matched.length-1&&ef(o.params,s.value.params));function d(m={}){return Iv(m)?n[ge(t.replace)?"replace":"push"](ge(t.to)).catch(eo):Promise.resolve()}return{route:s,href:pe(()=>s.value.href),isActive:c,isExactActive:h,navigate:d}}const Rv=eh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:au,setup(t,{slots:n}){const o=xi(au(t)),{options:s}=vn(Ts),l=pe(()=>({[cu(t.activeClass,s.linkActiveClass,"router-link-active")]:o.isActive,[cu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const c=n.default&&n.default(o);return t.custom?c:sl("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:l.value},c)}}}),Bv=Rv;function Iv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function Dv(t,n){for(const o in n){const s=n[o],l=t[o];if(typeof s=="string"){if(s!==l)return!1}else if(!Tn(l)||l.length!==s.length||s.some((c,h)=>c!==l[h]))return!1}return!0}function lu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cu=(t,n,o)=>t??n??o,zv=eh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:o}){const s=vn(Da),l=pe(()=>t.route||s.value),c=vn(su,0),h=pe(()=>{let g=ge(c);const{matched:y}=l.value;let k;for(;(k=y[g])&&!k.components;)g++;return g}),d=pe(()=>l.value.matched[h.value]);qo(su,pe(()=>h.value+1)),qo(Ov,d),qo(Da,l);const m=Xt();return Ie(()=>[m.value,d.value,t.name],([g,y,k],[C,z,T])=>{y&&(y.instances[k]=g,z&&z!==y&&g&&g===C&&(y.leaveGuards.size||(y.leaveGuards=z.leaveGuards),y.updateGuards.size||(y.updateGuards=z.updateGuards))),g&&y&&(!z||!_i(y,z)||!C)&&(y.enterCallbacks[k]||[]).forEach(S=>S(g))},{flush:"post"}),()=>{const g=l.value,y=t.name,k=d.value,C=k&&k.components[y];if(!C)return uu(o.default,{Component:C,route:g});const z=k.props[y],T=z?z===!0?g.params:typeof z=="function"?z(g):z:null,$=sl(C,we({},T,n,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(k.instances[y]=null)},ref:m}));return uu(o.default,{Component:$,route:g})||$}}});function uu(t,n){if(!t)return null;const o=t(n);return o.length===1?o[0]:o}const jv=zv;function Nv(t){const n=fv(t.routes,t),o=t.parseQuery||Ev,s=t.stringifyQuery||ou,l=t.history,c=qi(),h=qi(),d=qi(),m=Wd(pr);let g=pr;li&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=aa.bind(null,lt=>""+lt),k=aa.bind(null,Sv),C=aa.bind(null,ls);function z(lt,Mt){let Ct,It;return of(lt)?(Ct=n.getRecordMatcher(lt),It=Mt):It=lt,n.addRoute(It,Ct)}function T(lt){const Mt=n.getRecordMatcher(lt);Mt&&n.removeRoute(Mt)}function S(){return n.getRoutes().map(lt=>lt.record)}function $(lt){return!!n.getRecordMatcher(lt)}function E(lt,Mt){if(Mt=we({},Mt||m.value),typeof lt=="string"){const J=la(o,lt,Mt.path),ct=n.resolve({path:J.path},Mt),pt=l.createHref(J.fullPath);return we(J,ct,{params:C(ct.params),hash:ls(J.hash),redirectedFrom:void 0,href:pt})}let Ct;if("path"in lt)Ct=we({},lt,{path:la(o,lt.path,Mt.path).path});else{const J=we({},lt.params);for(const ct in J)J[ct]==null&&delete J[ct];Ct=we({},lt,{params:k(J)}),Mt.params=k(Mt.params)}const It=n.resolve(Ct,Mt),ie=lt.hash||"";It.params=y(C(It.params));const U=Fy(s,we({},lt,{hash:Mv(ie),path:It.path})),q=l.createHref(U);return we({fullPath:U,hash:ie,query:s===ou?Tv(lt.query):lt.query||{}},It,{redirectedFrom:void 0,href:q})}function O(lt){return typeof lt=="string"?la(o,lt,m.value.path):we({},lt)}function H(lt,Mt){if(g!==lt)return yi(8,{from:Mt,to:lt})}function P(lt){return nt(lt)}function I(lt){return P(we(O(lt),{replace:!0}))}function K(lt){const Mt=lt.matched[lt.matched.length-1];if(Mt&&Mt.redirect){const{redirect:Ct}=Mt;let It=typeof Ct=="function"?Ct(lt):Ct;return typeof It=="string"&&(It=It.includes("?")||It.includes("#")?It=O(It):{path:It},It.params={}),we({query:lt.query,hash:lt.hash,params:"path"in It?{}:lt.params},It)}}function nt(lt,Mt){const Ct=g=E(lt),It=m.value,ie=lt.state,U=lt.force,q=lt.replace===!0,J=K(Ct);if(J)return nt(we(O(J),{state:typeof J=="object"?we({},ie,J.state):ie,force:U,replace:q}),Mt||Ct);const ct=Ct;ct.redirectedFrom=Mt;let pt;return!U&&Uy(s,It,Ct)&&(pt=yi(16,{to:ct,from:It}),At(It,It,!0,!1)),(pt?Promise.resolve(pt):st(ct,It)).catch(yt=>Xn(yt)?Xn(yt,2)?yt:Bt(yt):_t(yt,ct,It)).then(yt=>{if(yt){if(Xn(yt,2))return nt(we({replace:q},O(yt.to),{state:typeof yt.to=="object"?we({},ie,yt.to.state):ie,force:U}),Mt||ct)}else yt=it(ct,It,!0,q,ie);return ft(ct,It,yt),yt})}function W(lt,Mt){const Ct=H(lt,Mt);return Ct?Promise.reject(Ct):Promise.resolve()}function et(lt){const Mt=ce.values().next().value;return Mt&&typeof Mt.runWithContext=="function"?Mt.runWithContext(lt):lt()}function st(lt,Mt){let Ct;const[It,ie,U]=Hv(lt,Mt);Ct=ca(It.reverse(),"beforeRouteLeave",lt,Mt);for(const J of It)J.leaveGuards.forEach(ct=>{Ct.push(_r(ct,lt,Mt))});const q=W.bind(null,lt,Mt);return Ct.push(q),zt(Ct).then(()=>{Ct=[];for(const J of c.list())Ct.push(_r(J,lt,Mt));return Ct.push(q),zt(Ct)}).then(()=>{Ct=ca(ie,"beforeRouteUpdate",lt,Mt);for(const J of ie)J.updateGuards.forEach(ct=>{Ct.push(_r(ct,lt,Mt))});return Ct.push(q),zt(Ct)}).then(()=>{Ct=[];for(const J of lt.matched)if(J.beforeEnter&&!Mt.matched.includes(J))if(Tn(J.beforeEnter))for(const ct of J.beforeEnter)Ct.push(_r(ct,lt,Mt));else Ct.push(_r(J.beforeEnter,lt,Mt));return Ct.push(q),zt(Ct)}).then(()=>(lt.matched.forEach(J=>J.enterCallbacks={}),Ct=ca(U,"beforeRouteEnter",lt,Mt),Ct.push(q),zt(Ct))).then(()=>{Ct=[];for(const J of h.list())Ct.push(_r(J,lt,Mt));return Ct.push(q),zt(Ct)}).catch(J=>Xn(J,8)?J:Promise.reject(J))}function ft(lt,Mt,Ct){for(const It of d.list())et(()=>It(lt,Mt,Ct))}function it(lt,Mt,Ct,It,ie){const U=H(lt,Mt);if(U)return U;const q=Mt===pr,J=li?history.state:{};Ct&&(It||q?l.replace(lt.fullPath,we({scroll:q&&J&&J.scroll},ie)):l.push(lt.fullPath,ie)),m.value=lt,At(lt,Mt,Ct,q),Bt()}let gt;function bt(){gt||(gt=l.listen((lt,Mt,Ct)=>{if(!re.listening)return;const It=E(lt),ie=K(It);if(ie){nt(we(ie,{replace:!0}),It).catch(eo);return}g=It;const U=m.value;li&&Jy(Yc(U.fullPath,Ct.delta),Es()),st(It,U).catch(q=>Xn(q,12)?q:Xn(q,2)?(nt(q.to,It).then(J=>{Xn(J,20)&&!Ct.delta&&Ct.type===ho.pop&&l.go(-1,!1)}).catch(eo),Promise.reject()):(Ct.delta&&l.go(-Ct.delta,!1),_t(q,It,U))).then(q=>{q=q||it(It,U,!1),q&&(Ct.delta&&!Xn(q,8)?l.go(-Ct.delta,!1):Ct.type===ho.pop&&Xn(q,20)&&l.go(-1,!1)),ft(It,U,q)}).catch(eo)}))}let Pt=qi(),kt=qi(),Nt;function _t(lt,Mt,Ct){Bt(lt);const It=kt.list();return It.length?It.forEach(ie=>ie(lt,Mt,Ct)):console.error(lt),Promise.reject(lt)}function le(){return Nt&&m.value!==pr?Promise.resolve():new Promise((lt,Mt)=>{Pt.add([lt,Mt])})}function Bt(lt){return Nt||(Nt=!lt,bt(),Pt.list().forEach(([Mt,Ct])=>lt?Ct(lt):Mt()),Pt.reset()),lt}function At(lt,Mt,Ct,It){const{scrollBehavior:ie}=t;if(!li||!ie)return Promise.resolve();const U=!Ct&&Yy(Yc(lt.fullPath,0))||(It||!Ct)&&history.state&&history.state.scroll||null;return ms().then(()=>ie(lt,Mt,U)).then(q=>q&&Wy(q)).catch(q=>_t(q,lt,Mt))}const Ft=lt=>l.go(lt);let xe;const ce=new Set,re={currentRoute:m,listening:!0,addRoute:z,removeRoute:T,hasRoute:$,getRoutes:S,resolve:E,options:t,push:P,replace:I,go:Ft,back:()=>Ft(-1),forward:()=>Ft(1),beforeEach:c.add,beforeResolve:h.add,afterEach:d.add,onError:kt.add,isReady:le,install(lt){const Mt=this;lt.component("RouterLink",Bv),lt.component("RouterView",jv),lt.config.globalProperties.$router=Mt,Object.defineProperty(lt.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(m)}),li&&!xe&&m.value===pr&&(xe=!0,P(l.location).catch(ie=>{}));const Ct={};for(const ie in pr)Ct[ie]=pe(()=>m.value[ie]);lt.provide(Ts,Mt),lt.provide(pl,xi(Ct)),lt.provide(Da,m);const It=lt.unmount;ce.add(lt),lt.unmount=function(){ce.delete(lt),ce.size<1&&(g=pr,gt&&gt(),gt=null,m.value=pr,xe=!1,Nt=!1),It()}}};function zt(lt){return lt.reduce((Mt,Ct)=>Mt.then(()=>et(Ct)),Promise.resolve())}return re}function Hv(t,n){const o=[],s=[],l=[],c=Math.max(n.matched.length,t.matched.length);for(let h=0;h<c;h++){const d=n.matched[h];d&&(t.matched.find(g=>_i(g,d))?s.push(d):o.push(d));const m=t.matched[h];m&&(n.matched.find(g=>_i(g,m))||l.push(m))}return[o,s,l]}function df(){return vn(Ts)}function Fv(){return vn(pl)}class Xe{static getTaxonNameCitations(n){return an.get(`/taxon_names/${n}/inventory/catalog`)}static getOtu(n){return an.get(`/otus/${n}`,{params:{extend:["parents"]}})}static getOtus(n){return an.get("/otus.json",{params:n})}static getTaxon(n){return an.get(`/taxon_names/${n}`)}static summary(n){return an.get(`/taxon_names/${n}/inventory/summary`)}static getTaxonTypeDesignation(n){return an.get(`/taxon_names/${n}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(n,o={}){return an.get(`/otus/${n}/inventory/images.json`,{params:o})}static getOtuDescendants(n,o){return an.get(`/otus/${n}/inventory/taxonomy.json`,{params:o})}static getOtuTypeMaterial(n){return an.get(`/otus/${n}/inventory/type_material.json`)}static getOtuDistribution(n){return an.get(`/otus/${n}/inventory/distribution.json`)}static getOtuGeoJSONDistribution(n){return an.get(`/otus/${n}/inventory/distribution.geojson`)}static getOtuContent(n){return an.get(`/otus/${n}/inventory/content`,{extend:["depiction"]})}}function Uv(t,n){return n.split("::").at(2)===t}function Vv(t,n){return{type:"Feature",geometry:t,properties:{base:[{type:n}]}}}function Gv(t){const n=[],o=[];return t.features.forEach(s=>{const l=s.properties.shape.id,c=s.properties.shape.type;o.includes(s.properties.base.type)||o.push(s.properties.base.type);const h=n.findIndex(d=>d.properties.shape.id===l&&d.properties.shape.type===c);if(h>-1){const d=n[h];d.properties.base.push(s.properties.base),d.properties.target.push(s.properties.target)}else{const d=structuredClone(s);d.properties.base=[d.properties.base],d.properties.target=[d.properties.target],n.push(d)}}),o.sort(),{shapeTypes:o,features:n}}const $v={async loadDistribution({otuId:t,rankString:n}){const o=Uv("SpeciesGroup",n),s=async l=>{Xe.getOtuDistribution(l).then(({data:c})=>{const h=JSON.parse(c.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[Vv(h,"Aggregate")]}}).catch(c=>{this.distribution.errorMessage=c.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[]})};o?Xe.getOtuGeoJSONDistribution(t).then(({data:l})=>{if(l.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=l.message;else{const{features:c,shapeTypes:h}=Gv(l);this.distribution.currentShapeTypes=h,this.distribution.geojson={features:c}}}).catch(l=>{s(t)}):s(t)}},ml=Ey("otuStore",{state:()=>({otu:null,taxon:null,images:null,distribution:{geojson:null,errorMessage:null,currentShapeTypes:[]}}),actions:{async loadTaxon(t){const n=await Xe.summary(t);this.taxon=n.data},async loadOtu(t){const n=await Xe.getOtu(t);this.otu=n.data},async loadInit(t){const n=(await Xe.getOtu(t)).data,o=(await Xe.summary(n.taxon_name_id)).data;this.otu=n,this.taxon=o},async loadImages(t){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.images=(await Xe.getOtuImages(t,n)).data},...$v}}),Zv={class:"relative"},qv=wt("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[wt("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Kv={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Wv={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const n=Xt(!1);return(o,s)=>{const l=Ot("router-link");return Y(),ht("div",Zv,[wt("div",null,[wt("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:s[0]||(s[0]=c=>n.value=!n.value)},[Re(o.$slots,"default"),qv]),n.value?(Y(),ht("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:s[1]||(s[1]=c=>n.value=!1)})):Qt("",!0),n.value?(Y(),ht("div",Kv,[(Y(!0),ht(Jt,null,Te(t.list,c=>(Y(),Vt(l,{key:c.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:c.id}}},{default:Ht(()=>[un(Ce(c.name||o.key),1)]),_:2},1032,["to"]))),128))])):Qt("",!0)])])}}},Jv={class:"inline-flex items-center flex-wrap"},Yv={class:"inline-flex items-center ml-0 text-sm"},Xv=["innerHTML"],Qv={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(n,o)=>{const s=Ot("IconArrowRight"),l=Ot("router-link");return Y(),ht("ul",Jv,[(Y(!0),ht(Jt,null,Te(t.list,(c,h,d)=>(Y(),ht("li",{key:c.id,class:"inline-flex items-center"},[d?(Y(),Vt(s,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Qt("",!0),c.length===1?(Y(),Vt(l,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:c[0].id}}},{default:Ht(()=>[un(Ce(h),1)]),_:2},1032,["to"])):(Y(),Vt(Wv,{key:2,list:c.map(m=>({...m,name:m.name||h}))},{default:Ht(()=>[un(Ce(h),1)]),_:2},1032,["list"]))]))),128)),wt("li",Yv,[Lt(s,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),wt("span",{innerHTML:t.current.full_name_tag},null,8,Xv)])])}}},tb={__name:"CommonNames",props:{otuId:{type:Number,default:void 0}},setup(t){const n=t,o=Xt([]),s=pe(()=>o.value.map(l=>l.name).join("; "));return Ie(()=>n.otuId,l=>{l?Xe.getOtuDescendants(l,{max_descendants_depth:0,extend:["common_names"]}).then(({data:c})=>{o.value=c.common_names}):o.value=[]}),(l,c)=>(Y(),ht("span",null,Ce(s.value),1))}},eb={class:"text-1xl capitalize"},nb={class:"text-xl dark:text-gray-100"},rb=["title","innerHTML"],ib=["innerHTML"],ob={class:"text-1xl"},sb={__name:"TaxaInfo",props:{taxon:{type:Object,default:()=>({})},otuId:{type:Number,default:void 0}},setup(t){const n=t,o=pe(()=>n.taxon.cached_is_valid?"":"&#10005;"),s=pe(()=>n.taxon.cached_is_valid?"":"text-red-600");return(l,c)=>(Y(),ht("div",{class:wn({invisible:!t.taxon.id})},[wt("h2",eb,Ce(t.taxon.rank||"Combination"),1),wt("h1",nb,[wt("span",null,[wt("span",{title:t.taxon.short_status,innerHTML:t.taxon.full_name_tag},null,8,rb),t.taxon.is_valid?Qt("",!0):(Y(),ht("span",{key:0,class:wn(["ml-1",s.value]),title:"Invalid",innerHTML:o.value},null,10,ib))])]),wt("h2",ob,[Lt(tb,{"otu-id":n.otuId},null,8,["otu-id"])])],2))}},ab={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},lb={class:"container mx-auto pt-6 pb-6"},cb={class:"flex flex-col-reverse md:flex-row justify-between items-start"},ub={class:"mt-8 flex justify-between middle"},hb={class:"pt-3 pb-4"},fb={class:"container mx-auto box-border"},db={__name:"Index",setup(t){const n=Fv(),o=df(),s=Xt(n.params),l=[],c=ml();o.afterEach(k=>{s.value=k.params});const h=pe(()=>c.otu),d=pe(()=>c.taxon),m=pe(()=>{var k,C;return((k=h.value)==null?void 0:k.id)&&((C=d.value)==null?void 0:C.id)});Qa(async()=>{await g()}),Ie(()=>n.fullPath,async()=>{g()}),On(()=>{(!h.value||h.value.id!==Number(n.params.id))&&g()});async function g(){c.$reset(),await c.loadInit(n.params.id),Oh({title:`My project - ${d.value.full_name}`})}function y({id:k,otu_valid_id:C}){o.push({name:"otus-id-overview",params:{id:C||k}})}return(k,C)=>{const z=Ot("VSkeleton"),T=Ot("Autocomplete"),S=Ot("TabItem"),$=Ot("TabMenu"),E=Ot("router-view");return Y(),ht("div",null,[wt("div",ab,[wt("div",lb,[wt("div",cb,[Lt(z,{class:"w-full md:w-3/4"},{default:Ht(()=>{var O;return[m.value?(Y(),Vt(Qv,{key:0,class:"w-full md:w-3/4",list:((O=h.value)==null?void 0:O.parents)||{},current:d.value},null,8,["list","current"])):Qt("",!0)]}),_:1}),Lt(T,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:y})]),wt("div",ub,[Lt(z,{lines:2,class:"w-96"},{default:Ht(()=>[m.value?(Y(),Vt(sb,{key:0,taxon:d.value,"otu-id":h.value.id},null,8,["taxon","otu-id"])):Qt("",!0)]),_:1})]),l.length?(Y(),Vt($,{key:0,class:"m-[-1px] print:hidden"},{default:Ht(()=>[(Y(),ht(Jt,null,Te(l,({name:O,label:H})=>Lt(S,{key:O,to:{name:O}},{default:Ht(()=>[un(Ce(H),1)]),_:2},1032,["to"])),64))]),_:1})):Qt("",!0)])]),wt("div",hb,[wt("div",fb,[m.value?(Y(),Vt(E,{key:ge(n).fullPath,"taxon-id":d.value.id,taxon:d.value,"taxon-rank":d.value.rank_string,"otu-id":h.value.id,otu:h.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Qt("",!0)])])])}}},hu=["neotype","holotype","neolectotype","lectotype","syntype","paratype","paratypes"],pb="FamilyGroup",mb="GenusGroup",gb="SpeciesGroup",_b={__name:"Gallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=ml(),s=pe(()=>o.images||[]);return Qa(async()=>{await o.loadImages(n.otuId)}),On(()=>{o.images||o.loadImages(n.otuId)}),(l,c)=>{const h=Ot("GalleryImage"),d=Ot("VCardContent"),m=Ot("VCard");return s.value.length?(Y(),Vt(m,{key:0},{default:Ht(()=>[Lt(d,null,{default:Ht(()=>[Lt(h,{images:s.value},null,8,["images"])]),_:1})]),_:1})):Qt("",!0)}}},yb=wt("h1",{class:"text-md"}," Type specimen ",-1),vb={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=Xt([]);return Ie(()=>n.otuId,()=>{n.otuId&&Xe.getOtuTypeMaterial(n.otuId).then(({data:s})=>{o.value=s.type_materials_catalog_labels.sort((l,c)=>hu.indexOf(l.type_type)-hu.indexOf(c.type_type))})},{immediate:!0}),(s,l)=>{const c=Ot("VCardHeader"),h=Ot("VCardContent"),d=Ot("VCard");return o.value.length?(Y(),Vt(d,{key:0},{default:Ht(()=>[Lt(c,null,{default:Ht(()=>[yb]),_:1}),Lt(h,{class:"text-sm"},{default:Ht(()=>[wt("p",null,Ce(o.value[0].label),1)]),_:1})]),_:1})):Qt("",!0)}}},bb=wt("h1",{class:"text-md"},"Type",-1),wb=["innerHTML"],xb={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const n=t,o=Xt({}),s=pe(()=>[o.value.subject_object_tag||"",o.value.subject_status_tag||"",o.value.object_object_tag||""].join(" "));return Ie(()=>n.taxonId,async()=>{n.taxonId&&Xe.getTaxonTypeDesignation(n.taxonId).then(({data:l})=>{o.value=l.type_taxon_name_relationship||{}})},{immediate:!0}),(l,c)=>{const h=Ot("VCardHeader"),d=Ot("VCardContent"),m=Ot("VCard");return Y(),Vt(m,null,{default:Ht(()=>[Lt(h,null,{default:Ht(()=>[bb]),_:1}),Lt(d,{class:"text-sm"},{default:Ht(()=>[wt("p",{innerHTML:s.value},null,8,wb)]),_:1})]),_:1})}}};function pf(t,n){const o=t.slice(),s=o.splice(0,n),l=o.splice(-n);return{first:s,middle:o,last:l}}const kb={class:"border-b border-base-muted p-3 px-5"},Lb=["title","innerHTML"],Mb=["innerHTML"],ua={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(n,o)=>(Y(),ht("li",kb,[wt("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,Lb),t.citation.type_label?(Y(),ht("span",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,Mb)):Qt("",!0)]))}},Cb={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},mf={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(n,o)=>{const s=Ot("IconPlusCircle");return Y(),ht("li",Cb,[wt("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:o[0]||(o[0]=()=>n.isExpanded=!n.isExpanded)},[Lt(s,{class:"h-5 w-5"})]),wt("span",null,"... Show all ... ("+Ce(t.count)+")",1)])}}},Pb={class:"text-md"},Sb={class:"text-sm"},Eb={class:"text-sm"},Tb={class:"text-sm"},Ob=2,Ab={__name:"PanelNomenclatureCitations",props:{list:{type:Array,default:()=>[]}},setup(t){const n=t,o=Xt(!1),s=pe(()=>pf(n.list,Ob)),l=pe(()=>[{label:o.value?"Show less":"Show all",action:()=>o.value=!o.value}]);return(c,h)=>{const d=Ot("IconHamburger"),m=Ot("Dropdown"),g=Ot("VCardHeader"),y=Ot("AnimationOpacity"),k=Ot("VCard");return Y(),Vt(k,null,{default:Ht(()=>[Lt(g,{class:"flex justify-between"},{default:Ht(()=>[wt("h2",Pb,"Nomenclature ("+Ce(t.list.length)+")",1),Lt(m,{items:l.value},{button:Ht(()=>[Lt(d,{class:"text-base-soft h-4"})]),_:1},8,["items"])]),_:1}),wt("ul",Sb,[(Y(!0),ht(Jt,null,Te(s.value.first,C=>(Y(),Vt(ua,{key:C.label,citation:C},null,8,["citation"]))),128)),!o.value&&s.value.middle.length?(Y(),Vt(mf,{key:0,count:s.value.middle.length,onClick:h[0]||(h[0]=C=>o.value=!0)},null,8,["count"])):Qt("",!0)]),Lt(y,null,{default:Ht(()=>[Xa(wt("ul",Eb,[(Y(!0),ht(Jt,null,Te(s.value.middle,C=>(Y(),Vt(ua,{key:C.label,citation:C},null,8,["citation"]))),128))],512),[[xh,o.value]])]),_:1}),wt("ul",Tb,[(Y(!0),ht(Jt,null,Te(s.value.last,C=>(Y(),Vt(ua,{key:C.label,citation:C},null,8,["citation"]))),128))])]),_:1})}}},Rb={class:"border-b border-base-muted p-3 px-5"},Bb=["title","innerHTML"],ha={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(n,o)=>(Y(),ht("li",Rb,[wt("span",{class:"break-all block",title:t.reference.cached,innerHTML:t.reference.cached},null,8,Bb)]))}},Ib={class:"text-md"},Db={class:"text-sm"},zb=2,jb={__name:"PanelNomenclatureReferences",props:{list:{type:Array,default:()=>[]}},setup(t){const n=t,o=Xt(!1),s=pe(()=>pf(n.list,zb)),l=pe(()=>[{label:o.value?"Show less":"Show all",action:()=>o.value=!o.value}]);return(c,h)=>{const d=Ot("IconHamburger"),m=Ot("Dropdown"),g=Ot("VCardHeader"),y=Ot("AnimationOpacity"),k=Ot("VCard");return Y(),Vt(k,null,{default:Ht(()=>[Lt(g,{class:"flex justify-between"},{default:Ht(()=>[wt("h2",Ib,"Nomenclature references ("+Ce(t.list.length)+")",1),Lt(m,{items:l.value},{button:Ht(()=>[Lt(d,{class:"text-base-soft h-4"})]),_:1},8,["items"])]),_:1}),wt("ul",Db,[(Y(!0),ht(Jt,null,Te(s.value.first,C=>(Y(),Vt(ha,{key:C,reference:C},null,8,["reference"]))),128)),!o.value&&s.value.middle.length?(Y(),Vt(mf,{key:0,count:s.value.middle.length,onClick:h[0]||(h[0]=C=>o.value=!0)},null,8,["count"])):Qt("",!0),Lt(y,null,{default:Ht(()=>[Xa(wt("div",null,[(Y(!0),ht(Jt,null,Te(s.value.middle,C=>(Y(),Vt(ha,{key:C,reference:C},null,8,["reference"]))),128))],512),[[xh,o.value]])]),_:1}),(Y(!0),ht(Jt,null,Te(s.value.last,C=>(Y(),Vt(ha,{key:C,reference:C},null,8,["reference"]))),128))])]),_:1})}}},Nb={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=t,o=Xt([]),s=Xt([]);return Ie(()=>n.taxonId,async()=>{if(!n.taxonId)return;const{data:l}=await Xe.getTaxonNameCitations(n.taxonId);o.value=l.timeline,s.value=l.sources},{immediate:!0}),(l,c)=>(Y(),ht(Jt,null,[Lt(Ab,{list:o.value},null,8,["list"]),Lt(jb,{list:s.value},null,8,["list"])],64))}},Hb={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},Fb=["innerHTML"],Ub={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){return(o,s)=>{const l=Ot("IconClose");return Y(),ht("div",Hb,[wt("div",null,[wt("span",{class:"ml-2",innerHTML:t.label},null,8,Fb)]),Lt(l,{class:"cursor-pointer",onClick:s[0]||(s[0]=()=>n("close"))})])}}},Vb={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},Gb={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:n}){return(o,s)=>{const l=Ot("IconArrowRight"),c=Ot("VTableHeaderCell"),h=Ot("VTableHeaderRow"),d=Ot("VTableHeader"),m=Ot("RouterLink"),g=Ot("VTableBodyCell"),y=Ot("VTableBodyRow"),k=Ot("VTableBody"),C=Ot("VTable");return t.list.length?(Y(),Vt(C,{key:0,class:"shadow-md"},{default:Ht(()=>[Lt(d,null,{default:Ht(()=>[Lt(h,null,{default:Ht(()=>[Lt(c,{class:"w-full flex justify-between box-border items-center"},{default:Ht(()=>[wt("span",null,"OTU ("+Ce(t.list.length)+")",1),Lt(l,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:s[0]||(s[0]=z=>n("close:table"))})]),_:1})]),_:1})]),_:1}),Lt(k,null,{default:Ht(()=>[(Y(!0),ht(Jt,null,Te(t.list,z=>(Y(),Vt(y,{key:z.id},{default:Ht(()=>[Lt(g,null,{default:Ht(()=>[Lt(m,{innerHTML:z.object_tag,to:{name:"otus-id",params:{id:z.id}},onClick:s[1]||(s[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(Y(),ht("div",Vb," No OTUs found in this area "))}}};const $b={__name:"OtuSearch",props:{otu:{type:Array,default:()=>[]},shapes:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:n}){const o=t,s=Xt(),l=Xt(null),c=Xt([]),h=Xt(!1),d=Xt(),m=Xt(6),g=Xt(6),y=pe(()=>!!o.shapes&&g.value<=m.value);On(()=>{document.addEventListener("keyup",k),document.body.classList.add("overflow-hidden")}),ki(()=>{document.removeEventListener("keyup",k),document.body.classList.remove("overflow-hidden")});const k=({key:$})=>{switch($){case"Escape":n("close");break}};function C($){const E={geo_json:$,taxon_name_id:[o.otu.taxon_name_id],descendants:!0,per:5e3};d.value=!0,Xe.getOtus(E).then(({data:O})=>{c.value=O,h.value=!0}).finally(O=>{d.value=!1})}function z($){T(),y.value&&l.value.resizeMap()}function T(){g.value=l.value.getMapObject().getZoom()}function S(){m.value=l.value.getMapObject().getZoom(),T()}return($,E)=>{const O=Ot("VSpinner"),H=Ot("VMap");return Y(),ht("div",{ref_key:"root",ref:s,class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},[d.value?(Y(),Vt(O,{key:0})):Qt("",!0),Lt(Ub,{label:t.otu.object_tag,onClose:E[0]||(E[0]=()=>n("close"))},null,8,["label"]),wt("div",{class:wn(["w-full h-full relative",{"disable-zoom-out":y.value}])},[Lt(H,{ref_key:"mapRef",ref:l,class:"w-full h-full",controls:"",dragging:!y.value,"zoom-bounds":m.value,geojson:t.shapes,"onGeojson:ready":S,"onAdd:layer":E[1]||(E[1]=P=>C(JSON.stringify(P.geometry))),"onEdit:layer":E[2]||(E[2]=P=>C(JSON.stringify(P.geometry))),"onDrag:layer":E[3]||(E[3]=P=>C(JSON.stringify(P.geometry))),"onZoom:change":z,zoom:4},null,8,["dragging","zoom-bounds","geojson"]),wt("div",{class:wn(["h-full md:w-96 absolute top-0 bg-base-background z-[2000] overflow-auto ease-in-out duration-300 w-full",{"md:-right-96 -right-full":!h.value,"right-0":h.value}])},[h.value?(Y(),Vt(Gb,{key:0,list:c.value,onClose:E[4]||(E[4]=()=>n("close")),"onClose:table":E[5]||(E[5]=()=>h.value=!1)},null,8,["list"])):Qt("",!0)],2)],2)],512)}}},Zb=de($b,[["__scopeId","data-v-3caf981b"]]),qb={class:"relative"},Kb={key:0,class:"flex flex-row p-2 text-xs italic"},Wb={key:1,class:"flex flex-row p-2 gap-2 text-xs"},Jb=2,Yb={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n=t,o=Xt(!0),s=Xt(!1),l=ml(),c={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return Ie(()=>n.otuId,async(h,d)=>{h!==d&&(o.value=!0,l.loadDistribution({otuId:n.otuId,rankString:n.taxon.rank_string}))},{immediate:!0}),(h,d)=>{const m=Ot("VSpinner"),g=Ot("VMap"),y=Ot("ClientOnly"),k=Ot("VButton"),C=Ot("VCard");return Y(),Vt(C,null,{default:Ht(()=>[wt("div",qb,[Lt(y,null,{default:Ht(()=>[o.value?(Y(),Vt(m,{key:0})):Qt("",!0),Lt(g,{class:"h-96 max-h-96",dragging:"",zoom:Jb,geojson:ge(l).distribution.geojson,"onGeojson:ready":d[0]||(d[0]=()=>o.value=!1)},null,8,["geojson"])]),_:1}),Lt(k,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:d[1]||(d[1]=()=>s.value=!0)},{default:Ht(()=>[un(" Search ")]),_:1}),Lt(y,null,{default:Ht(()=>[s.value?(Y(),Vt(Zb,{key:0,otu:t.otu,shapes:ge(l).distribution.geojson,onClose:d[2]||(d[2]=()=>s.value=!1)},null,8,["otu","shapes"])):Qt("",!0)]),_:1})]),ge(l).distribution.errorMessage?(Y(),ht("div",Kb," * "+Ce(ge(l).distribution.errorMessage),1)):Qt("",!0),ge(l).distribution.currentShapeTypes.length?(Y(),ht("div",Wb,[(Y(!0),ht(Jt,null,Te(ge(l).distribution.currentShapeTypes,z=>(Y(),ht("div",{key:z,class:"flex flex-row items-center"},[wt("div",{class:wn(["w-3 h-3 m-1 rounded-sm",c[z].background])},null,2),wt("span",null,Ce(c[z].label),1)]))),128))])):Qt("",!0)]),_:1})}}},Xb={class:"synonyms"},Qb=wt("span",{class:"text-orange-500 mr-1"},"=",-1),t0=["innerHTML"],e0={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const n=t;return(o,s)=>(Y(),ht("ul",Xb,[(Y(!0),ht(Jt,null,Te(n.list,l=>(Y(),ht("li",{key:l},[Qb,wt("span",{innerHTML:l},null,8,t0)]))),128))]))}};const n0={key:0,class:"tree"},r0={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const n=t,o=Xt(!!n.taxonomy.descendants.length),s=Xt([...n.taxonomy.descendants]);Ie(o,c=>{c&&l()});const l=()=>{s.value.length||Xe.getOtuDescendants(n.taxonomy.otu_id,{max_descendants_depth:1}).then(({data:c})=>{s.value=c.descendants})};return(c,h)=>{const d=Ot("button-expand"),m=Ot("router-link"),g=Ot("AnimationOpacity");return Object.keys(t.taxonomy).length?(Y(),ht("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Qt("",!0):(Y(),Vt(d,{key:0,modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=y=>o.value=y),class:"absolute -left-2.5"},null,8,["modelValue"])),Lt(m,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(Y(),Vt(e0,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Qt("",!0),Lt(g,null,{default:Ht(()=>[s.value.length?(Y(),ht("ul",n0,[(Y(!0),ht(Jt,null,Te(s.value,y=>(Y(),Vt(g,{key:y.otu_id},{default:Ht(()=>[o.value?(Y(),Vt(gf,{key:0,taxonomy:y},null,8,["taxonomy"])):Qt("",!0)]),_:2},1024))),128))])):Qt("",!0)]),_:1})])):Qt("",!0)}}},gf=de(r0,[["__scopeId","data-v-5553a635"]]);const i0=t=>(cp("data-v-405aa167"),t=t(),up(),t),o0=i0(()=>wt("h1",{class:"text-md"}," Descendants and synonyms ",-1)),s0={class:"tree ml-2"},a0={__name:"Descendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=Xt(null);return Ie(()=>n.otuId,async()=>{n.otuId&&Xe.getOtuDescendants(n.otuId,{max_descendants_depth:1}).then(({data:s})=>{o.value=s})},{immediate:!0}),(s,l)=>{const c=Ot("VCardHeader"),h=Ot("AnimationOpacity"),d=Ot("VCardContent"),m=Ot("VCard");return Y(),Vt(m,null,{default:Ht(()=>[Lt(c,null,{default:Ht(()=>[o0]),_:1}),Lt(d,{class:"text-sm"},{default:Ht(()=>[wt("ul",s0,[Lt(h,null,{default:Ht(()=>[o.value&&(o.value.nomenclatural_synonyms.length||o.value.descendants.length)?(Y(),Vt(gf,{key:0,taxonomy:o.value},null,8,["taxonomy"])):Qt("",!0)]),_:1})])]),_:1})]),_:1})}}},l0=de(a0,[["__scopeId","data-v-405aa167"]]),c0=["innerHTML"],u0={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(n,o)=>{const s=Ot("VCardHeader"),l=Ot("VCardContent");return Y(),ht(Jt,null,[Lt(s,{class:"border-t border-base-muted first:border-t-0"},{default:Ht(()=>[un(Ce(t.title),1)]),_:1}),Lt(l,null,{default:Ht(()=>[(Y(!0),ht(Jt,null,Te(t.textList,(c,h)=>(Y(),ht("ul",{key:h,class:"pt-1 text-sm"},[wt("li",{innerHTML:c},null,8,c0)]))),128))]),_:1})],64)}}},h0={__name:"PanelContent",props:{otuId:{type:Number,default:void 0}},setup(t){const n=t,o=Xt([]),s=pe(()=>o.value.reduce((l,c)=>(l[c.name]?l[c.name].push(c.text):l[c.name]=[c.text],l),{}));return Ie(()=>n.otuId,l=>{l?Xe.getOtuContent(l).then(({data:c})=>{o.value=c}):o.value=[]},{immediate:!0}),(l,c)=>{const h=Ot("VCard");return o.value.length?(Y(),Vt(h,{key:0},{default:Ht(()=>[(Y(!0),ht(Jt,null,Te(s.value,(d,m)=>(Y(),Vt(u0,{key:m,title:m,"text-list":d},null,8,["title","text-list"]))),128))]),_:1})):Qt("",!0)}}},fu={left:[{component:_b},{component:vb,available:[gb]},{component:xb,available:[pb,mb]},{component:Nb}],right:[{component:Yb},{component:l0},{component:h0}]},f0={class:"grid grid-cols-1 gap-3 md:grid-cols-2"},d0={class:"grid grid-cols-1 gap-3 auto-rows-min"},p0={class:"grid grid-cols-1 auto-rows-min gap-3"},m0={__name:"Overview",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n=(o,s)=>o.some(l=>s==null?void 0:s.includes(l));return(o,s)=>(Y(),ht("div",null,[wt("div",f0,[wt("div",d0,[(Y(!0),ht(Jt,null,Te(ge(fu).left,({component:l,available:c})=>(Y(),ht(Jt,{key:l},[!c||n(c,t.taxonRank)?(Y(),Vt(ba(l),{key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Qt("",!0)],64))),128))]),wt("div",p0,[(Y(!0),ht(Jt,null,Te(ge(fu).right,({component:l,available:c})=>(Y(),ht(Jt,{key:l},[!c||n(c,t.taxonRank)?(Y(),Vt(ba(l),{key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Qt("",!0)],64))),128))])])]))}},g0=[{name:"otus-id",path:"/otus/:id",component:db,redirect:{name:"otus-id-overview"},children:[{path:"overview",name:"otus-id-overview",component:m0}]}],_0="modulepreload",y0=function(t){return"/taxonpages/"+t},du={},_f=function(n,o,s){if(!o||o.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(o.map(c=>{if(c=y0(c),c in du)return;du[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!s)for(let y=l.length-1;y>=0;y--){const k=l[y];if(k.href===c&&(!h||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":_0,h||(g.as="script",g.crossOrigin=""),g.href=c,document.head.appendChild(g),h)return new Promise((y,k)=>{g.addEventListener("load",y),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>n())},v0=()=>_f(()=>import("./home-e1d63dec.js"),[]),b0=()=>_f(()=>import("./about-2fba6f86.js"),[]),w0=[{name:"home",path:"/",component:v0,props:!0,alias:"/home"},{name:"about",path:"/about",component:b0,props:!0}],x0=Object.assign({"/src/modules/home/router/index.js":zy,"/src/modules/otus/router/index.js":g0}),k0=Object.assign({}),{base_url:pu,hash_mode:L0}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null},M0=[].concat(...Object.values(x0),...Object.values(k0)),C0=[...w0,...M0];function P0(){return L0?ev(pu):rf(pu)}function S0(){return Nv({history:P0(),routes:C0})}function E0(){const t=jm(wy),n=S0(),o=ky();return t.use(n),t.use(o),{app:t,router:n,store:o}}var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var za={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(o,s){s(n)})(T0,function(o){var s="1.9.4";function l(e){var i,u,p,v;for(u=1,p=arguments.length;u<p;u++){v=arguments[u];for(i in v)e[i]=v[i]}return e}var c=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function h(e,i){var u=Array.prototype.slice;if(e.bind)return e.bind.apply(e,u.call(arguments,1));var p=u.call(arguments,2);return function(){return e.apply(i,p.length?p.concat(u.call(arguments)):arguments)}}var d=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function g(e,i,u){var p,v,M,Z;return Z=function(){p=!1,v&&(M.apply(u,v),v=!1)},M=function(){p?v=arguments:(e.apply(u,arguments),setTimeout(Z,i),p=!0)},M}function y(e,i,u){var p=i[1],v=i[0],M=p-v;return e===p&&u?e:((e-v)%M+M)%M+v}function k(){return!1}function C(e,i){if(i===!1)return e;var u=Math.pow(10,i===void 0?6:i);return Math.round(e*u)/u}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e){return z(e).split(/\s+/)}function S(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var u in i)e.options[u]=i[u];return e.options}function $(e,i,u){var p=[];for(var v in e)p.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(e[v]));return(!i||i.indexOf("?")===-1?"?":"&")+p.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function O(e,i){return e.replace(E,function(u,p){var v=i[p];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(i)),v})}var H=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function P(e,i){for(var u=0;u<e.length;u++)if(e[u]===i)return u;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var nt=0;function W(e){var i=+new Date,u=Math.max(0,16-(i-nt));return nt=i+u,window.setTimeout(e,u)}var et=window.requestAnimationFrame||K("RequestAnimationFrame")||W,st=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ft(e,i,u){if(u&&et===W)e.call(i);else return et.call(window,h(e,i))}function it(e){e&&st.call(window,e)}var gt={__proto__:null,extend:l,create:c,bind:h,get lastId(){return d},stamp:m,throttle:g,wrapNum:y,falseFn:k,formatNum:C,trim:z,splitWords:T,setOptions:S,getParamString:$,template:O,isArray:H,indexOf:P,emptyImageUrl:I,requestFn:et,cancelFn:st,requestAnimFrame:ft,cancelAnimFrame:it};function bt(){}bt.extend=function(e){var i=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=i.__super__=this.prototype,p=c(u);p.constructor=i,i.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(i[v]=this[v]);return e.statics&&l(i,e.statics),e.includes&&(Pt(e.includes),l.apply(null,[p].concat(e.includes))),l(p,e),delete p.statics,delete p.includes,p.options&&(p.options=u.options?c(u.options):{},l(p.options,e.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,Z=p._initHooks.length;M<Z;M++)p._initHooks[M].call(this)}},i},bt.include=function(e){var i=this.prototype.options;return l(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},bt.mergeOptions=function(e){return l(this.prototype.options,e),this},bt.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),u=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Pt(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=H(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var kt={on:function(e,i,u){if(typeof e=="object")for(var p in e)this._on(p,e[p],i);else{e=T(e);for(var v=0,M=e.length;v<M;v++)this._on(e[v],i,u)}return this},off:function(e,i,u){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var p in e)this._off(p,e[p],i);else{e=T(e);for(var v=arguments.length===1,M=0,Z=e.length;M<Z;M++)v?this._off(e[M]):this._off(e[M],i,u)}return this},_on:function(e,i,u,p){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,u)===!1){u===this&&(u=void 0);var v={fn:i,ctx:u};p&&(v.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(v)}},_off:function(e,i,u){var p,v,M;if(this._events&&(p=this._events[e],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,M=p.length;v<M;v++)p[v].fn=k;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var Z=this._listens(e,i,u);if(Z!==!1){var tt=p[Z];this._firingCount&&(tt.fn=k,this._events[e]=p=p.slice()),p.splice(Z,1)}}},fire:function(e,i,u){if(!this.listens(e,u))return this;var p=l({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var v=this._events[e];if(v){this._firingCount=this._firingCount+1||1;for(var M=0,Z=v.length;M<Z;M++){var tt=v[M],ot=tt.fn;tt.once&&this.off(e,ot,tt.ctx),ot.call(tt.ctx||this,p)}this._firingCount--}}return u&&this._propagateEvent(p),this},listens:function(e,i,u,p){typeof e!="string"&&console.warn('"string" type argument expected');var v=i;typeof i!="function"&&(p=!!i,v=void 0,u=void 0);var M=this._events&&this._events[e];if(M&&M.length&&this._listens(e,v,u)!==!1)return!0;if(p){for(var Z in this._eventParents)if(this._eventParents[Z].listens(e,i,u,p))return!0}return!1},_listens:function(e,i,u){if(!this._events)return!1;var p=this._events[e]||[];if(!i)return!!p.length;u===this&&(u=void 0);for(var v=0,M=p.length;v<M;v++)if(p[v].fn===i&&p[v].ctx===u)return v;return!1},once:function(e,i,u){if(typeof e=="object")for(var p in e)this._on(p,e[p],i,!0);else{e=T(e);for(var v=0,M=e.length;v<M;v++)this._on(e[v],i,u,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,l({layer:e.target,propagatedFrom:e.target},e),!0)}};kt.addEventListener=kt.on,kt.removeEventListener=kt.clearAllEventListeners=kt.off,kt.addOneTimeEventListener=kt.once,kt.fireEvent=kt.fire,kt.hasEventListeners=kt.listens;var Nt=bt.extend(kt);function _t(e,i,u){this.x=u?Math.round(e):e,this.y=u?Math.round(i):i}var le=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};_t.prototype={clone:function(){return new _t(this.x,this.y)},add:function(e){return this.clone()._add(Bt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Bt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new _t(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new _t(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(e){e=Bt(e);var i=e.x-this.x,u=e.y-this.y;return Math.sqrt(i*i+u*u)},equals:function(e){return e=Bt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Bt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function Bt(e,i,u){return e instanceof _t?e:H(e)?new _t(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new _t(e.x,e.y):new _t(e,i,u)}function At(e,i){if(e)for(var u=i?[e,i]:e,p=0,v=u.length;p<v;p++)this.extend(u[p])}At.prototype={extend:function(e){var i,u;if(!e)return this;if(e instanceof _t||typeof e[0]=="number"||"x"in e)i=u=Bt(e);else if(e=Ft(e),i=e.min,u=e.max,!i||!u)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=u.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(e){return Bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Bt(this.min.x,this.max.y)},getTopRight:function(){return Bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,u;return typeof e[0]=="number"||e instanceof _t?e=Bt(e):e=Ft(e),e instanceof At?(i=e.min,u=e.max):i=u=e,i.x>=this.min.x&&u.x<=this.max.x&&i.y>=this.min.y&&u.y<=this.max.y},intersects:function(e){e=Ft(e);var i=this.min,u=this.max,p=e.min,v=e.max,M=v.x>=i.x&&p.x<=u.x,Z=v.y>=i.y&&p.y<=u.y;return M&&Z},overlaps:function(e){e=Ft(e);var i=this.min,u=this.max,p=e.min,v=e.max,M=v.x>i.x&&p.x<u.x,Z=v.y>i.y&&p.y<u.y;return M&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,u=this.max,p=Math.abs(i.x-u.x)*e,v=Math.abs(i.y-u.y)*e;return Ft(Bt(i.x-p,i.y-v),Bt(u.x+p,u.y+v))},equals:function(e){return e?(e=Ft(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ft(e,i){return!e||e instanceof At?e:new At(e,i)}function xe(e,i){if(e)for(var u=i?[e,i]:e,p=0,v=u.length;p<v;p++)this.extend(u[p])}xe.prototype={extend:function(e){var i=this._southWest,u=this._northEast,p,v;if(e instanceof re)p=e,v=e;else if(e instanceof xe){if(p=e._southWest,v=e._northEast,!p||!v)return this}else return e?this.extend(zt(e)||ce(e)):this;return!i&&!u?(this._southWest=new re(p.lat,p.lng),this._northEast=new re(v.lat,v.lng)):(i.lat=Math.min(p.lat,i.lat),i.lng=Math.min(p.lng,i.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(e){var i=this._southWest,u=this._northEast,p=Math.abs(i.lat-u.lat)*e,v=Math.abs(i.lng-u.lng)*e;return new xe(new re(i.lat-p,i.lng-v),new re(u.lat+p,u.lng+v))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof re||"lat"in e?e=zt(e):e=ce(e);var i=this._southWest,u=this._northEast,p,v;return e instanceof xe?(p=e.getSouthWest(),v=e.getNorthEast()):p=v=e,p.lat>=i.lat&&v.lat<=u.lat&&p.lng>=i.lng&&v.lng<=u.lng},intersects:function(e){e=ce(e);var i=this._southWest,u=this._northEast,p=e.getSouthWest(),v=e.getNorthEast(),M=v.lat>=i.lat&&p.lat<=u.lat,Z=v.lng>=i.lng&&p.lng<=u.lng;return M&&Z},overlaps:function(e){e=ce(e);var i=this._southWest,u=this._northEast,p=e.getSouthWest(),v=e.getNorthEast(),M=v.lat>i.lat&&p.lat<u.lat,Z=v.lng>i.lng&&p.lng<u.lng;return M&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=ce(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(e,i){return e instanceof xe?e:new xe(e,i)}function re(e,i,u){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,u!==void 0&&(this.alt=+u)}re.prototype={equals:function(e,i){if(!e)return!1;e=zt(e);var u=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return u<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+C(this.lat,e)+", "+C(this.lng,e)+")"},distanceTo:function(e){return Mt.distance(this,zt(e))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,u=i/Math.cos(Math.PI/180*this.lat);return ce([this.lat-i,this.lng-u],[this.lat+i,this.lng+u])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function zt(e,i,u){return e instanceof re?e:H(e)&&typeof e[0]!="object"?e.length===3?new re(e[0],e[1],e[2]):e.length===2?new re(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new re(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new re(e,i,u)}var lt={latLngToPoint:function(e,i){var u=this.projection.project(e),p=this.scale(i);return this.transformation._transform(u,p)},pointToLatLng:function(e,i){var u=this.scale(i),p=this.transformation.untransform(e,u);return this.projection.unproject(p)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,u=this.scale(e),p=this.transformation.transform(i.min,u),v=this.transformation.transform(i.max,u);return new At(p,v)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?y(e.lng,this.wrapLng,!0):e.lng,u=this.wrapLat?y(e.lat,this.wrapLat,!0):e.lat,p=e.alt;return new re(u,i,p)},wrapLatLngBounds:function(e){var i=e.getCenter(),u=this.wrapLatLng(i),p=i.lat-u.lat,v=i.lng-u.lng;if(p===0&&v===0)return e;var M=e.getSouthWest(),Z=e.getNorthEast(),tt=new re(M.lat-p,M.lng-v),ot=new re(Z.lat-p,Z.lng-v);return new xe(tt,ot)}},Mt=l({},lt,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var u=Math.PI/180,p=e.lat*u,v=i.lat*u,M=Math.sin((i.lat-e.lat)*u/2),Z=Math.sin((i.lng-e.lng)*u/2),tt=M*M+Math.cos(p)*Math.cos(v)*Z*Z,ot=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*ot}}),Ct=6378137,It={R:Ct,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,u=this.MAX_LATITUDE,p=Math.max(Math.min(u,e.lat),-u),v=Math.sin(p*i);return new _t(this.R*e.lng*i,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(e){var i=180/Math.PI;return new re((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=Ct*Math.PI;return new At([-e,-e],[e,e])}()};function ie(e,i,u,p){if(H(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=u,this._d=p}ie.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new _t((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function U(e,i,u,p){return new ie(e,i,u,p)}var q=l({},Mt,{code:"EPSG:3857",projection:It,transformation:function(){var e=.5/(Math.PI*It.R);return U(e,.5,-e,.5)}()}),J=l({},q,{code:"EPSG:900913"});function ct(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function pt(e,i){var u="",p,v,M,Z,tt,ot;for(p=0,M=e.length;p<M;p++){for(tt=e[p],v=0,Z=tt.length;v<Z;v++)ot=tt[v],u+=(v?"L":"M")+ot.x+" "+ot.y;u+=i?jt.svg?"z":"x":""}return u||"M0 0"}var yt=document.documentElement.style,Et="ActiveXObject"in window,B=Et&&!document.addEventListener,b="msLaunchUri"in navigator&&!("documentMode"in document),x=Qe("webkit"),A=Qe("android"),D=Qe("android 2")||Qe("android 3"),N=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Q=A&&Qe("Google")&&N<537&&!("AudioNode"in window),rt=!!window.opera,mt=!b&&Qe("chrome"),St=Qe("gecko")&&!x&&!rt&&!Et,Dt=!mt&&Qe("safari"),Zt=Qe("phantom"),Wt="OTransition"in yt,_e=navigator.platform.indexOf("Win")===0,Kt=Et&&"transition"in yt,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D,se="MozPerspective"in yt,ye=!window.L_DISABLE_3D&&(Kt||me||se)&&!Wt&&!Zt,Ee=typeof orientation<"u"||Qe("mobile"),$e=Ee&&x,Ze=Ee&&me,hn=!window.PointerEvent&&window.MSPointerEvent,on=!!(window.PointerEvent||hn),Ke="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(Ke||on),xn=Ee&&rt,Vn=Ee&&St,qe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ne=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,i),window.removeEventListener("testPassiveEventSupport",k,i)}catch{}return e}(),An=function(){return!!document.createElement("canvas").getContext}(),Gr=!!(document.createElementNS&&ct("svg").createSVGRect),Mi=!!Gr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),kr=!Gr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Os=navigator.platform.indexOf("Mac")===0,Ci=navigator.platform.indexOf("Linux")===0;function Qe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var jt={ie:Et,ielt9:B,edge:b,webkit:x,android:A,android23:D,androidStock:Q,opera:rt,chrome:mt,gecko:St,safari:Dt,phantom:Zt,opera12:Wt,win:_e,ie3d:Kt,webkit3d:me,gecko3d:se,any3d:ye,mobile:Ee,mobileWebkit:$e,mobileWebkit3d:Ze,msPointer:hn,pointer:on,touch:sn,touchNative:Ke,mobileOpera:xn,mobileGecko:Vn,retina:qe,passiveEvents:Ne,canvas:An,svg:Gr,vml:kr,inlineSvg:Mi,mac:Os,linux:Ci},Pi=jt.msPointer?"MSPointerDown":"pointerdown",Rn=jt.msPointer?"MSPointerMove":"pointermove",Bn=jt.msPointer?"MSPointerUp":"pointerup",go=jt.msPointer?"MSPointerCancel":"pointercancel",Lr={touchstart:Pi,touchmove:Rn,touchend:Bn,touchcancel:go},rr={touchstart:Zr,touchmove:$r,touchend:$r,touchcancel:$r},ir={},Si=!1;function _o(e,i,u){return i==="touchstart"&&Oi(),rr[i]?(u=rr[i].bind(this,u),e.addEventListener(Lr[i],u,!1),u):(console.warn("wrong event specified:",i),k)}function As(e,i,u){if(!Lr[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(Lr[i],u,!1)}function yo(e){ir[e.pointerId]=e}function Ei(e){ir[e.pointerId]&&(ir[e.pointerId]=e)}function Ti(e){delete ir[e.pointerId]}function Oi(){Si||(document.addEventListener(Pi,yo,!0),document.addEventListener(Rn,Ei,!0),document.addEventListener(Bn,Ti,!0),document.addEventListener(go,Ti,!0),Si=!0)}function $r(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var u in ir)i.touches.push(ir[u]);i.changedTouches=[i],e(i)}}function Zr(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&G(i),$r(e,i)}function vo(e){var i={},u,p;for(p in e)u=e[p],i[p]=u&&u.bind?u.bind(e):u;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Rs=200;function Mr(e,i){e.addEventListener("dblclick",i);var u=0,p;function v(M){if(M.detail!==1){p=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var Z=ut(M);if(!(Z.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!Z.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var tt=Date.now();tt-u<=Rs?(p++,p===2&&i(vo(M))):p=1,u=tt}}}return e.addEventListener("click",v),{dblclick:i,simDblclick:v}}function Bs(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var qr=Wr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gn=Wr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bo=Gn==="webkitTransition"||Gn==="OTransition"?Gn+"End":"transitionend";function wo(e){return typeof e=="string"?document.getElementById(e):e}function or(e,i){var u=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!u||u==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(e,null);u=p?p[i]:null}return u==="auto"?null:u}function ae(e,i,u){var p=document.createElement(e);return p.className=i||"",u&&u.appendChild(p),p}function ke(e){var i=e.parentNode;i&&i.removeChild(e)}function Cr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function $n(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function Zn(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Kr(e,i){if(e.classList!==void 0)return e.classList.contains(i);var u=Pr(e);return u.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(u)}function te(e,i){if(e.classList!==void 0)for(var u=T(i),p=0,v=u.length;p<v;p++)e.classList.add(u[p]);else if(!Kr(e,i)){var M=Pr(e);Ai(e,(M?M+" ":"")+i)}}function Oe(e,i){e.classList!==void 0?e.classList.remove(i):Ai(e,z((" "+Pr(e)+" ").replace(" "+i+" "," ")))}function Ai(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function Pr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function tn(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&Ri(e,i)}function Ri(e,i){var u=!1,p="DXImageTransform.Microsoft.Alpha";try{u=e.filters.item(p)}catch{if(i===1)return}i=Math.round(i*100),u?(u.Enabled=i!==100,u.Opacity=i):e.style.filter+=" progid:"+p+"(opacity="+i+")"}function Wr(e){for(var i=document.documentElement.style,u=0;u<e.length;u++)if(e[u]in i)return e[u];return!1}function In(e,i,u){var p=i||new _t(0,0);e.style[qr]=(jt.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(u?" scale("+u+")":"")}function Me(e,i){e._leaflet_pos=i,jt.any3d?In(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function fn(e){return e._leaflet_pos||new _t(0,0)}var Sr,Er,Ae;if("onselectstart"in document)Sr=function(){Yt(window,"selectstart",G)},Er=function(){a(window,"selectstart",G)};else{var Dn=Wr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Sr=function(){if(Dn){var e=document.documentElement.style;Ae=e[Dn],e[Dn]="none"}},Er=function(){Dn&&(document.documentElement.style[Dn]=Ae,Ae=void 0)}}function Tr(){Yt(window,"dragstart",G)}function Bi(){a(window,"dragstart",G)}var Jr,Yr;function Ii(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(sr(),Jr=e,Yr=e.style.outlineStyle,e.style.outlineStyle="none",Yt(window,"keydown",sr))}function sr(){Jr&&(Jr.style.outlineStyle=Yr,Jr=void 0,Yr=void 0,a(window,"keydown",sr))}function Xr(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Di(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Is={__proto__:null,TRANSFORM:qr,TRANSITION:Gn,TRANSITION_END:bo,get:wo,getStyle:or,create:ae,remove:ke,empty:Cr,toFront:$n,toBack:Zn,hasClass:Kr,addClass:te,removeClass:Oe,setClass:Ai,getClass:Pr,setOpacity:tn,testProp:Wr,setTransform:In,setPosition:Me,getPosition:fn,get disableTextSelection(){return Sr},get enableTextSelection(){return Er},disableImageDrag:Tr,enableImageDrag:Bi,preventOutline:Ii,restoreOutline:sr,getSizedParentNode:Xr,getScale:Di};function Yt(e,i,u,p){if(i&&typeof i=="object")for(var v in i)w(e,v,i[v],u);else{i=T(i);for(var M=0,Z=i.length;M<Z;M++)w(e,i[M],u,p)}return this}var r="_leaflet_events";function a(e,i,u,p){if(arguments.length===1)f(e),delete e[r];else if(i&&typeof i=="object")for(var v in i)R(e,v,i[v],u);else if(i=T(i),arguments.length===2)f(e,function(tt){return P(i,tt)!==-1});else for(var M=0,Z=i.length;M<Z;M++)R(e,i[M],u,p);return this}function f(e,i){for(var u in e[r]){var p=u.split(/\d/)[0];(!i||i(p))&&R(e,p,null,null,u)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function w(e,i,u,p){var v=i+m(u)+(p?"_"+m(p):"");if(e[r]&&e[r][v])return this;var M=function(tt){return u.call(p||e,tt||window.event)},Z=M;!jt.touchNative&&jt.pointer&&i.indexOf("touch")===0?M=_o(e,i,M):jt.touch&&i==="dblclick"?M=Mr(e,M):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(_[i]||i,M,jt.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(M=function(tt){tt=tt||window.event,Gt(e,tt)&&Z(tt)},e.addEventListener(_[i],M,!1)):e.addEventListener(i,Z,!1):e.attachEvent("on"+i,M),e[r]=e[r]||{},e[r][v]=M}function R(e,i,u,p,v){v=v||i+m(u)+(p?"_"+m(p):"");var M=e[r]&&e[r][v];if(!M)return this;!jt.touchNative&&jt.pointer&&i.indexOf("touch")===0?As(e,i,M):jt.touch&&i==="dblclick"?Bs(e,M):"removeEventListener"in e?e.removeEventListener(_[i]||i,M,!1):e.detachEvent("on"+i,M),e[r][v]=null}function j(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function V(e){return w(e,"wheel",j),this}function F(e){return Yt(e,"mousedown touchstart dblclick contextmenu",j),e._leaflet_disable_click=!0,this}function G(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function X(e){return G(e),j(e),this}function ut(e){if(e.composedPath)return e.composedPath();for(var i=[],u=e.target;u;)i.push(u),u=u.parentNode;return i}function at(e,i){if(!i)return new _t(e.clientX,e.clientY);var u=Di(i),p=u.boundingClientRect;return new _t((e.clientX-p.left)/u.x-i.clientLeft,(e.clientY-p.top)/u.y-i.clientTop)}var xt=jt.linux&&jt.chrome?window.devicePixelRatio:jt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tt(e){return jt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/xt:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Gt(e,i){var u=i.relatedTarget;if(!u)return!0;try{for(;u&&u!==e;)u=u.parentNode}catch{return!1}return u!==e}var ee={__proto__:null,on:Yt,off:a,stopPropagation:j,disableScrollPropagation:V,disableClickPropagation:F,preventDefault:G,stop:X,getPropagationPath:ut,getMousePosition:at,getWheelDelta:Tt,isExternalTarget:Gt,addListener:Yt,removeListener:a},ve=Nt.extend({run:function(e,i,u,p){this.stop(),this._el=e,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=fn(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,u=this._duration*1e3;i<u?this._runFrame(this._easeOut(i/u),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var u=this._startPos.add(this._offset.multiplyBy(e));i&&u._round(),Me(this._el,u),this.fire("step")},_complete:function(){it(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ut=Nt.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=S(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(zt(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gn&&jt.any3d&&!jt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Yt(this._proxy,bo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,u){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(zt(e),i,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=l({animate:u.animate},u.zoom),u.pan=l({animate:u.animate,duration:u.duration},u.pan));var p=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,u.zoom):this._tryAnimatedPan(e,u.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,u.pan&&u.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,u){var p=this.getZoomScale(i),v=this.getSize().divideBy(2),M=e instanceof _t?e:this.latLngToContainerPoint(e),Z=M.subtract(v).multiplyBy(1-1/p),tt=this.containerPointToLatLng(v.add(Z));return this.setView(tt,i,{zoom:u})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():ce(e);var u=Bt(i.paddingTopLeft||i.padding||[0,0]),p=Bt(i.paddingBottomRight||i.padding||[0,0]),v=this.getBoundsZoom(e,!1,u.add(p));if(v=typeof i.maxZoom=="number"?Math.min(i.maxZoom,v):v,v===1/0)return{center:e.getCenter(),zoom:v};var M=p.subtract(u).divideBy(2),Z=this.project(e.getSouthWest(),v),tt=this.project(e.getNorthEast(),v),ot=this.unproject(Z.add(tt).divideBy(2).add(M),v);return{center:ot,zoom:v}},fitBounds:function(e,i){if(e=ce(e),!e.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(e,i);return this.setView(u.center,u.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=Bt(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ve,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,u,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,u){if(u=u||{},u.animate===!1||!jt.any3d)return this.setView(e,i,u);this._stop();var p=this.project(this.getCenter()),v=this.project(e),M=this.getSize(),Z=this._zoom;e=zt(e),i=i===void 0?Z:i;var tt=Math.max(M.x,M.y),ot=tt*this.getZoomScale(Z,i),vt=v.distanceTo(p)||1,Rt=1.42,qt=Rt*Rt;function oe(ze){var Io=ze?-1:1,nd=ze?ot:tt,rd=ot*ot-tt*tt+Io*qt*qt*vt*vt,id=2*nd*qt*vt,Zs=rd/id,Kl=Math.sqrt(Zs*Zs+1)-Zs,od=Kl<1e-9?-18:Math.log(Kl);return od}function Je(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function Ve(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function mn(ze){return Je(ze)/Ve(ze)}var en=oe(0);function ii(ze){return tt*(Ve(en)/Ve(en+Rt*ze))}function Xf(ze){return tt*(Ve(en)*mn(en+Rt*ze)-Je(en))/qt}function Qf(ze){return 1-Math.pow(1-ze,1.5)}var td=Date.now(),Zl=(oe(1)-en)/Rt,ed=u.duration?1e3*u.duration:1e3*Zl*.8;function ql(){var ze=(Date.now()-td)/ed,Io=Qf(ze)*Zl;ze<=1?(this._flyToFrame=ft(ql,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(Xf(Io)/vt)),Z),this.getScaleZoom(tt/ii(Io),Z),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),ql.call(this),this},flyToBounds:function(e,i){var u=this._getBoundsCenterZoom(e,i);return this.flyTo(u.center,u.zoom,i)},setMaxBounds:function(e){return e=ce(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var u=this.getCenter(),p=this._limitCenter(u,this._zoom,ce(e));return u.equals(p)||this.panTo(p,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var u=Bt(i.paddingTopLeft||i.padding||[0,0]),p=Bt(i.paddingBottomRight||i.padding||[0,0]),v=this.project(this.getCenter()),M=this.project(e),Z=this.getPixelBounds(),tt=Ft([Z.min.add(u),Z.max.subtract(p)]),ot=tt.getSize();if(!tt.contains(M)){this._enforcingBounds=!0;var vt=M.subtract(tt.getCenter()),Rt=tt.extend(M).getSize().subtract(ot);v.x+=vt.x<0?-Rt.x:Rt.x,v.y+=vt.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(v),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=l({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),p=i.divideBy(2).round(),v=u.divideBy(2).round(),M=p.subtract(v);return!M.x&&!M.y?this:(e.animate&&e.pan?this.panBy(M):(e.pan&&this._rawPanBy(M),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=l({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=h(this._handleGeolocationResponse,this),u=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,u,e):navigator.geolocation.getCurrentPosition(i,u,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,u=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,u=e.coords.longitude,p=new re(i,u),v=p.toBounds(e.coords.accuracy*2),M=this._locateOptions;if(M.setView){var Z=this.getBoundsZoom(v);this.setView(p,M.maxZoom?Math.min(Z,M.maxZoom):Z)}var tt={latlng:p,bounds:v,timestamp:e.timestamp};for(var ot in e.coords)typeof e.coords[ot]=="number"&&(tt[ot]=e.coords[ot]);this.fire("locationfound",tt)}},addHandler:function(e,i){if(!i)return this;var u=this[e]=new i(this);return this._handlers.push(u),this.options[e]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(it(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ke(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var u="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),p=ae("div",u,i||this._mapPane);return e&&(this._panes[e]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),u=this.unproject(e.getTopRight());return new xe(i,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,u){e=ce(e),u=Bt(u||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),M=this.getMaxZoom(),Z=e.getNorthWest(),tt=e.getSouthEast(),ot=this.getSize().subtract(u),vt=Ft(this.project(tt,p),this.project(Z,p)).getSize(),Rt=jt.any3d?this.options.zoomSnap:1,qt=ot.x/vt.x,oe=ot.y/vt.y,Je=i?Math.max(qt,oe):Math.min(qt,oe);return p=this.getScaleZoom(Je,p),Rt&&(p=Math.round(p/(Rt/100))*(Rt/100),p=i?Math.ceil(p/Rt)*Rt:Math.floor(p/Rt)*Rt),Math.max(v,Math.min(M,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new _t(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var u=this._getTopLeftPoint(e,i);return new At(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var u=this.options.crs;return i=i===void 0?this._zoom:i,u.scale(e)/u.scale(i)},getScaleZoom:function(e,i){var u=this.options.crs;i=i===void 0?this._zoom:i;var p=u.zoom(e*u.scale(i));return isNaN(p)?1/0:p},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(zt(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(Bt(e),i)},layerPointToLatLng:function(e){var i=Bt(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(zt(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(zt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ce(e))},distance:function(e,i){return this.options.crs.distance(zt(e),zt(i))},containerPointToLayerPoint:function(e){return Bt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Bt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(Bt(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(zt(e)))},mouseEventToContainerPoint:function(e){return at(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=wo(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Yt(i,"scroll",this._onScroll,this),this._containerId=m(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&jt.any3d,te(e,"leaflet-container"+(jt.touch?" leaflet-touch":"")+(jt.retina?" leaflet-retina":"")+(jt.ielt9?" leaflet-oldie":"")+(jt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=or(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new _t(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(e.markerPane,"leaflet-zoom-hide"),te(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,u){Me(this._mapPane,new _t(0,0));var p=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var v=this._zoom!==i;this._moveStart(v,u)._move(e,i)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,u,p){i===void 0&&(i=this._zoom);var v=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),p?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return it(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Me(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[m(this._container)]=this;var i=e?a:Yt;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),jt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){it(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var u=[],p,v=i==="mouseout"||i==="mouseover",M=e.target||e.srcElement,Z=!1;M;){if(p=this._targets[m(M)],p&&(i==="click"||i==="preclick")&&this._draggableMoved(p)){Z=!0;break}if(p&&p.listens(i,!0)&&(v&&!Gt(M,e)||(u.push(p),v))||M===this._container)break;M=M.parentNode}return!u.length&&!Z&&!v&&this.listens(i,!0)&&(u=[this]),u},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var u=e.type;u==="mousedown"&&Ii(i),this._fireDOMEvent(e,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,u){if(e.type==="click"){var p=l({},e);p.type="preclick",this._fireDOMEvent(p,p.type,u)}var v=this._findEventTargets(e,i);if(u){for(var M=[],Z=0;Z<u.length;Z++)u[Z].listens(i,!0)&&M.push(u[Z]);v=M.concat(v)}if(v.length){i==="contextmenu"&&G(e);var tt=v[0],ot={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var vt=tt.getLatLng&&(!tt._radius||tt._radius<=10);ot.containerPoint=vt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(e),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=vt?tt.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(Z=0;Z<v.length;Z++)if(v[Z].fire(i,ot,!0),ot.originalEvent._stopped||v[Z].options.bubblingMouseEvents===!1&&P(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return fn(this._mapPane)||new _t(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var u=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var u=this.getSize()._divideBy(2);return this.project(e,i)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,u){var p=this._getNewPixelOrigin(u,i);return this.project(e,i)._subtract(p)},_latLngBoundsToNewLayerBounds:function(e,i,u){var p=this._getNewPixelOrigin(u,i);return Ft([this.project(e.getSouthWest(),i)._subtract(p),this.project(e.getNorthWest(),i)._subtract(p),this.project(e.getSouthEast(),i)._subtract(p),this.project(e.getNorthEast(),i)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,u){if(!u)return e;var p=this.project(e,i),v=this.getSize().divideBy(2),M=new At(p.subtract(v),p.add(v)),Z=this._getBoundsOffset(M,u,i);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?e:this.unproject(p.add(Z),i)},_limitOffset:function(e,i){if(!i)return e;var u=this.getPixelBounds(),p=new At(u.min.add(e),u.max.add(e));return e.add(this._getBoundsOffset(p,i))},_getBoundsOffset:function(e,i,u){var p=Ft(this.project(i.getNorthEast(),u),this.project(i.getSouthWest(),u)),v=p.min.subtract(e.min),M=p.max.subtract(e.max),Z=this._rebound(v.x,-M.x),tt=this._rebound(v.y,-M.y);return new _t(Z,tt)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),u=this.getMaxZoom(),p=jt.any3d?this.options.zoomSnap:1;return p&&(e=Math.round(e/p)*p),Math.max(i,Math.min(u,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var u=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,i),!0)},_createAnimProxy:function(){var e=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var u=qr,p=this._proxy.style[u];In(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),p===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();In(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(i),v=this._getCenterOffset(e)._divideBy(1-1/p);return u.animate!==!0&&!this.getSize().contains(v)?!1:(ft(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,u,p){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function be(e,i){return new Ut(e,i)}var Le=bt.extend({options:{position:"topright"},initialize:function(e){S(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),u=this.getPosition(),p=e._controlCorners[u];return te(i,"leaflet-control"),u.indexOf("bottom")!==-1?p.insertBefore(i,p.firstChild):p.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ue=function(e){return new Le(e)};Ut.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",u=this._controlContainer=ae("div",i+"control-container",this._container);function p(v,M){var Z=i+v+" "+i+M;e[v+M]=ae("div",Z,u)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ke(this._controlCorners[e]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kn=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,u,p){return u<p?-1:p<u?1:0}},initialize:function(e,i,u){S(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in e)this._addLayer(e[p],p);for(p in i)this._addLayer(i[p],p,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Le.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(m(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=ae("div",e),u=this.options.collapsed;i.setAttribute("aria-haspopup",!0),F(i),V(i);var p=this._section=ae("section",e+"-list");u&&(this._map.on("click",this.collapse,this),Yt(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=ae("a",e+"-toggle",i);v.href="#",v.title="Layers",v.setAttribute("role","button"),Yt(v,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){G(M),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ae("div",e+"-base",p),this._separator=ae("div",e+"-separator",p),this._overlaysList=ae("div",e+"-overlays",p),i.appendChild(p)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&m(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,u){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:u}),this.options.sortLayers&&this._layers.sort(h(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cr(this._baseLayersList),Cr(this._overlaysList),this._layerControlInputs=[];var e,i,u,p,v=0;for(u=0;u<this._layers.length;u++)p=this._layers[u],this._addItem(p),i=i||p.overlay,e=e||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(e=e&&v>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(m(e.target)),u=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;u&&this._map.fire(u,i)},_createRadioElement:function(e,i){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=u,p.firstChild},_addItem:function(e){var i=document.createElement("label"),u=this._map.hasLayer(e.layer),p;e.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=u):p=this._createRadioElement("leaflet-base-layers_"+m(this),u),this._layerControlInputs.push(p),p.layerId=m(e.layer),Yt(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+e.name;var M=document.createElement("span");i.appendChild(M),M.appendChild(p),M.appendChild(v);var Z=e.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,u,p=[],v=[];this._handlingClick=!0;for(var M=e.length-1;M>=0;M--)i=e[M],u=this._getLayer(i.layerId).layer,i.checked?p.push(u):i.checked||v.push(u);for(M=0;M<v.length;M++)this._map.hasLayer(v[M])&&this._map.removeLayer(v[M]);for(M=0;M<p.length;M++)this._map.hasLayer(p[M])||this._map.addLayer(p[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,u,p=this._map.getZoom(),v=e.length-1;v>=0;v--)i=e[v],u=this._getLayer(i.layerId).layer,i.disabled=u.options.minZoom!==void 0&&p<u.options.minZoom||u.options.maxZoom!==void 0&&p>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Yt(e,"click",G),this.expand();var i=this;setTimeout(function(){a(e,"click",G),i._preventClick=!1})}}),xo=function(e,i,u){return new kn(e,i,u)},Or=Le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",u=ae("div",i+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,i+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,i+"-out",u,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,u,p,v){var M=ae("a",u,p);return M.innerHTML=e,M.href="#",M.title=i,M.setAttribute("role","button"),M.setAttribute("aria-label",i),F(M),Yt(M,"click",X),Yt(M,"click",v,this),Yt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";Oe(this._zoomInButton,i),Oe(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(te(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(te(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Or,this.addControl(this.zoomControl))});var qn=function(e){return new Or(e)},zi=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",u=ae("div",i),p=this.options;return this._addScales(p,i+"-line",u),e.on(p.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),u},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,u){e.metric&&(this._mScale=ae("div",i,u)),e.imperial&&(this._iScale=ae("div",i,u))},_update:function(){var e=this._map,i=e.getSize().y/2,u=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(u)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),u=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,u,i/e)},_updateImperial:function(e){var i=e*3.2808399,u,p,v;i>5280?(u=i/5280,p=this._getRoundNum(u),this._updateScale(this._iScale,p+" mi",p/u)):(v=this._getRoundNum(i),this._updateScale(this._iScale,v+" ft",v/i))},_updateScale:function(e,i,u){e.style.width=Math.round(this.options.maxWidth*u)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),u=e/i;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,i*u}}),ko=function(e){return new zi(e)},Ds='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ar=Le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(jt.inlineSvg?Ds+" ":"")+"Leaflet</a>"},initialize:function(e){S(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),F(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var u=[];this.options.prefix&&u.push(this.options.prefix),e.length&&u.push(e.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new Ar().addTo(this)});var zs=function(e){return new Ar(e)};Le.Layers=kn,Le.Zoom=Or,Le.Scale=zi,Le.Attribution=Ar,Ue.layers=xo,Ue.zoom=qn,Ue.scale=ko,Ue.attribution=zs;var dn=bt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(e,i){return e.addHandler(i,this),this};var wf={Events:kt},_l=jt.touch?"touchstart mousedown":"mousedown",ar=Nt.extend({options:{clickTolerance:3},initialize:function(e,i,u,p){S(this,p),this._element=e,this._dragStartTarget=i||e,this._preventOutline=u},enable:function(){this._enabled||(Yt(this._dragStartTarget,_l,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ar._dragging===this&&this.finishDrag(!0),a(this._dragStartTarget,_l,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Kr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){ar._dragging===this&&this.finishDrag();return}if(!(ar._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(ar._dragging=this,this._preventOutline&&Ii(this._element),Tr(),Sr(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,u=Xr(this._element);this._startPoint=new _t(i.clientX,i.clientY),this._startPos=fn(this._element),this._parentScale=Di(u);var p=e.type==="mousedown";Yt(document,p?"mousemove":"touchmove",this._onMove,this),Yt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,u=new _t(i.clientX,i.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,G(e),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Me(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),a(document,"mousemove touchmove",this._onMove,this),a(document,"mouseup touchend touchcancel",this._onUp,this),Bi(),Er();var i=this._moved&&this._moving;this._moving=!1,ar._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function yl(e,i,u){var p,v=[1,4,2,8],M,Z,tt,ot,vt,Rt,qt,oe;for(M=0,Rt=e.length;M<Rt;M++)e[M]._code=Rr(e[M],i);for(tt=0;tt<4;tt++){for(qt=v[tt],p=[],M=0,Rt=e.length,Z=Rt-1;M<Rt;Z=M++)ot=e[M],vt=e[Z],ot._code&qt?vt._code&qt||(oe=Lo(vt,ot,qt,i,u),oe._code=Rr(oe,i),p.push(oe)):(vt._code&qt&&(oe=Lo(vt,ot,qt,i,u),oe._code=Rr(oe,i),p.push(oe)),p.push(ot));e=p}return e}function vl(e,i){var u,p,v,M,Z,tt,ot,vt,Rt;if(!e||e.length===0)throw new Error("latlngs not passed");pn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var qt=zt([0,0]),oe=ce(e),Je=oe.getNorthWest().distanceTo(oe.getSouthWest())*oe.getNorthEast().distanceTo(oe.getNorthWest());Je<1700&&(qt=js(e));var Ve=e.length,mn=[];for(u=0;u<Ve;u++){var en=zt(e[u]);mn.push(i.project(zt([en.lat-qt.lat,en.lng-qt.lng])))}for(tt=ot=vt=0,u=0,p=Ve-1;u<Ve;p=u++)v=mn[u],M=mn[p],Z=v.y*M.x-M.y*v.x,ot+=(v.x+M.x)*Z,vt+=(v.y+M.y)*Z,tt+=Z*3;tt===0?Rt=mn[0]:Rt=[ot/tt,vt/tt];var ii=i.unproject(Bt(Rt));return zt([ii.lat+qt.lat,ii.lng+qt.lng])}function js(e){for(var i=0,u=0,p=0,v=0;v<e.length;v++){var M=zt(e[v]);i+=M.lat,u+=M.lng,p++}return zt([i/p,u/p])}var xf={__proto__:null,clipPolygon:yl,polygonCenter:vl,centroid:js};function bl(e,i){if(!i||!e.length)return e.slice();var u=i*i;return e=Mf(e,u),e=Lf(e,u),e}function wl(e,i,u){return Math.sqrt(ji(e,i,u,!0))}function kf(e,i,u){return ji(e,i,u)}function Lf(e,i){var u=e.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,v=new p(u);v[0]=v[u-1]=1,Ns(e,v,i,0,u-1);var M,Z=[];for(M=0;M<u;M++)v[M]&&Z.push(e[M]);return Z}function Ns(e,i,u,p,v){var M=0,Z,tt,ot;for(tt=p+1;tt<=v-1;tt++)ot=ji(e[tt],e[p],e[v],!0),ot>M&&(Z=tt,M=ot);M>u&&(i[Z]=1,Ns(e,i,u,p,Z),Ns(e,i,u,Z,v))}function Mf(e,i){for(var u=[e[0]],p=1,v=0,M=e.length;p<M;p++)Cf(e[p],e[v])>i&&(u.push(e[p]),v=p);return v<M-1&&u.push(e[M-1]),u}var xl;function kl(e,i,u,p,v){var M=p?xl:Rr(e,u),Z=Rr(i,u),tt,ot,vt;for(xl=Z;;){if(!(M|Z))return[e,i];if(M&Z)return!1;tt=M||Z,ot=Lo(e,i,tt,u,v),vt=Rr(ot,u),tt===M?(e=ot,M=vt):(i=ot,Z=vt)}}function Lo(e,i,u,p,v){var M=i.x-e.x,Z=i.y-e.y,tt=p.min,ot=p.max,vt,Rt;return u&8?(vt=e.x+M*(ot.y-e.y)/Z,Rt=ot.y):u&4?(vt=e.x+M*(tt.y-e.y)/Z,Rt=tt.y):u&2?(vt=ot.x,Rt=e.y+Z*(ot.x-e.x)/M):u&1&&(vt=tt.x,Rt=e.y+Z*(tt.x-e.x)/M),new _t(vt,Rt,v)}function Rr(e,i){var u=0;return e.x<i.min.x?u|=1:e.x>i.max.x&&(u|=2),e.y<i.min.y?u|=4:e.y>i.max.y&&(u|=8),u}function Cf(e,i){var u=i.x-e.x,p=i.y-e.y;return u*u+p*p}function ji(e,i,u,p){var v=i.x,M=i.y,Z=u.x-v,tt=u.y-M,ot=Z*Z+tt*tt,vt;return ot>0&&(vt=((e.x-v)*Z+(e.y-M)*tt)/ot,vt>1?(v=u.x,M=u.y):vt>0&&(v+=Z*vt,M+=tt*vt)),Z=e.x-v,tt=e.y-M,p?Z*Z+tt*tt:new _t(v,M)}function pn(e){return!H(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ll(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(e)}function Ml(e,i){var u,p,v,M,Z,tt,ot,vt;if(!e||e.length===0)throw new Error("latlngs not passed");pn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Rt=zt([0,0]),qt=ce(e),oe=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());oe<1700&&(Rt=js(e));var Je=e.length,Ve=[];for(u=0;u<Je;u++){var mn=zt(e[u]);Ve.push(i.project(zt([mn.lat-Rt.lat,mn.lng-Rt.lng])))}for(u=0,p=0;u<Je-1;u++)p+=Ve[u].distanceTo(Ve[u+1])/2;if(p===0)vt=Ve[0];else for(u=0,M=0;u<Je-1;u++)if(Z=Ve[u],tt=Ve[u+1],v=Z.distanceTo(tt),M+=v,M>p){ot=(M-p)/v,vt=[tt.x-ot*(tt.x-Z.x),tt.y-ot*(tt.y-Z.y)];break}var en=i.unproject(Bt(vt));return zt([en.lat+Rt.lat,en.lng+Rt.lng])}var Pf={__proto__:null,simplify:bl,pointToSegmentDistance:wl,closestPointOnSegment:kf,clipSegment:kl,_getEdgeIntersection:Lo,_getBitCode:Rr,_sqClosestPointOnSegment:ji,isFlat:pn,_flat:Ll,polylineCenter:Ml},Hs={project:function(e){return new _t(e.lng,e.lat)},unproject:function(e){return new re(e.y,e.x)},bounds:new At([-180,-90],[180,90])},Fs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new At([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,u=this.R,p=e.lat*i,v=this.R_MINOR/u,M=Math.sqrt(1-v*v),Z=M*Math.sin(p),tt=Math.tan(Math.PI/4-p/2)/Math.pow((1-Z)/(1+Z),M/2);return p=-u*Math.log(Math.max(tt,1e-10)),new _t(e.lng*i*u,p)},unproject:function(e){for(var i=180/Math.PI,u=this.R,p=this.R_MINOR/u,v=Math.sqrt(1-p*p),M=Math.exp(-e.y/u),Z=Math.PI/2-2*Math.atan(M),tt=0,ot=.1,vt;tt<15&&Math.abs(ot)>1e-7;tt++)vt=v*Math.sin(Z),vt=Math.pow((1-vt)/(1+vt),v/2),ot=Math.PI/2-2*Math.atan(M*vt)-Z,Z+=ot;return new re(Z*i,e.x*i/u)}},Sf={__proto__:null,LonLat:Hs,Mercator:Fs,SphericalMercator:It},Ef=l({},Mt,{code:"EPSG:3395",projection:Fs,transformation:function(){var e=.5/(Math.PI*Fs.R);return U(e,.5,-e,.5)}()}),Cl=l({},Mt,{code:"EPSG:4326",projection:Hs,transformation:U(1/180,1,-1/180,.5)}),Tf=l({},lt,{projection:Hs,transformation:U(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var u=i.lng-e.lng,p=i.lat-e.lat;return Math.sqrt(u*u+p*p)},infinite:!0});lt.Earth=Mt,lt.EPSG3395=Ef,lt.EPSG3857=q,lt.EPSG900913=J,lt.EPSG4326=Cl,lt.Simple=Tf;var Ln=Nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var u=this.getEvents();i.on(u,this),this.once("remove",function(){i.off(u,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=m(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=m(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,i){for(var u in this._layers)e.call(i,this._layers[u]);return this},_addLayers:function(e){e=e?H(e)?e:[e]:[];for(var i=0,u=e.length;i<u;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=m(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,u=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;e=v.minZoom===void 0?e:Math.min(e,v.minZoom),i=v.maxZoom===void 0?i:Math.max(i,v.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qr=Ln.extend({initialize:function(e,i){S(this,i),this._layers={};var u,p;if(e)for(u=0,p=e.length;u<p;u++)this.addLayer(e[u])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),u,p;for(u in this._layers)p=this._layers[u],p[e]&&p[e].apply(p,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var u in this._layers)e.call(i,this._layers[u]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return m(e)}}),Of=function(e,i){return new Qr(e,i)},Kn=Qr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Qr.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Qr.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new xe;for(var i in this._layers){var u=this._layers[i];e.extend(u.getBounds?u.getBounds():u.getLatLng())}return e}}),Af=function(e,i){return new Kn(e,i)},ti=bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){S(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var u=this._getIconUrl(e);if(!u){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(u,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(p,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(e,i){var u=this.options,p=u[i+"Size"];typeof p=="number"&&(p=[p,p]);var v=Bt(p),M=Bt(i==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(u.className||""),M&&(e.style.marginLeft=-M.x+"px",e.style.marginTop=-M.y+"px"),v&&(e.style.width=v.x+"px",e.style.height=v.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return jt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Rf(e){return new ti(e)}var Ni=ti.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ni.imagePath!="string"&&(Ni.imagePath=this._detectIconPath()),(this.options.imagePath||Ni.imagePath)+ti.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(u,p,v){var M=p.exec(u);return M&&M[v]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ae("div","leaflet-default-icon-path",document.body),i=or(e,"background-image")||or(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Pl=dn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ar(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,u=i._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,M=fn(i._icon),Z=u.getPixelBounds(),tt=u.getPixelOrigin(),ot=Ft(Z.min._subtract(tt).add(v),Z.max._subtract(tt).subtract(v));if(!ot.contains(M)){var vt=Bt((Math.max(ot.max.x,M.x)-ot.max.x)/(Z.max.x-ot.max.x)-(Math.min(ot.min.x,M.x)-ot.min.x)/(Z.min.x-ot.min.x),(Math.max(ot.max.y,M.y)-ot.max.y)/(Z.max.y-ot.max.y)-(Math.min(ot.min.y,M.y)-ot.min.y)/(Z.min.y-ot.min.y)).multiplyBy(p);u.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),Me(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ft(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(it(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,u=i._shadow,p=fn(i._icon),v=i._map.layerPointToLatLng(p);u&&Me(u,p),i._latlng=v,e.latlng=v,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){it(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Mo=Ln.extend({options:{icon:new Ni,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){S(this,i),this._latlng=zt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=zt(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=e.icon.createIcon(this._icon),p=!1;u!==this._icon&&(this._icon&&this._removeIcon(),p=!0,e.title&&(u.title=e.title),u.tagName==="IMG"&&(u.alt=e.alt||"")),te(u,i),e.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(u,"focus",this._panOnFocus,this);var v=e.icon.createShadow(this._shadow),M=!1;v!==this._shadow&&(this._removeShadow(),M=!0),v&&(te(v,i),v.alt=""),this._shadow=v,e.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&M&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Me(this._icon,e),this._shadow&&Me(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pl)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pl(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&tn(this._icon,e),this._shadow&&tn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,u=i.iconSize?Bt(i.iconSize):Bt(0,0),p=i.iconAnchor?Bt(i.iconAnchor):Bt(0,0);e.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:u.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bf(e,i){return new Mo(e,i)}var lr=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return S(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Co=lr.extend({options:{fill:!0,radius:10},initialize:function(e,i){S(this,i),this._latlng=zt(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=zt(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return lr.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,u=this._clickTolerance(),p=[e+u,i+u];this._pxBounds=new At(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function If(e,i){return new Co(e,i)}var Us=Co.extend({initialize:function(e,i,u){if(typeof i=="number"&&(i=l({},u,{radius:i})),S(this,i),this._latlng=zt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:lr.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,u=this._map,p=u.options.crs;if(p.distance===Mt.distance){var v=Math.PI/180,M=this._mRadius/Mt.R/v,Z=u.project([i+M,e]),tt=u.project([i-M,e]),ot=Z.add(tt).divideBy(2),vt=u.unproject(ot).lat,Rt=Math.acos((Math.cos(M*v)-Math.sin(i*v)*Math.sin(vt*v))/(Math.cos(i*v)*Math.cos(vt*v)))/v;(isNaN(Rt)||Rt===0)&&(Rt=M/Math.cos(Math.PI/180*i)),this._point=ot.subtract(u.getPixelOrigin()),this._radius=isNaN(Rt)?0:ot.x-u.project([vt,e-Rt]).x,this._radiusY=ot.y-Z.y}else{var qt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(qt).x}this._updateBounds()}});function Df(e,i,u){return new Us(e,i,u)}var Wn=lr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){S(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,u=null,p=ji,v,M,Z=0,tt=this._parts.length;Z<tt;Z++)for(var ot=this._parts[Z],vt=1,Rt=ot.length;vt<Rt;vt++){v=ot[vt-1],M=ot[vt];var qt=p(e,v,M,!0);qt<i&&(i=qt,u=p(e,v,M))}return u&&(u.distance=Math.sqrt(i)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ml(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=zt(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new xe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],u=pn(e),p=0,v=e.length;p<v;p++)u?(i[p]=zt(e[p]),this._bounds.extend(i[p])):i[p]=this._convertLatLngs(e[p]);return i},_project:function(){var e=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new _t(e,e);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,u){var p=e[0]instanceof re,v=e.length,M,Z;if(p){for(Z=[],M=0;M<v;M++)Z[M]=this._map.latLngToLayerPoint(e[M]),u.extend(Z[M]);i.push(Z)}else for(M=0;M<v;M++)this._projectLatlngs(e[M],i,u)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,u,p,v,M,Z,tt,ot;for(u=0,v=0,M=this._rings.length;u<M;u++)for(ot=this._rings[u],p=0,Z=ot.length;p<Z-1;p++)tt=kl(ot[p],ot[p+1],e,p,!0),tt&&(i[v]=i[v]||[],i[v].push(tt[0]),(tt[1]!==ot[p+1]||p===Z-2)&&(i[v].push(tt[1]),v++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,u=0,p=e.length;u<p;u++)e[u]=bl(e[u],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var u,p,v,M,Z,tt,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(u=0,M=this._parts.length;u<M;u++)for(tt=this._parts[u],p=0,Z=tt.length,v=Z-1;p<Z;v=p++)if(!(!i&&p===0)&&wl(e,tt[v],tt[p])<=ot)return!0;return!1}});function zf(e,i){return new Wn(e,i)}Wn._flat=Ll;var ei=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=Wn.prototype._convertLatLngs.call(this,e),u=i.length;return u>=2&&i[0]instanceof re&&i[0].equals(i[u-1])&&i.pop(),i},_setLatLngs:function(e){Wn.prototype._setLatLngs.call(this,e),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,u=new _t(i,i);if(e=new At(e.min.subtract(u),e.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,M;p<v;p++)M=yl(this._rings[p],e,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,u,p,v,M,Z,tt,ot,vt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(M=0,ot=this._parts.length;M<ot;M++)for(u=this._parts[M],Z=0,vt=u.length,tt=vt-1;Z<vt;tt=Z++)p=u[Z],v=u[tt],p.y>e.y!=v.y>e.y&&e.x<(v.x-p.x)*(e.y-p.y)/(v.y-p.y)+p.x&&(i=!i);return i||Wn.prototype._containsPoint.call(this,e,!0)}});function jf(e,i){return new ei(e,i)}var Jn=Kn.extend({initialize:function(e,i){S(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=H(e)?e:e.features,u,p,v;if(i){for(u=0,p=i.length;u<p;u++)v=i[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var M=this.options;if(M.filter&&!M.filter(e))return this;var Z=Po(e,M);return Z?(Z.feature=To(e),Z.defaultOptions=Z.options,this.resetStyle(Z),M.onEachFeature&&M.onEachFeature(e,Z),this.addLayer(Z)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=l({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function Po(e,i){var u=e.type==="Feature"?e.geometry:e,p=u?u.coordinates:null,v=[],M=i&&i.pointToLayer,Z=i&&i.coordsToLatLng||Vs,tt,ot,vt,Rt;if(!p&&!u)return null;switch(u.type){case"Point":return tt=Z(p),Sl(M,e,tt,i);case"MultiPoint":for(vt=0,Rt=p.length;vt<Rt;vt++)tt=Z(p[vt]),v.push(Sl(M,e,tt,i));return new Kn(v);case"LineString":case"MultiLineString":return ot=So(p,u.type==="LineString"?0:1,Z),new Wn(ot,i);case"Polygon":case"MultiPolygon":return ot=So(p,u.type==="Polygon"?1:2,Z),new ei(ot,i);case"GeometryCollection":for(vt=0,Rt=u.geometries.length;vt<Rt;vt++){var qt=Po({geometry:u.geometries[vt],type:"Feature",properties:e.properties},i);qt&&v.push(qt)}return new Kn(v);case"FeatureCollection":for(vt=0,Rt=u.features.length;vt<Rt;vt++){var oe=Po(u.features[vt],i);oe&&v.push(oe)}return new Kn(v);default:throw new Error("Invalid GeoJSON object.")}}function Sl(e,i,u,p){return e?e(i,u):new Mo(u,p&&p.markersInheritOptions&&p)}function Vs(e){return new re(e[1],e[0],e[2])}function So(e,i,u){for(var p=[],v=0,M=e.length,Z;v<M;v++)Z=i?So(e[v],i-1,u):(u||Vs)(e[v]),p.push(Z);return p}function Gs(e,i){return e=zt(e),e.alt!==void 0?[C(e.lng,i),C(e.lat,i),C(e.alt,i)]:[C(e.lng,i),C(e.lat,i)]}function Eo(e,i,u,p){for(var v=[],M=0,Z=e.length;M<Z;M++)v.push(i?Eo(e[M],pn(e[M])?0:i-1,u,p):Gs(e[M],p));return!i&&u&&v.length>0&&v.push(v[0].slice()),v}function ni(e,i){return e.feature?l({},e.feature,{geometry:i}):To(i)}function To(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var $s={toGeoJSON:function(e){return ni(this,{type:"Point",coordinates:Gs(this.getLatLng(),e)})}};Mo.include($s),Us.include($s),Co.include($s),Wn.include({toGeoJSON:function(e){var i=!pn(this._latlngs),u=Eo(this._latlngs,i?1:0,!1,e);return ni(this,{type:(i?"Multi":"")+"LineString",coordinates:u})}}),ei.include({toGeoJSON:function(e){var i=!pn(this._latlngs),u=i&&!pn(this._latlngs[0]),p=Eo(this._latlngs,u?2:i?1:0,!0,e);return i||(p=[p]),ni(this,{type:(u?"Multi":"")+"Polygon",coordinates:p})}}),Qr.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(u){i.push(u.toGeoJSON(e).geometry.coordinates)}),ni(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var u=i==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var M=v.toGeoJSON(e);if(u)p.push(M.geometry);else{var Z=To(M);Z.type==="FeatureCollection"?p.push.apply(p,Z.features):p.push(Z)}}}),u?ni(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function El(e,i){return new Jn(e,i)}var Nf=El,Oo=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,u){this._url=e,this._bounds=ce(i),S(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ce(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:ae("img");if(te(i,"leaflet-image-layer"),this._zoomAnimated&&te(i,"leaflet-zoom-animated"),this.options.className&&te(i,this.options.className),i.onselectstart=k,i.onmousemove=k,i.onload=h(this.fire,this,"load"),i.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;In(this._image,u,i)},_reset:function(){var e=this._image,i=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=i.getSize();Me(e,i.min),e.style.width=u.x+"px",e.style.height=u.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Hf=function(e,i,u){return new Oo(e,i,u)},Tl=Oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:ae("video");if(te(i,"leaflet-image-layer"),this._zoomAnimated&&te(i,"leaflet-zoom-animated"),this.options.className&&te(i,this.options.className),i.onselectstart=k,i.onmousemove=k,i.onloadeddata=h(this.fire,this,"load"),e){for(var u=i.getElementsByTagName("source"),p=[],v=0;v<u.length;v++)p.push(u[v].src);this._url=u.length>0?p:[i.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var Z=ae("source");Z.src=this._url[M],i.appendChild(Z)}}});function Ff(e,i,u){return new Tl(e,i,u)}var Ol=Oo.extend({_initImage:function(){var e=this._image=this._url;te(e,"leaflet-image-layer"),this._zoomAnimated&&te(e,"leaflet-zoom-animated"),this.options.className&&te(e,this.options.className),e.onselectstart=k,e.onmousemove=k}});function Uf(e,i,u){return new Ol(e,i,u)}var zn=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof re||H(e))?(this._latlng=zt(e),S(this,i)):(S(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(h(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=zt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof Kn){i=null;var u=this._source._layers;for(var p in u)if(u[p]._map){i=u[p];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=Bt(this.options.offset),u=this._getAnchor();this._zoomAnimated?Me(this._container,e.add(u)):i=i.add(e).add(u);var p=this._containerBottom=-i.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(e,i,u,p){var v=i;return v instanceof e||(v=new e(p).setContent(i)),u&&v.setLatLng(u),v}}),Ln.include({_initOverlay:function(e,i,u,p){var v=u;return v instanceof e?(S(v,p),v._source=this):(v=i&&!p?i:new e(p,this),v.setContent(u)),v}});var Ao=zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,zn.prototype.openOn.call(this,e)},onAdd:function(e){zn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof lr||this._source.on("preclick",j))},onRemove:function(e){zn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof lr||this._source.off("preclick",j))},getEvents:function(){var e=zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=ae("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ae("div",e+"-content-wrapper",i);if(this._contentNode=ae("div",e+"-content",u),F(i),V(this._contentNode),Yt(i,"contextmenu",j),this._tipContainer=ae("div",e+"-tip-container",i),this._tip=ae("div",e+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ae("a",e+"-close-button",i);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Yt(p,"click",function(v){G(v),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var u=e.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),i.width=u+1+"px",i.whiteSpace="",i.height="";var p=e.offsetHeight,v=this.options.maxHeight,M="leaflet-popup-scrolled";v&&p>v?(i.height=v+"px",te(e,M)):Oe(e,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),u=this._getAnchor();Me(this._container,i.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(or(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+i,p=this._containerWidth,v=new _t(this._containerLeft,-u-this._containerBottom);v._add(fn(this._container));var M=e.layerPointToContainerPoint(v),Z=Bt(this.options.autoPanPadding),tt=Bt(this.options.autoPanPaddingTopLeft||Z),ot=Bt(this.options.autoPanPaddingBottomRight||Z),vt=e.getSize(),Rt=0,qt=0;M.x+p+ot.x>vt.x&&(Rt=M.x+p-vt.x+ot.x),M.x-Rt-tt.x<0&&(Rt=M.x-tt.x),M.y+u+ot.y>vt.y&&(qt=M.y+u-vt.y+ot.y),M.y-qt-tt.y<0&&(qt=M.y-tt.y),(Rt||qt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Rt,qt]))}},_getAnchor:function(){return Bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Vf=function(e,i){return new Ao(e,i)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(e,i,u){return this._initOverlay(Ao,e,i,u).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ln.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Ao,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){X(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof lr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Ro=zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){zn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){zn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=zn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,u,p=this._map,v=this._container,M=p.latLngToContainerPoint(p.getCenter()),Z=p.layerPointToContainerPoint(e),tt=this.options.direction,ot=v.offsetWidth,vt=v.offsetHeight,Rt=Bt(this.options.offset),qt=this._getAnchor();tt==="top"?(i=ot/2,u=vt):tt==="bottom"?(i=ot/2,u=0):tt==="center"?(i=ot/2,u=vt/2):tt==="right"?(i=0,u=vt/2):tt==="left"?(i=ot,u=vt/2):Z.x<M.x?(tt="right",i=0,u=vt/2):(tt="left",i=ot+(Rt.x+qt.x)*2,u=vt/2),e=e.subtract(Bt(i,u,!0)).add(Rt).add(qt),Oe(v,"leaflet-tooltip-right"),Oe(v,"leaflet-tooltip-left"),Oe(v,"leaflet-tooltip-top"),Oe(v,"leaflet-tooltip-bottom"),te(v,"leaflet-tooltip-"+tt),Me(v,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&tn(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return Bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gf=function(e,i){return new Ro(e,i)};Ut.include({openTooltip:function(e,i,u){return this._initOverlay(Ro,e,i,u).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ln.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ro,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[i](u),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(Yt(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Yt(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,u,p;this._tooltip.options.sticky&&e.originalEvent&&(u=this._map.mouseEventToContainerPoint(e.originalEvent),p=this._map.containerPointToLayerPoint(u),i=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(i)}});var Al=ti.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Cr(i),i.appendChild(u.html)):i.innerHTML=u.html!==!1?u.html:"",u.bgPos){var p=Bt(u.bgPos);i.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function $f(e){return new Al(e)}ti.Default=Ni;var Hi=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:jt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){S(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ke(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof _t?e:new _t(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,u=-e(-1/0,1/0),p=0,v=i.length,M;p<v;p++)M=i[p].style.zIndex,i[p]!==this._container&&M&&(u=e(u,+M));isFinite(u)&&(this.options.zIndex=u+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!jt.ielt9){tn(this._container,this.options.opacity);var e=+new Date,i=!1,u=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var M=Math.min(1,(e-v.loaded)/200);tn(v.el,M),M<1?i=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),i&&(it(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===e?(this._levels[u].el.style.zIndex=i-Math.abs(e-u),this._onUpdateLevel(u)):(ke(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var p=this._levels[e],v=this._map;return p||(p=this._levels[e]={},p.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=i,p.origin=v.project(v.unproject(v.getPixelOrigin()),e).round(),p.zoom=e,this._setZoomTransform(p,v.getCenter(),v.getZoom()),k(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,i,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var p=i.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ke(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,u,p){var v=Math.floor(e/2),M=Math.floor(i/2),Z=u-1,tt=new _t(+v,+M);tt.z=+Z;var ot=this._tileCoordsToKey(tt),vt=this._tiles[ot];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),Z>p?this._retainParent(v,M,Z,p):!1)},_retainChildren:function(e,i,u,p){for(var v=2*e;v<2*e+2;v++)for(var M=2*i;M<2*i+2;M++){var Z=new _t(v,M);Z.z=u+1;var tt=this._tileCoordsToKey(Z),ot=this._tiles[tt];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);u+1<p&&this._retainChildren(v,M,u+1,p)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,u,p){var v=Math.round(i);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var M=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||M)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(e),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var u in this._levels)this._setZoomTransform(this._levels[u],e,i)},_setZoomTransform:function(e,i,u){var p=this._map.getZoomScale(u,e.zoom),v=e.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(i,u)).round();jt.any3d?In(e.el,v,p):Me(e.el,v)},_resetGrid:function(){var e=this._map,i=e.options.crs,u=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],p).x/u.x),Math.ceil(e.project([0,i.wrapLng[1]],p).x/u.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],p).y/u.x),Math.ceil(e.project([i.wrapLat[1],0],p).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,u=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),p=i.getZoomScale(u,this._tileZoom),v=i.project(e,this._tileZoom).floor(),M=i.getSize().divideBy(p*2);return new At(v.subtract(M),v.add(M))},_update:function(e){var i=this._map;if(i){var u=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(e),v=this._pxBoundsToTileRange(p),M=v.getCenter(),Z=[],tt=this.options.keepBuffer,ot=new At(v.getBottomLeft().subtract([tt,-tt]),v.getTopRight().add([tt,-tt]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var Rt=this._tiles[vt].coords;(Rt.z!==this._tileZoom||!ot.contains(new _t(Rt.x,Rt.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(e,u);return}for(var qt=v.min.y;qt<=v.max.y;qt++)for(var oe=v.min.x;oe<=v.max.x;oe++){var Je=new _t(oe,qt);if(Je.z=this._tileZoom,!!this._isValidTile(Je)){var Ve=this._tiles[this._tileCoordsToKey(Je)];Ve?Ve.current=!0:Z.push(Je)}}if(Z.sort(function(en,ii){return en.distanceTo(M)-ii.distanceTo(M)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(oe=0;oe<Z.length;oe++)this._addTile(Z[oe],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var u=this._globalTileRange;if(!i.wrapLng&&(e.x<u.min.x||e.x>u.max.x)||!i.wrapLat&&(e.y<u.min.y||e.y>u.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(e);return ce(this.options.bounds).overlaps(p)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,u=this.getTileSize(),p=e.scaleBy(u),v=p.add(u),M=i.unproject(p,e.z),Z=i.unproject(v,e.z);return[M,Z]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),u=new xe(i[0],i[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),u=new _t(+i[0],+i[1]);return u.z=+i[2],u},_removeTile:function(e){var i=this._tiles[e];i&&(ke(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){te(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=k,e.onmousemove=k,jt.ielt9&&this.options.opacity<1&&tn(e,this.options.opacity)},_addTile:function(e,i){var u=this._getTilePos(e),p=this._tileCoordsToKey(e),v=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(v),this.createTile.length<2&&ft(h(this._tileReady,this,e,null,v)),Me(v,u),this._tiles[p]={el:v,coords:e,current:!0},i.appendChild(v),this.fire("tileloadstart",{tile:v,coords:e})},_tileReady:function(e,i,u){i&&this.fire("tileerror",{error:i,tile:u,coords:e});var p=this._tileCoordsToKey(e);u=this._tiles[p],u&&(u.loaded=+new Date,this._map._fadeAnimated?(tn(u.el,0),it(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),i||(te(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),jt.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new _t(this._wrapX?y(e.x,this._wrapX):e.x,this._wrapY?y(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new At(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Zf(e){return new Hi(e)}var ri=Hi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=S(this,i),i.detectRetina&&jt.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var u=document.createElement("img");return Yt(u,"load",h(this._tileOnLoad,this,i,u)),Yt(u,"error",h(this._tileOnError,this,i,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(e),u},getTileUrl:function(e){var i={r:jt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=u),i["-y"]=u}return O(this._url,l(i,this.options))},_tileOnLoad:function(e,i){jt.ielt9?setTimeout(h(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,u){var p=this.options.errorTileUrl;p&&i.getAttribute("src")!==p&&(i.src=p),e(u,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,u=this.options.zoomReverse,p=this.options.zoomOffset;return u&&(e=i-e),e+p},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=k,i.onerror=k,!i.complete)){i.src=I;var u=this._tiles[e].coords;ke(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:u})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",I),Hi.prototype._removeTile.call(this,e)},_tileReady:function(e,i,u){if(!(!this._map||u&&u.getAttribute("src")===I))return Hi.prototype._tileReady.call(this,e,i,u)}});function Rl(e,i){return new ri(e,i)}var Bl=ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var u=l({},this.defaultWmsParams);for(var p in i)p in this.options||(u[p]=i[p]);i=S(this,i);var v=i.detectRetina&&jt.retina?2:1,M=this.getTileSize();u.width=M.x*v,u.height=M.y*v,this.wmsParams=u},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,ri.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),u=this._crs,p=Ft(u.project(i[0]),u.project(i[1])),v=p.min,M=p.max,Z=(this._wmsVersion>=1.3&&this._crs===Cl?[v.y,v.x,M.y,M.x]:[v.x,v.y,M.x,M.y]).join(","),tt=ri.prototype.getTileUrl.call(this,e);return tt+$(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(e,i){return l(this.wmsParams,e),i||this.redraw(),this}});function qf(e,i){return new Bl(e,i)}ri.WMS=Bl,Rl.wms=qf;var Yn=Ln.extend({options:{padding:.1},initialize:function(e){S(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var u=this._map.getZoomScale(i,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,i),M=p.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(e,i));jt.any3d?In(this._container,M,u):Me(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),u=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new At(u,u.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Il=Yn.extend({options:{tolerance:0},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Yt(e,"mousemove",this._onMouseMove,this),Yt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Yt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){it(this._redrawRequest),delete this._ctx,ke(this._container),a(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,i=this._container,u=e.getSize(),p=jt.retina?2:1;Me(i,e.min),i.width=p*u.x,i.height=p*u.y,i.style.width=u.x+"px",i.style.height=u.y+"px",jt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[m(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,u=i.next,p=i.prev;u?u.prev=p:this._drawLast=p,p?p.next=u:this._drawFirst=u,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),u=[],p,v;for(v=0;v<i.length;v++){if(p=Number(i[v]),isNaN(p))return;u.push(p)}e.options._dashArray=u}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var u=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)e=p.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var u,p,v,M,Z=e._parts,tt=Z.length,ot=this._ctx;if(tt){for(ot.beginPath(),u=0;u<tt;u++){for(p=0,v=Z[u].length;p<v;p++)M=Z[u][p],ot[p?"lineTo":"moveTo"](M.x,M.y);i&&ot.closePath()}this._fillStroke(ot,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,u=this._ctx,p=Math.max(Math.round(e._radius),1),v=(Math.max(Math.round(e._radiusY),1)||p)/p;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(i.x,i.y/v,p,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,e)}},_fillStroke:function(e,i){var u=i.options;u.fill&&(e.globalAlpha=u.fillOpacity,e.fillStyle=u.fillColor||u.color,e.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=u.opacity,e.lineWidth=u.weight,e.strokeStyle=u.color,e.lineCap=u.lineCap,e.lineJoin=u.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),u,p,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(u))&&(p=u);this._fireEvent(p?[p]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var u,p,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(i)&&(p=u);p!==this._hoveredLayer&&(this._handleMouseOut(e),p&&(te(this._container,"leaflet-interactive"),this._fireEvent([p],e,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,u){this._map._fireDOMEvent(i,u||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var u=i.next,p=i.prev;if(u)u.prev=p;else return;p?p.next=u:u&&(this._drawFirst=u),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var u=i.next,p=i.prev;if(p)p.next=u;else return;u?u.prev=p:p&&(this._drawLast=p),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Dl(e){return jt.canvas?new Il(e):null}var Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kf={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=Fi("shape");te(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=Fi("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;ke(i),e.removeInteractiveTarget(i),delete this._layers[m(e)]},_updateStyle:function(e){var i=e._stroke,u=e._fill,p=e.options,v=e._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(i||(i=e._stroke=Fi("stroke")),v.appendChild(i),i.weight=p.weight+"px",i.color=p.color,i.opacity=p.opacity,p.dashArray?i.dashStyle=H(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=p.lineCap.replace("butt","flat"),i.joinstyle=p.lineJoin):i&&(v.removeChild(i),e._stroke=null),p.fill?(u||(u=e._fill=Fi("fill")),v.appendChild(u),u.color=p.fillColor||p.color,u.opacity=p.fillOpacity):u&&(v.removeChild(u),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),u=Math.round(e._radius),p=Math.round(e._radiusY||u);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+u+","+p+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){$n(e._container)},_bringToBack:function(e){Zn(e._container)}},Bo=jt.vml?Fi:ct,Ui=Yn.extend({_initContainer:function(){this._container=Bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),a(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,i=e.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,u.setAttribute("width",i.x),u.setAttribute("height",i.y)),Me(u,e.min),u.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Bo("path");e.options.className&&te(i,e.options.className),e.options.interactive&&te(i,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ke(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,u=e.options;i&&(u.stroke?(i.setAttribute("stroke",u.color),i.setAttribute("stroke-opacity",u.opacity),i.setAttribute("stroke-width",u.weight),i.setAttribute("stroke-linecap",u.lineCap),i.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?i.setAttribute("stroke-dasharray",u.dashArray):i.removeAttribute("stroke-dasharray"),u.dashOffset?i.setAttribute("stroke-dashoffset",u.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),u.fill?(i.setAttribute("fill",u.fillColor||u.color),i.setAttribute("fill-opacity",u.fillOpacity),i.setAttribute("fill-rule",u.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,pt(e._parts,i))},_updateCircle:function(e){var i=e._point,u=Math.max(Math.round(e._radius),1),p=Math.max(Math.round(e._radiusY),1)||u,v="a"+u+","+p+" 0 1,0 ",M=e._empty()?"M0 0":"M"+(i.x-u)+","+i.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(e,M)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){$n(e._path)},_bringToBack:function(e){Zn(e._path)}});jt.vml&&Ui.include(Kf);function zl(e){return jt.svg||jt.vml?new Ui(e):null}Ut.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Dl(e)||zl(e)}});var jl=ei.extend({initialize:function(e,i){ei.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ce(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Wf(e,i){return new jl(e,i)}Ui.create=Bo,Ui.pointsToPath=pt,Jn.geometryToLayer=Po,Jn.coordsToLatLng=Vs,Jn.coordsToLatLngs=So,Jn.latLngToCoords=Gs,Jn.latLngsToCoords=Eo,Jn.getFeature=ni,Jn.asFeature=To,Ut.mergeOptions({boxZoom:!0});var Nl=dn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Sr(),Tr(),this._startPoint=this._map.mouseEventToContainerPoint(e),Yt(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new At(this._point,this._startPoint),u=i.getSize();Me(this._box,i.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ke(this._box),Oe(this._container,"leaflet-crosshair")),Er(),Bi(),a(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var i=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",Nl),Ut.mergeOptions({doubleClickZoom:!0});var Hl=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,u=i.getZoom(),p=i.options.zoomDelta,v=e.originalEvent.shiftKey?u-p:u+p;i.options.doubleClickZoom==="center"?i.setZoom(v):i.setZoomAround(e.containerPoint,v)}});Ut.addInitHook("addHandler","doubleClickZoom",Hl),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fl=dn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ar(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ce(this._map.options.maxBounds);this._offsetLimit=Ft(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),u=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-i+u)%e+i-u,M=(p+i+u)%e-i-u,Z=Math.abs(v+u)<Math.abs(M+u)?v:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(e){var i=this._map,u=i.options,p=!u.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),p)i.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,Z=u.easeLinearity,tt=v.multiplyBy(Z/M),ot=tt.distanceTo([0,0]),vt=Math.min(u.inertiaMaxSpeed,ot),Rt=tt.multiplyBy(vt/ot),qt=vt/(u.inertiaDeceleration*Z),oe=Rt.multiplyBy(-qt/2).round();!oe.x&&!oe.y?i.fire("moveend"):(oe=i._limitOffset(oe,i.options.maxBounds),ft(function(){i.panBy(oe,{duration:qt,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",Fl),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ul=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Yt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,u=e.scrollTop||i.scrollTop,p=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(p,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},u=this.keyCodes,p,v;for(p=0,v=u.left.length;p<v;p++)i[u.left[p]]=[-1*e,0];for(p=0,v=u.right.length;p<v;p++)i[u.right[p]]=[e,0];for(p=0,v=u.down.length;p<v;p++)i[u.down[p]]=[0,e];for(p=0,v=u.up.length;p<v;p++)i[u.up[p]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},u=this.keyCodes,p,v;for(p=0,v=u.zoomIn.length;p<v;p++)i[u.zoomIn[p]]=e;for(p=0,v=u.zoomOut.length;p<v;p++)i[u.zoomOut[p]]=-e},_addHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){a(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,u=this._map,p;if(i in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(p=this._panKeys[i],e.shiftKey&&(p=Bt(p).multiplyBy(3)),u.options.maxBounds&&(p=u._limitOffset(Bt(p),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(p)));u.panTo(v)}else u.panBy(p)}else if(i in this._zoomKeys)u.setZoom(u.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;X(e)}}});Ut.addInitHook("addHandler","keyboard",Ul),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vl=dn.extend({addHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=Tt(e),u=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var p=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),p),X(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),u=this._map.options.zoomSnap||0;e._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,M=u?Math.ceil(v/u)*u:v,Z=e._limitZoom(i+(this._delta>0?M:-M))-i;this._delta=0,this._startTime=null,Z&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+Z):e.setZoomAround(this._lastMousePos,i+Z))}});Ut.addInitHook("addHandler","scrollWheelZoom",Vl);var Jf=600;Ut.mergeOptions({tapHold:jt.touchNative&&jt.safari&&jt.mobile,tapTolerance:15});var Gl=dn.extend({addHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new _t(i.clientX,i.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Yt(document,"touchend",G),Yt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Jf),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){a(document,"touchend",G),a(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new _t(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var u=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});u._simulated=!0,i.target.dispatchEvent(u)}});Ut.addInitHook("addHandler","tapHold",Gl),Ut.mergeOptions({touchZoom:jt.touch,bounceAtZoomLimits:!0});var $l=dn.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var u=i.mouseEventToContainerPoint(e.touches[0]),p=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(u.add(p)._divideBy(2))),this._startDist=u.distanceTo(p),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),G(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,u=i.mouseEventToContainerPoint(e.touches[0]),p=i.mouseEventToContainerPoint(e.touches[1]),v=u.distanceTo(p)/this._startDist;if(this._zoom=i.getScaleZoom(v,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&v<1||this._zoom>i.getMaxZoom()&&v>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var M=u._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&M.x===0&&M.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),it(this._animRequest);var Z=h(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(Z,this,!0),G(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,it(this._animRequest),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",$l),Ut.BoxZoom=Nl,Ut.DoubleClickZoom=Hl,Ut.Drag=Fl,Ut.Keyboard=Ul,Ut.ScrollWheelZoom=Vl,Ut.TapHold=Gl,Ut.TouchZoom=$l,o.Bounds=At,o.Browser=jt,o.CRS=lt,o.Canvas=Il,o.Circle=Us,o.CircleMarker=Co,o.Class=bt,o.Control=Le,o.DivIcon=Al,o.DivOverlay=zn,o.DomEvent=ee,o.DomUtil=Is,o.Draggable=ar,o.Evented=Nt,o.FeatureGroup=Kn,o.GeoJSON=Jn,o.GridLayer=Hi,o.Handler=dn,o.Icon=ti,o.ImageOverlay=Oo,o.LatLng=re,o.LatLngBounds=xe,o.Layer=Ln,o.LayerGroup=Qr,o.LineUtil=Pf,o.Map=Ut,o.Marker=Mo,o.Mixin=wf,o.Path=lr,o.Point=_t,o.PolyUtil=xf,o.Polygon=ei,o.Polyline=Wn,o.Popup=Ao,o.PosAnimation=ve,o.Projection=Sf,o.Rectangle=jl,o.Renderer=Yn,o.SVG=Ui,o.SVGOverlay=Ol,o.TileLayer=ri,o.Tooltip=Ro,o.Transformation=ie,o.Util=gt,o.VideoOverlay=Tl,o.bind=h,o.bounds=Ft,o.canvas=Dl,o.circle=Df,o.circleMarker=If,o.control=Ue,o.divIcon=$f,o.extend=l,o.featureGroup=Af,o.geoJSON=El,o.geoJson=Nf,o.gridLayer=Zf,o.icon=Rf,o.imageOverlay=Hf,o.latLng=zt,o.latLngBounds=ce,o.layerGroup=Of,o.map=be,o.marker=Bf,o.point=Bt,o.polygon=jf,o.polyline=zf,o.popup=Vf,o.rectangle=Wf,o.setOptions=S,o.stamp=m,o.svg=zl,o.svgOverlay=Uf,o.tileLayer=Rl,o.tooltip=Gf,o.transformation=U,o.version=s,o.videoOverlay=Ff;var Yf=window.L;o.noConflict=function(){return window.L=Yf,this},window.L=o})})(za,za.exports);var A0=za.exports;const Mn=O0(A0),R0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",B0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",I0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",D0={className:"bg-map-asserted bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},z0={className:"bg-map-collection-object bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},yf={className:"bg-map-georeference bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},j0={className:"bg-map-type-material bg-opacity-50 rounded-full",iconSize:[8,8],iconAnchor:[4,4]},N0=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:D0,CollectionObject:z0,Georeference:yf,TypeMaterial:j0},Symbol.toStringTag,{value:"Module"})),H0={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:.25},F0={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:.25},U0={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:.25},V0={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:.25},mu=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:H0,AssertedDistribution:F0,CollectionObject:U0,TypeMaterial:V0},Symbol.toStringTag,{value:"Module"})),gu=["TypeMaterial","CollectionObject","AssertedDistribution","Georeference","Aggregate"],_u={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function yu(t){const n=t.map(o=>o.type);return n.sort((o,s)=>gu.indexOf(o)-gu.indexOf(s)),n[0]}const G0=t=>({onEachFeature:(n,o)=>{const s=`
    <div class="max-h-32 overflow-y-auto text-xs">
    <ul>
    ${n.properties.base.map(l=>`
          <li 
            class="py-2 last:border-0 truncate border-b"
            title="${l.label}"
          >
            ${l.label}
          </li>
          `).join("")}
      </ul></div>`;o.pm.setOptions(_u),o.pm.disable(),o.bindPopup(s)},pointToLayer:(n,o)=>{const s=yu(n.properties.base),l=N0[s]||yf,c=t.marker(o,{icon:t.divIcon(l)});return c.pm.setOptions(_u),c},style:n=>{var s;const o=yu((s=n.properties)==null?void 0:s.base);if(mu[o])return mu[o]}});(()=>{var t={9705:(s,l,c)=>{var h=c(1540);function d(m){var g=[1/0,1/0,-1/0,-1/0];return h.coordEach(m,function(y){g[0]>y[0]&&(g[0]=y[0]),g[1]>y[1]&&(g[1]=y[1]),g[2]<y[0]&&(g[2]=y[0]),g[3]<y[1]&&(g[3]=y[1])}),g}d.default=d,l.Z=d},4102:(s,l)=>{function c(E,O,H){H===void 0&&(H={});var P={type:"Feature"};return(H.id===0||H.id)&&(P.id=H.id),H.bbox&&(P.bbox=H.bbox),P.properties=O||{},P.geometry=E,P}function h(E,O,H){if(H===void 0&&(H={}),!E)throw new Error("coordinates is required");if(!Array.isArray(E))throw new Error("coordinates must be an Array");if(E.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$(E[0])||!$(E[1]))throw new Error("coordinates must contain numbers");return c({type:"Point",coordinates:E},O,H)}function d(E,O,H){H===void 0&&(H={});for(var P=0,I=E;P<I.length;P++){var K=I[P];if(K.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var nt=0;nt<K[K.length-1].length;nt++)if(K[K.length-1][nt]!==K[0][nt])throw new Error("First and last Position are not equivalent.")}return c({type:"Polygon",coordinates:E},O,H)}function m(E,O,H){if(H===void 0&&(H={}),E.length<2)throw new Error("coordinates must be an array of two or more positions");return c({type:"LineString",coordinates:E},O,H)}function g(E,O){O===void 0&&(O={});var H={type:"FeatureCollection"};return O.id&&(H.id=O.id),O.bbox&&(H.bbox=O.bbox),H.features=E,H}function y(E,O,H){return H===void 0&&(H={}),c({type:"MultiLineString",coordinates:E},O,H)}function k(E,O,H){return H===void 0&&(H={}),c({type:"MultiPoint",coordinates:E},O,H)}function C(E,O,H){return H===void 0&&(H={}),c({type:"MultiPolygon",coordinates:E},O,H)}function z(E,O){O===void 0&&(O="kilometers");var H=l.factors[O];if(!H)throw new Error(O+" units is invalid");return E*H}function T(E,O){O===void 0&&(O="kilometers");var H=l.factors[O];if(!H)throw new Error(O+" units is invalid");return E/H}function S(E){return 180*(E%(2*Math.PI))/Math.PI}function $(E){return!isNaN(E)&&E!==null&&!Array.isArray(E)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=c,l.geometry=function(E,O,H){switch(E){case"Point":return h(O).geometry;case"LineString":return m(O).geometry;case"Polygon":return d(O).geometry;case"MultiPoint":return k(O).geometry;case"MultiLineString":return y(O).geometry;case"MultiPolygon":return C(O).geometry;default:throw new Error(E+" is invalid")}},l.point=h,l.points=function(E,O,H){return H===void 0&&(H={}),g(E.map(function(P){return h(P,O)}),H)},l.polygon=d,l.polygons=function(E,O,H){return H===void 0&&(H={}),g(E.map(function(P){return d(P,O)}),H)},l.lineString=m,l.lineStrings=function(E,O,H){return H===void 0&&(H={}),g(E.map(function(P){return m(P,O)}),H)},l.featureCollection=g,l.multiLineString=y,l.multiPoint=k,l.multiPolygon=C,l.geometryCollection=function(E,O,H){return H===void 0&&(H={}),c({type:"GeometryCollection",geometries:E},O,H)},l.round=function(E,O){if(O===void 0&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,O||0);return Math.round(E*H)/H},l.radiansToLength=z,l.lengthToRadians=T,l.lengthToDegrees=function(E,O){return S(T(E,O))},l.bearingToAzimuth=function(E){var O=E%360;return O<0&&(O+=360),O},l.radiansToDegrees=S,l.degreesToRadians=function(E){return E%360*Math.PI/180},l.convertLength=function(E,O,H){if(O===void 0&&(O="kilometers"),H===void 0&&(H="kilometers"),!(E>=0))throw new Error("length must be a positive number");return z(T(E,O),H)},l.convertArea=function(E,O,H){if(O===void 0&&(O="meters"),H===void 0&&(H="kilometers"),!(E>=0))throw new Error("area must be a positive number");var P=l.areaFactors[O];if(!P)throw new Error("invalid original units");var I=l.areaFactors[H];if(!I)throw new Error("invalid final units");return E/P*I},l.isNumber=$,l.isObject=function(E){return!!E&&E.constructor===Object},l.validateBBox=function(E){if(!E)throw new Error("bbox is required");if(!Array.isArray(E))throw new Error("bbox must be an Array");if(E.length!==4&&E.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");E.forEach(function(O){if(!$(O))throw new Error("bbox must only contain numbers")})},l.validateId=function(E){if(!E)throw new Error("id is required");if(["string","number"].indexOf(typeof E)===-1)throw new Error("id must be a number or a string")}},1540:(s,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});var h=c(4102);function d(T,S,$){if(T!==null)for(var E,O,H,P,I,K,nt,W,et=0,st=0,ft=T.type,it=ft==="FeatureCollection",gt=ft==="Feature",bt=it?T.features.length:1,Pt=0;Pt<bt;Pt++){I=(W=!!(nt=it?T.features[Pt].geometry:gt?T.geometry:T)&&nt.type==="GeometryCollection")?nt.geometries.length:1;for(var kt=0;kt<I;kt++){var Nt=0,_t=0;if((P=W?nt.geometries[kt]:nt)!==null){K=P.coordinates;var le=P.type;switch(et=!$||le!=="Polygon"&&le!=="MultiPolygon"?0:1,le){case null:break;case"Point":if(S(K,st,Pt,Nt,_t)===!1)return!1;st++,Nt++;break;case"LineString":case"MultiPoint":for(E=0;E<K.length;E++){if(S(K[E],st,Pt,Nt,_t)===!1)return!1;st++,le==="MultiPoint"&&Nt++}le==="LineString"&&Nt++;break;case"Polygon":case"MultiLineString":for(E=0;E<K.length;E++){for(O=0;O<K[E].length-et;O++){if(S(K[E][O],st,Pt,Nt,_t)===!1)return!1;st++}le==="MultiLineString"&&Nt++,le==="Polygon"&&_t++}le==="Polygon"&&Nt++;break;case"MultiPolygon":for(E=0;E<K.length;E++){for(_t=0,O=0;O<K[E].length;O++){for(H=0;H<K[E][O].length-et;H++){if(S(K[E][O][H],st,Pt,Nt,_t)===!1)return!1;st++}_t++}Nt++}break;case"GeometryCollection":for(E=0;E<P.geometries.length;E++)if(d(P.geometries[E],S,$)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(T,S){var $;switch(T.type){case"FeatureCollection":for($=0;$<T.features.length&&S(T.features[$].properties,$)!==!1;$++);break;case"Feature":S(T.properties,0)}}function g(T,S){if(T.type==="Feature")S(T,0);else if(T.type==="FeatureCollection")for(var $=0;$<T.features.length&&S(T.features[$],$)!==!1;$++);}function y(T,S){var $,E,O,H,P,I,K,nt,W,et,st=0,ft=T.type==="FeatureCollection",it=T.type==="Feature",gt=ft?T.features.length:1;for($=0;$<gt;$++){for(I=ft?T.features[$].geometry:it?T.geometry:T,nt=ft?T.features[$].properties:it?T.properties:{},W=ft?T.features[$].bbox:it?T.bbox:void 0,et=ft?T.features[$].id:it?T.id:void 0,P=(K=!!I&&I.type==="GeometryCollection")?I.geometries.length:1,O=0;O<P;O++)if((H=K?I.geometries[O]:I)!==null)switch(H.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(S(H,st,nt,W,et)===!1)return!1;break;case"GeometryCollection":for(E=0;E<H.geometries.length;E++)if(S(H.geometries[E],st,nt,W,et)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(S(null,st,nt,W,et)===!1)return!1;st++}}function k(T,S){y(T,function($,E,O,H,P){var I,K=$===null?null:$.type;switch(K){case null:case"Point":case"LineString":case"Polygon":return S(h.feature($,O,{bbox:H,id:P}),E,0)!==!1&&void 0}switch(K){case"MultiPoint":I="Point";break;case"MultiLineString":I="LineString";break;case"MultiPolygon":I="Polygon"}for(var nt=0;nt<$.coordinates.length;nt++){var W={type:I,coordinates:$.coordinates[nt]};if(S(h.feature(W,O),E,nt)===!1)return!1}})}function C(T,S){k(T,function($,E,O){var H=0;if($.geometry){var P=$.geometry.type;if(P!=="Point"&&P!=="MultiPoint"){var I,K=0,nt=0,W=0;return d($,function(et,st,ft,it,gt){if(I===void 0||E>K||it>nt||gt>W)return I=et,K=E,nt=it,W=gt,void(H=0);var bt=h.lineString([I,et],$.properties);if(S(bt,E,O,gt,H)===!1)return!1;H++,I=et})!==!1&&void 0}}})}function z(T,S){if(!T)throw new Error("geojson is required");k(T,function($,E,O){if($.geometry!==null){var H=$.geometry.type,P=$.geometry.coordinates;switch(H){case"LineString":if(S($,E,O,0,0)===!1)return!1;break;case"Polygon":for(var I=0;I<P.length;I++)if(S(h.lineString(P[I],$.properties),E,O,I)===!1)return!1}}})}l.coordAll=function(T){var S=[];return d(T,function($){S.push($)}),S},l.coordEach=d,l.coordReduce=function(T,S,$,E){var O=$;return d(T,function(H,P,I,K,nt){O=P===0&&$===void 0?H:S(O,H,P,I,K,nt)},E),O},l.featureEach=g,l.featureReduce=function(T,S,$){var E=$;return g(T,function(O,H){E=H===0&&$===void 0?O:S(E,O,H)}),E},l.findPoint=function(T,S){if(S=S||{},!h.isObject(S))throw new Error("options is invalid");var $,E=S.featureIndex||0,O=S.multiFeatureIndex||0,H=S.geometryIndex||0,P=S.coordIndex||0,I=S.properties;switch(T.type){case"FeatureCollection":E<0&&(E=T.features.length+E),I=I||T.features[E].properties,$=T.features[E].geometry;break;case"Feature":I=I||T.properties,$=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":$=T;break;default:throw new Error("geojson is invalid")}if($===null)return null;var K=$.coordinates;switch($.type){case"Point":return h.point(K,I,S);case"MultiPoint":return O<0&&(O=K.length+O),h.point(K[O],I,S);case"LineString":return P<0&&(P=K.length+P),h.point(K[P],I,S);case"Polygon":return H<0&&(H=K.length+H),P<0&&(P=K[H].length+P),h.point(K[H][P],I,S);case"MultiLineString":return O<0&&(O=K.length+O),P<0&&(P=K[O].length+P),h.point(K[O][P],I,S);case"MultiPolygon":return O<0&&(O=K.length+O),H<0&&(H=K[O].length+H),P<0&&(P=K[O][H].length-P),h.point(K[O][H][P],I,S)}throw new Error("geojson is invalid")},l.findSegment=function(T,S){if(S=S||{},!h.isObject(S))throw new Error("options is invalid");var $,E=S.featureIndex||0,O=S.multiFeatureIndex||0,H=S.geometryIndex||0,P=S.segmentIndex||0,I=S.properties;switch(T.type){case"FeatureCollection":E<0&&(E=T.features.length+E),I=I||T.features[E].properties,$=T.features[E].geometry;break;case"Feature":I=I||T.properties,$=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":$=T;break;default:throw new Error("geojson is invalid")}if($===null)return null;var K=$.coordinates;switch($.type){case"Point":case"MultiPoint":return null;case"LineString":return P<0&&(P=K.length+P-1),h.lineString([K[P],K[P+1]],I,S);case"Polygon":return H<0&&(H=K.length+H),P<0&&(P=K[H].length+P-1),h.lineString([K[H][P],K[H][P+1]],I,S);case"MultiLineString":return O<0&&(O=K.length+O),P<0&&(P=K[O].length+P-1),h.lineString([K[O][P],K[O][P+1]],I,S);case"MultiPolygon":return O<0&&(O=K.length+O),H<0&&(H=K[O].length+H),P<0&&(P=K[O][H].length-P-1),h.lineString([K[O][H][P],K[O][H][P+1]],I,S)}throw new Error("geojson is invalid")},l.flattenEach=k,l.flattenReduce=function(T,S,$){var E=$;return k(T,function(O,H,P){E=H===0&&P===0&&$===void 0?O:S(E,O,H,P)}),E},l.geomEach=y,l.geomReduce=function(T,S,$){var E=$;return y(T,function(O,H,P,I,K){E=H===0&&$===void 0?O:S(E,O,H,P,I,K)}),E},l.lineEach=z,l.lineReduce=function(T,S,$){var E=$;return z(T,function(O,H,P,I){E=H===0&&$===void 0?O:S(E,O,H,P,I)}),E},l.propEach=m,l.propReduce=function(T,S,$){var E=$;return m(T,function(O,H){E=H===0&&$===void 0?O:S(E,O,H)}),E},l.segmentEach=C,l.segmentReduce=function(T,S,$){var E=$,O=!1;return C(T,function(H,P,I,K,nt){E=O===!1&&$===void 0?H:S(E,H,P,I,K,nt),O=!0}),E}},5975:(s,l,c)=>{c(7107);var h=c(2492),d=c.n(h);const m=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),y=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),k=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),C=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),z=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),T=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),$=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),E=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),O=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),H={en:m,de:g,it:y,id:k,ro:C,ru:z,es:T,nl:S,fr:$,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:E,zh_tw:O,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function P(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function I(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?P(Object(f),!0).forEach(function(_){K(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):P(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function K(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}const nt={_globalEditModeEnabled:!1,enableGlobalEditMode:function(r){var a=I({},r);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(f){f.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode:function(){var r=this._addedLayers;for(var a in this._addedLayers={},r){var f=r[a];this._isRelevantForEdit(f)&&this.globalEditModeEnabled()&&f.pm.enable(I({},this.globalOptions))}},_layerAdded:function(r){var a=r.layer;this._addedLayers[L.stamp(a)]=a},_isRelevantForEdit:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},W={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(a){a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(function(a){a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var r=this._addedLayersDrag;for(var a in this._addedLayersDrag={},r){var f=r[a];this._isRelevantForDrag(f)&&this.globalDragModeEnabled()&&f.pm.enableLayerDrag()}},_layerAddedDrag:function(r){var a=r.layer;this._addedLayersDrag[L.stamp(a)]=a},_isRelevantForDrag:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},et={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(a){r._isRelevantForRemoval(a)&&(a.pm.disable(),a.on("click",r.removeLayer,r))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(a){a.off("click",r.removeLayer,r)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(r){var a=r.layer;this._isRelevantForRemoval(a)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(r){var a=r.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval}},st={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var r=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){r._isRelevantForRotate(a)&&a.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){r.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(r){var a=r.layer;this._isRelevantForRotate(a)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation}};function ft(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function it(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?ft(Object(f),!0).forEach(function(_){gt(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):ft(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function gt(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}var bt={_fireDrawStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,a)},_fireDrawEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},r,a)},_fireCreate:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},a,f)},_fireCenterPlaced:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=r==="Draw"?this._layer:void 0,_=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:f,layer:_,latlng:this._layer.getLatLng()},r,a)},_fireCut:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:cut",{shape:this._shape,layer:a,originalLayer:f},_,w)},_fireEdit:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},a,f)},_fireEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,a)},_fireUpdate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,a)},_fireMarkerDragStart:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},f,_)},_fireMarkerDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},f,_)},_fireMarkerDragEnd:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a,intersectionReset:f},_,w)},_fireDragStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,a)},_fireDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",it(it({},r),{},{shape:this.getShape()}),a,f)},_fireDragEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRemove:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:this.getShape()},f,_)},_fireVertexAdded:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:a,latlng:f,shape:this.getShape()},_,w)},_fireVertexRemoved:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:a,shape:this.getShape()},f,_)},_fireVertexClick:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},f,_)},_fireIntersect:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},a,f)},_fireLayerReset:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},f,_)},_fireChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},a,f)},_fireTextChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},a,f)},_fireTextFocus:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,a)},_fireTextBlur:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,a)},_fireSnapDrag:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snapdrag",a,f,_)},_fireSnap:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snap",a,f,_)},_fireUnsnap:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:unsnap",a,f,_)},_fireRotationEnable:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},f,_)},_fireRotationDisable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,f)},_fireRotationStart:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},f,_)},_fireRotation:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(r,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:a,oldLatLngs:f,newLatLngs:_.getLatLngs()},w,R)},_fireRotationEnd:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:f,newLatLngs:this._rotationLayer.getLatLngs()},_,w)},_fireActionClick:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:a,button:f},_,w)},_fireButtonClick:function(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:r,button:a},f,_)},_fireLangChange:function(r,a,f,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:a,fallback:f,translations:_},w,R)},_fireGlobalDragModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},a,f)},_fireGlobalEditModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},a,f)},_fireGlobalRemovalModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},a,f)},_fireGlobalCutModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,a)},_fireGlobalDrawModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,a)},_fireGlobalRotateModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,a)},_fireRemoveLayerGroup:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:void 0},f,_)},_fireKeyeventEvent:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:r,eventType:a,focusOn:f},_,w)},__fire:function(r,a,f,_){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};f=d()(f,w,{source:_}),L.PM.Utils._fireEvent(r,a,f)}};const Pt=bt,kt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(r){var a="document";this.map.getContainer().contains(r.target)&&(a="map");var f={event:r,eventType:r.type,focusOn:a};this._lastEvents[r.type]=f,this._lastEvents.current=f,this.map.pm._fireKeyeventEvent(r,r.type,a)},_onBlur:function(r){r.altKey=!1;var a={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=a,this._lastEvents.current=a},getLastKeyEvent:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[r]},isShiftKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.shiftKey},isAltKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.altKey},isCtrlKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.ctrlKey},isMetaKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.metaKey},getPressedKey:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.key}};var Nt=c(7361),_t=c.n(Nt),le=c(8721),Bt=c.n(le);function At(r){var a=L.PM.activeLang;return Bt()(H,a)||(a="en"),_t()(H[a],r)}function Ft(r){for(var a=0;a<r.length;a+=1){var f=r[a];if(Array.isArray(f)){if(Ft(f))return!0}else if(f!=null&&f!=="")return!0}return!1}function xe(r){return r.reduce(function(a,f){if(f.length!==0){var _=Array.isArray(f)?xe(f):f;Array.isArray(_)?_.length!==0&&a.push(_):a.push(_)}return a},[])}function ce(r,a,f){for(var _,w,R,j=6378137,V=63567523142e-4,F=.0033528106647474805,G=r.lng,X=r.lat,ut=f,at=Math.PI,xt=a*at/180,Tt=Math.sin(xt),Gt=Math.cos(xt),ee=(1-F)*Math.tan(X*at/180),ve=1/Math.sqrt(1+ee*ee),Ut=ee*ve,be=Math.atan2(ee,Gt),Le=ve*Tt,Ue=1-Le*Le,kn=Ue*(j*j-V*V)/(V*V),xo=1+kn/16384*(4096+kn*(kn*(320-175*kn)-768)),Or=kn/1024*(256+kn*(kn*(74-47*kn)-128)),qn=ut/(V*xo),zi=2*Math.PI;Math.abs(qn-zi)>1e-12;)_=Math.cos(2*be+qn),zi=qn,qn=ut/(V*xo)+Or*(w=Math.sin(qn))*(_+Or/4*((R=Math.cos(qn))*(2*_*_-1)-Or/6*_*(4*w*w-3)*(4*_*_-3)));var ko=Ut*w-ve*R*Gt,Ds=Math.atan2(Ut*R+ve*w*Gt,(1-F)*Math.sqrt(Le*Le+ko*ko)),Ar=F/16*Ue*(4+F*(4-3*Ue)),zs=G+180*(Math.atan2(w*Tt,ve*R-Ut*w*Gt)-(1-Ar)*F*Le*(qn+Ar*w*(_+Ar*R*(2*_*_-1))))/at,dn=180*Ds/at;return L.latLng(zs,dn)}function re(r,a,f,_){for(var w,R,j=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],V=[],F=0;F<f;F+=1){if(j)w=ce(r,360*F/f+_,a),R=L.latLng(w.lng,w.lat);else{var G=r.lat+Math.cos(2*F*Math.PI/f)*a,X=r.lng+Math.sin(2*F*Math.PI/f)*a;R=L.latLng(G,X)}V.push(R)}return V}function zt(r,a,f,_){var w=function(R,j,V){var F=R.latLngToContainerPoint(j),G=R.latLngToContainerPoint(V),X=180*Math.atan2(G.y-F.y,G.x-F.x)/Math.PI+90;return X+(X<0?360:0)}(r,a,f);return function(R,j,V){j=(j+360)%360;var F=Math.PI/180,G=180/Math.PI,X=6378137,ut=R.lng*F,at=R.lat*F,xt=j*F,Tt=Math.sin(at),Gt=Math.cos(at),ee=Math.cos(V/X),ve=Math.sin(V/X),Ut=Math.asin(Tt*ee+Gt*ve*Math.cos(xt)),be=ut+Math.atan2(Math.sin(xt)*ve*Gt,ee-Tt*Math.sin(Ut));return be=(be*=G)>180?be-360:be<-180?be+360:be,L.latLng([Ut*G,be])}(a,w,_)}function lt(r,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!a||Object.keys(a).length===0)return function(F,G){return F-G};for(var _,w=Object.keys(a),R=w.length-1,j={};R>=0;)_=w[R],j[_.toLowerCase()]=a[_],R-=1;function V(F){return F instanceof L.Marker?"Marker":F instanceof L.Circle?"Circle":F instanceof L.CircleMarker?"CircleMarker":F instanceof L.Rectangle?"Rectangle":F instanceof L.Polygon?"Polygon":F instanceof L.Polyline?"Line":void 0}return function(F,G){var X,ut;if(r==="instanceofShape"){if(X=V(F.layer).toLowerCase(),ut=V(G.layer).toLowerCase(),!X||!ut)return 0}else{if(!F.hasOwnProperty(r)||!G.hasOwnProperty(r))return 0;X=F[r].toLowerCase(),ut=G[r].toLowerCase()}var at=X in j?j[X]:Number.MAX_SAFE_INTEGER,xt=ut in j?j[ut]:Number.MAX_SAFE_INTEGER,Tt=0;return at<xt?Tt=-1:at>xt&&(Tt=1),f==="desc"?-1*Tt:Tt}}function Mt(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.getLatLngs();return r instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function Ct(r,a){var f,_;if((f=a.options.crs)!==null&&f!==void 0&&(_=f.projection)!==null&&_!==void 0&&_.MAX_LATITUDE){var w,R,j=(w=a.options.crs)===null||w===void 0||(R=w.projection)===null||R===void 0?void 0:R.MAX_LATITUDE;r.lat=Math.max(Math.min(j,r.lat),-j)}return r}function It(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}const ie=L.Class.extend({includes:[nt,W,et,st,Pt],initialize:function(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=kt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",a=arguments.length>1?arguments[1]:void 0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",_=L.PM.activeLang;a&&(H[r]=d()(H[f],a)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,r,f,H[r])},addControls:function(r){this.Toolbar.addControls(r)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",a=arguments.length>1?arguments[1]:void 0;r==="Poly"&&(r="Polygon"),this.Draw.enable(r,a)},disableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions:function(r){var a=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=f.ignoreShapes||[],w=f.merge||!1;this.map.pm.Draw.shapes.forEach(function(R){_.indexOf(R)===-1&&a.map.pm.Draw[R].setPathOptions(r,w)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(r){var a=this,f=d()(this.globalOptions,r),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!f.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(w){a.map.pm.Draw[w].setOptions(f)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(w){w.pm.setOptions(f)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=f,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode:function(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map);if(!r)return a;var f=L.featureGroup();return f._pmTempLayer=!0,a.forEach(function(_){f.addLayer(_)}),f},getGeomanDrawLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map).filter(function(_){return _._drawnByGeoman===!0});if(!r)return a;var f=L.featureGroup();return f._pmTempLayer=!0,a.forEach(function(_){f.addLayer(_)}),f},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(r){It(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick:function(r){var a="";r.type==="touchstart"||r.type==="pointerdown"?a="mousedown":r.type==="touchend"||r.type==="pointerup"?a="mouseup":r.type!=="touchcancel"&&r.type!=="pointercancel"||(a="mouseup"),a&&It(this.map)._onClick(this._createMouseEvent(a,r))},_createMouseEvent:function(r,a){var f,_=a.touches[0]||a.changedTouches[0];try{f=new MouseEvent(r,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{(f=document.createEvent("MouseEvents")).initMouseEvent(r,a.bubbles,a.cancelable,a.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return f}}),U=L.Control.extend({includes:[Pt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(r){this._button=L.Util.extend({},this.options,r)},onAdd:function(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(r){return this._button.toggleStatus=typeof r=="boolean"?r:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(r){r&&r.preventDefault(),this._button.disabled||(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton:function(r){var a=this,f=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(f),this._container);r.title&&_.setAttribute("title",r.title);var w=L.DomUtil.create("a","leaflet-buttons-control-button",_);w.setAttribute("role","button"),w.setAttribute("tabindex","0"),w.href="#";var R=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(f),_),j=r.actions,V={cancel:{text:At("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:At("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:At("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:At("actions.finish"),onClick:function(G){this._map.pm.Draw[r.jsClass]._finishShape(G)}}};j.forEach(function(G){var X,ut=typeof G=="string"?G:G.name;if(V[ut])X=V[ut];else{if(!G.text)return;X=G}var at=L.DomUtil.create("a","leaflet-pm-action ".concat(f," action-").concat(ut),R);at.setAttribute("role","button"),at.setAttribute("tabindex","0"),at.href="#",at.innerHTML=X.text,L.DomEvent.disableClickPropagation(at),L.DomEvent.on(at,"click",L.DomEvent.stop),!r.disabled&&X.onClick&&(L.DomEvent.addListener(at,"click",function(xt){xt.preventDefault();var Tt="",Gt=a._map.pm.Toolbar.buttons;for(var ee in Gt)if(Gt[ee]._button===r){Tt=ee;break}a._fireActionClick(X,Tt,r)},a),L.DomEvent.addListener(at,"click",X.onClick,a))}),r.toggleStatus&&L.DomUtil.addClass(_,"active");var F=L.DomUtil.create("div","control-icon",w);return r.iconUrl&&F.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(F,r.className),L.DomEvent.disableClickPropagation(w),L.DomEvent.on(w,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(w,"click",this._onBtnClick,this),L.DomEvent.addListener(w,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(w,"pm-disabled"),w.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var r="",a=this._map.pm.Toolbar.buttons;for(var f in a)if(a[f]._button===this._button){r=f;break}this._fireButtonClick(r,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var r="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,r),a.setAttribute("aria-disabled","true"),L.DomEvent.off(a,"click",this._triggerClick,this),L.DomEvent.off(a,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(a,r),a.setAttribute("aria-disabled","false"),L.DomEvent.on(a,"click",this._triggerClick,this),L.DomEvent.on(a,"click",this._onBtnClick,this))}}});function q(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function J(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?q(Object(f),!0).forEach(function(_){ct(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):q(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function ct(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}function pt(r){return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},pt(r)}L.Control.PMButton=U;const yt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(r){this.init(r)},reinit:function(){var r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init:function(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(r){var a="".concat(r,"Container");return this[a]||(this[a]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(r," leaflet-bar leaflet-control"))),this[a]},getButtons:function(){return this.buttons},addControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var r=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var f in r){var _=r[f];L.Util.setOptions(_,{className:a.geomanIcons[f]})}},removeControls:function(){var r=this.getButtons();for(var a in r)r[a].remove();this.isVisible=!1},toggleControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(r)},_addButton:function(r,a){return this.buttons[r]=a,this.options[r]=this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons:function(r){for(var a in this.buttons){var f=this.buttons[a];f._button.disableByOtherButtons&&f!==r&&f.toggled()&&f._triggerClick()}},toggleButton:function(r,a){var f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),f&&this.triggerClickOnToggledButtons(this.buttons[r]),!!this.buttons[r]&&this.buttons[r].toggle(a)},_defineButtons:function(){var r=this,a={className:"control-icon leaflet-pm-icon-marker",title:At("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},f={title:At("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:At("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},w={title:At("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},R={title:At("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:At("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},V={title:At("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={title:At("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:At("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},X={title:At("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ut={title:At("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},at={className:"control-icon leaflet-pm-icon-text",title:At("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(xt,Tt){r.map.pm.Draw[Tt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(a)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(j)),this._addButton("drawPolygon",new L.Control.PMButton(f)),this._addButton("drawCircle",new L.Control.PMButton(w)),this._addButton("drawCircleMarker",new L.Control.PMButton(R)),this._addButton("drawText",new L.Control.PMButton(at)),this._addButton("editMode",new L.Control.PMButton(V)),this._addButton("dragMode",new L.Control.PMButton(F)),this._addButton("cutPolygon",new L.Control.PMButton(G)),this._addButton("removalMode",new L.Control.PMButton(X)),this._addButton("rotateMode",new L.Control.PMButton(ut))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var r=this.getButtons(),a=[];for(var f in this.options.drawControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return!r[w]._button.tool}))),this.options.editControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="edit"}))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="options"}))),this.options.customControls===!1&&(a=a.concat(Object.keys(r).filter(function(w){return r[w]._button.tool==="custom"}))),r)if(this.options[f]&&a.indexOf(f)===-1){var _=r[f]._button.tool;_||(_="draw"),r[f].setPosition(this._getBtnPosition(_)),r[f].addTo(this.map)}}},_getBtnPosition:function(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition:function(r,a){this.options.positions[r]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(r,a){if(!a)throw new TypeError("Button has no name");pt(a)!=="object"&&(a={name:a});var f=this._btnNameMapping(r);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(a.name,f);return a=J(J({},this.buttons[f]._button),a),{drawInstance:_,control:this.createCustomControl(a)}},createCustomControl:function(r){var a,f;if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=function(){}),r.afterClick||(r.afterClick=function(){}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),r.block&&r.block!=="draw"||(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className="control-icon ".concat(r.className)):r.className="control-icon";var _={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:(a=r.disableOtherButtons)===null||a===void 0||a,disableByOtherButtons:(f=r.disableByOtherButtons)===null||f===void 0||f,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);var w=this._addButton(r.name,new L.Control.PMButton(_));return this.changeControlOrder(),w},changeControlOrder:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this._shapeMapping(),f=[];r.forEach(function(G){a[G]?f.push(a[G]):f.push(G)});var _=this.getButtons(),w={};f.forEach(function(G){_[G]&&(w[G]=_[G])});var R=Object.keys(_).filter(function(G){return!_[G]._button.tool});R.forEach(function(G){f.indexOf(G)===-1&&(w[G]=_[G])});var j=Object.keys(_).filter(function(G){return _[G]._button.tool==="edit"});j.forEach(function(G){f.indexOf(G)===-1&&(w[G]=_[G])});var V=Object.keys(_).filter(function(G){return _[G]._button.tool==="options"});V.forEach(function(G){f.indexOf(G)===-1&&(w[G]=_[G])});var F=Object.keys(_).filter(function(G){return _[G]._button.tool==="custom"});F.forEach(function(G){f.indexOf(G)===-1&&(w[G]=_[G])}),Object.keys(_).forEach(function(G){f.indexOf(G)===-1&&(w[G]=_[G])}),this.map.pm.Toolbar.buttons=w,this._showHideButtons()},getControlOrder:function(){var r=this.getButtons(),a=[];for(var f in r)a.push(f);return a},changeActionsOfControl:function(r,a){var f=this._btnNameMapping(r);if(!f)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[f])throw new TypeError("Button with this name not exists");this.buttons[f]._button.actions=a,this.changeControlOrder()},setButtonDisabled:function(r,a){var f=this._btnNameMapping(r);a?this.buttons[f].disable():this.buttons[f].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(r){var a=this._shapeMapping();return a[r]?a[r]:r}});function Et(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function B(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?Et(Object(f),!0).forEach(function(_){b(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):Et(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function b(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}var x={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(r){var a=this;r.forEach(function(f){Array.isArray(f)?a._assignEvents(f):(f.off("drag",a._handleSnapping,a),f.on("drag",a._handleSnapping,a),f.off("dragend",a._cleanupSnapping,a),f.on("dragend",a._cleanupSnapping,a))})},_cleanupSnapping:function(r){r&&(r.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(a){a.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(r){var a=this,f=r.target;if(f._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var _=this._calcClosestLayer(f.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;var w,R=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment;w=R?_.latlng:this._checkPrioritiySnapping(_);var j=this.options.snapDistance,V={marker:f,shape:this._shape,snapLatLng:w,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(V.marker,V),this._fireSnapDrag(this._layer,V),_.distance<j){f._orgLatLng=f.getLatLng(),f.setLatLng(w),f._snapped=!0,f._snapInfo=V;var F=this._snapLatLng||{},G=w||{};F.lat===G.lat&&F.lng===G.lng||(a._snapLatLng=w,a._fireSnap(f,V),a._fireSnap(a._layer,V))}else this._snapLatLng&&(this._unsnap(V),f._snapped=!1,f._snapInfo=void 0,this._fireUnsnap(V.marker,V),this._fireUnsnap(this._layer,V));return!0},_createSnapList:function(){var r=this,a=[],f=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(w){if((w instanceof L.Polyline||w instanceof L.Marker||w instanceof L.CircleMarker||w instanceof L.ImageOverlay)&&w.options.snapIgnore!==!0){if(w.options.snapIgnore===void 0&&(!L.PM.optIn&&w.options.pmIgnore===!0||L.PM.optIn&&w.options.pmIgnore!==!1))return;(w instanceof L.Circle||w instanceof L.CircleMarker)&&w.pm&&w.pm._hiddenPolyCircle?a.push(w.pm._hiddenPolyCircle):w instanceof L.ImageOverlay&&(w=L.rectangle(w.getBounds())),a.push(w);var R=L.polyline([],{color:"red",pmIgnore:!0});R._pmTempLayer=!0,f.push(R),(w instanceof L.Circle||w instanceof L.CircleMarker)&&f.push(R)}}),a=(a=(a=a.filter(function(w){return r._layer!==w})).filter(function(w){return w._latlng||w._latlngs&&Ft(w._latlngs)})).filter(function(w){return!w._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var w=L.polyline([],{color:"red",pmIgnore:!0});w._pmTempLayer=!0,f.push(w)}),this._snapList=a.concat(this._otherSnapLayers)):this._snapList=a,this.debugIndicatorLines=f},_handleSnapLayerRemoval:function(r){var a=r.layer,f=this._snapList.findIndex(function(_){return _._leaflet_id===a._leaflet_id});this._snapList.splice(f,1)},_calcClosestLayer:function(r,a){return this._calcClosestLayers(r,a,1)[0]},_calcClosestLayers:function(r,a){var f=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=[],R={};a.forEach(function(V,F){if(!V._parentCopy||V._parentCopy!==f._layer){var G=f._calcLayerDistances(r,V);if(G.distance=Math.floor(G.distance),f.debugIndicatorLines){if(!f.debugIndicatorLines[F]){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,f.debugIndicatorLines[F]=X}f.debugIndicatorLines[F].setLatLngs([r,G.latlng])}_===1&&(R.distance===void 0||G.distance<=R.distance)?(G.distance<R.distance&&(w=[]),(R=G).layer=V,w.push(R)):_!==1&&(R={},(R=G).layer=V,w.push(R))}}),_!==1&&(w=w.sort(function(V,F){return V.distance-F.distance})),_===-1&&(_=w.length);var j=this._getClosestLayerByPriority(w,_);return L.Util.isArray(j)?j:[j]},_calcLayerDistances:function(r,a){var f=this._map,_=a instanceof L.Marker||a instanceof L.CircleMarker,w=a instanceof L.Polygon,R=r;if(_){var j=a.getLatLng();return{latlng:B({},j),distance:this._getDistance(f,j,R)}}return this._calcLatLngDistances(R,a.getLatLngs(),f,w)},_calcLatLngDistances:function(r,a,f){var _,w,R,j=this,V=arguments.length>3&&arguments[3]!==void 0&&arguments[3],F=function X(ut){ut.forEach(function(at,xt){if(Array.isArray(at))X(at);else if(j.options.snapSegment){var Tt,Gt=at;Tt=V?xt+1===ut.length?0:xt+1:xt+1===ut.length?void 0:xt+1;var ee=ut[Tt];if(ee){var ve=j._getDistanceToSegment(f,r,Gt,ee);(w===void 0||ve<w)&&(w=ve,R=[Gt,ee])}}else{var Ut=j._getDistance(f,r,at);(w===void 0||Ut<w)&&(w=Ut,_=at)}})};if(F(a),this.options.snapSegment){var G=this._getClosestPointOnSegment(f,r,R[0],R[1]);return{latlng:B({},G),segment:R,distance:w}}return{latlng:_,distance:w}},_getClosestLayerByPriority:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;r=r.sort(function(j,V){return j._leaflet_id-V._leaflet_id});var f=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],_=this._map.pm.globalOptions.snappingOrder||[],w=0,R={};return _.concat(f).forEach(function(j){R[j]||(w+=1,R[j]=w)}),r.sort(lt("instanceofShape",R)),a===1?r[0]||{}:r.slice(0,a)},_checkPrioritiySnapping:function(r){var a=this._map,f=r.segment[0],_=r.segment[1],w=r.latlng,R=this._getDistance(a,f,w),j=this._getDistance(a,_,w),V=R<j?f:_,F=R<j?R:j;if(this.options.snapMiddle){var G=L.PM.Utils.calcMiddleLatLng(a,f,_),X=this._getDistance(a,G,w);X<R&&X<j&&(V=G,F=X)}return B({},F<this.options.snapDistance?V:w)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(r,a,f,_){var w=r.getMaxZoom();w===1/0&&(w=r.getZoom());var R=r.project(a,w),j=r.project(f,w),V=r.project(_,w),F=L.LineUtil.closestPointOnSegment(R,j,V);return r.unproject(F,w)},_getDistanceToSegment:function(r,a,f,_){var w=r.latLngToLayerPoint(a),R=r.latLngToLayerPoint(f),j=r.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(w,R,j)},_getDistance:function(r,a,f){return r.latLngToLayerPoint(a).distanceTo(r.latLngToLayerPoint(f))}};const A=x,D=L.Class.extend({includes:[A,Pt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(r){var a=this,f=new L.Icon.Default;f.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=f,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){a[_]=new L.PM.Draw[_](a._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=a?d()(this.options.pathOptions,r):r},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(r,a){if(!r)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[r].enable(a)},disable:function(){var r=this;this.shapes.forEach(function(a){r[a].disable()})},addControls:function(){var r=this;this.shapes.forEach(function(a){r[a].addButton()})},getActiveShape:function(){var r,a=this;return this.shapes.forEach(function(f){a[f]._enabled&&(r=f)}),r},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var r=L.PM.Utils.findLayers(this._map);this._enabled?r.forEach(function(a){L.PM.Utils.disablePopup(a)}):r.forEach(function(a){L.PM.Utils.enablePopup(a)})},createNewDrawInstance:function(r,a){var f=this._getShapeFromBtnName(a);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[f])throw new TypeError("There is no class L.PM.Draw.".concat(f));return this[r]=new L.PM.Draw[f](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[a]&&this[r].setOptions(this[a].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName:function(r){var a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[r]?a[r]:this[r]?this[r]._shape:r},_finishLayer:function(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp:function(r){r._drawnByGeoman=!0},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});D.Marker=D.extend({initialize:function(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(r){var a=this;L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(f){a.isRelevantMarker(f)&&f.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker:function(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(r){if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),f=new L.Marker(a,this.options.markerStyle);this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable?f.pm.enable():f.dragging&&f.dragging.disable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var r,a;(r=this.options.markerStyle)!==null&&r!==void 0&&r.icon&&((a=this._hintMarker)===null||a===void 0||a.setIcon(this.options.markerStyle.icon))}});var N=63710088e-1,Q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*N,kilometers:6371.0088,kilometres:6371.0088,meters:N,metres:N,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:N/1852,radians:1,yards:6967335223679999e-9};function rt(r,a,f){f===void 0&&(f={});var _={type:"Feature"};return(f.id===0||f.id)&&(_.id=f.id),f.bbox&&(_.bbox=f.bbox),_.properties=a||{},_.geometry=r,_}function mt(r,a,f){if(f===void 0&&(f={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!me(r[0])||!me(r[1]))throw new Error("coordinates must contain numbers");return rt({type:"Point",coordinates:r},a,f)}function St(r,a,f){if(f===void 0&&(f={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return rt({type:"LineString",coordinates:r},a,f)}function Dt(r,a){a===void 0&&(a={});var f={type:"FeatureCollection"};return a.id&&(f.id=a.id),a.bbox&&(f.bbox=a.bbox),f.features=r,f}function Zt(r,a){a===void 0&&(a="kilometers");var f=Q[a];if(!f)throw new Error(a+" units is invalid");return r*f}function Wt(r,a){a===void 0&&(a="kilometers");var f=Q[a];if(!f)throw new Error(a+" units is invalid");return r/f}function _e(r){return 180*(r%(2*Math.PI))/Math.PI}function Kt(r){return r%360*Math.PI/180}function me(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function se(r){var a,f,_={type:"FeatureCollection",features:[]};if((f=r.type==="Feature"?r.geometry:r).type==="LineString")a=[f.coordinates];else if(f.type==="MultiLineString")a=f.coordinates;else if(f.type==="MultiPolygon")a=[].concat.apply([],f.coordinates);else{if(f.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");a=f.coordinates}return a.forEach(function(w){a.forEach(function(R){for(var j=0;j<w.length-1;j++)for(var V=j;V<R.length-1;V++)if(!(w===R&&(Math.abs(j-V)===1||j===0&&V===w.length-2&&w[j][0]===w[w.length-1][0]&&w[j][1]===w[w.length-1][1]))){var F=ye(w[j][0],w[j][1],w[j+1][0],w[j+1][1],R[V][0],R[V][1],R[V+1][0],R[V+1][1]);F&&_.features.push(mt([F[0],F[1]]))}})}),_}function ye(r,a,f,_,w,R,j,V){var F,G,X,ut,at={x:null,y:null,onLine1:!1,onLine2:!1};return(F=(V-R)*(f-r)-(j-w)*(_-a))===0?at.x!==null&&at.y!==null&&at:(ut=(f-r)*(G=a-R)-(_-a)*(X=r-w),G=((j-w)*G-(V-R)*X)/F,X=ut/F,at.x=r+G*(f-r),at.y=a+G*(_-a),G>=0&&G<=1&&(at.onLine1=!0),X>=0&&X<=1&&(at.onLine2=!0),!(!at.onLine1||!at.onLine2)&&[at.x,at.y])}function Ee(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function $e(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?Ee(Object(f),!0).forEach(function(_){Ze(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):Ee(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function Ze(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}function hn(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function on(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?hn(Object(f),!0).forEach(function(_){Ke(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):hn(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function Ke(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}function sn(r,a){var f=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(w){return Object.getOwnPropertyDescriptor(r,w).enumerable})),f.push.apply(f,_)}return f}function xn(r){for(var a=1;a<arguments.length;a++){var f=arguments[a]!=null?arguments[a]:{};a%2?sn(Object(f),!0).forEach(function(_){Vn(r,_,f[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(f)):sn(Object(f)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(f,_))})}return r}function Vn(r,a,f){return a in r?Object.defineProperty(r,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):r[a]=f,r}function qe(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ne(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function An(r){return r.type==="Feature"?r.geometry:r}function Gr(r,a){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Mi(r,a,f){if(r!==null)for(var _,w,R,j,V,F,G,X,ut=0,at=0,xt=r.type,Tt=xt==="FeatureCollection",Gt=xt==="Feature",ee=Tt?r.features.length:1,ve=0;ve<ee;ve++){V=(X=!!(G=Tt?r.features[ve].geometry:Gt?r.geometry:r)&&G.type==="GeometryCollection")?G.geometries.length:1;for(var Ut=0;Ut<V;Ut++){var be=0,Le=0;if((j=X?G.geometries[Ut]:G)!==null){F=j.coordinates;var Ue=j.type;switch(ut=!f||Ue!=="Polygon"&&Ue!=="MultiPolygon"?0:1,Ue){case null:break;case"Point":if(a(F,at,ve,be,Le)===!1)return!1;at++,be++;break;case"LineString":case"MultiPoint":for(_=0;_<F.length;_++){if(a(F[_],at,ve,be,Le)===!1)return!1;at++,Ue==="MultiPoint"&&be++}Ue==="LineString"&&be++;break;case"Polygon":case"MultiLineString":for(_=0;_<F.length;_++){for(w=0;w<F[_].length-ut;w++){if(a(F[_][w],at,ve,be,Le)===!1)return!1;at++}Ue==="MultiLineString"&&be++,Ue==="Polygon"&&Le++}Ue==="Polygon"&&be++;break;case"MultiPolygon":for(_=0;_<F.length;_++){for(Le=0,w=0;w<F[_].length;w++){for(R=0;R<F[_][w].length-ut;R++){if(a(F[_][w][R],at,ve,be,Le)===!1)return!1;at++}Le++}be++}break;case"GeometryCollection":for(_=0;_<j.geometries.length;_++)if(Mi(j.geometries[_],a,f)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kr(r,a){if(r.type==="Feature")a(r,0);else if(r.type==="FeatureCollection")for(var f=0;f<r.features.length&&a(r.features[f],f)!==!1;f++);}function Os(r,a){var f,_,w,R,j,V,F,G,X,ut,at=0,xt=r.type==="FeatureCollection",Tt=r.type==="Feature",Gt=xt?r.features.length:1;for(f=0;f<Gt;f++){for(V=xt?r.features[f].geometry:Tt?r.geometry:r,G=xt?r.features[f].properties:Tt?r.properties:{},X=xt?r.features[f].bbox:Tt?r.bbox:void 0,ut=xt?r.features[f].id:Tt?r.id:void 0,j=(F=!!V&&V.type==="GeometryCollection")?V.geometries.length:1,w=0;w<j;w++)if((R=F?V.geometries[w]:V)!==null)switch(R.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(R,at,G,X,ut)===!1)return!1;break;case"GeometryCollection":for(_=0;_<R.geometries.length;_++)if(a(R.geometries[_],at,G,X,ut)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,at,G,X,ut)===!1)return!1;at++}}function Ci(r,a){Os(r,function(f,_,w,R,j){var V,F=f===null?null:f.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return a(rt(f,w,{bbox:R,id:j}),_,0)!==!1&&void 0}switch(F){case"MultiPoint":V="Point";break;case"MultiLineString":V="LineString";break;case"MultiPolygon":V="Polygon"}for(var G=0;G<f.coordinates.length;G++){var X=f.coordinates[G];if(a(rt({type:V,coordinates:X},w),_,G)===!1)return!1}})}D.Line=D.extend({initialize:function(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],$e($e({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._layer.getLatLngs();if(r.length>0){var a=r[r.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var f=this._layer._defaultShape().slice();f.push(this._hintMarker.getLatLng()),this._change(f)},hasSelfIntersection:function(){return se(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(r,a){var f=L.polyline(this._layer.getLatLngs());r&&(a||(a=this._hintMarker.getLatLng()),f.addLatLng(a));var _=se(f.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(r){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,r.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),f=this._layer.getLatLngs(),_=f[f.length-1];if(a.equals(f[0])||f.length>0&&a.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);var w=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(w,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)}}},_setHintLineAfterNewVertex:function(r){this._hintline.setLatLngs([r,r])},_removeLastVertex:function(){var r=this._markers;if(r.length<=1)this.disable();else{var a=this._layer.getLatLngs(),f=r[r.length-1],_=L.PM.Utils.findDeepMarkerIndex(r,f).indexPath;r.pop(),this._layerGroup.removeLayer(f);var w=r[r.length-1],R=a.indexOf(w.getLatLng());a=a.slice(0,R+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(f,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=1)){var a=L.polyline(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText:function(){var r="";r=At(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change:function(r){this._fireChange(r,"Draw")},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.Polygon=D.Line.extend({initialize:function(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",function(){return 1}),a},_setTooltipText:function(){var r="";r=At(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var a=L.polygon(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),D.Rectangle=D.extend({initialize:function(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var a=0;a<2;a+=1){var f=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(f,"vertexPane"),f._pmTempLayer=!0,this._layerGroup.addLayer(f),this._styleMarkers.push(f)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(f){L.DomUtil.addClass(f._icon,"visible"),f.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(At("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}var f=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(f,"Draw")},_syncRectangleSize:function(){var r=this,a=Ct(this._startMarker.getLatLng(),this._map),f=Ct(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(a,f,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var w=[];_.forEach(function(R){R.equals(a,1e-8)||R.equals(f,1e-8)||w.push(R)}),w.forEach(function(R,j){try{r._styleMarkers[j].setLatLng(R)}catch{}})}},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_finishShape:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),f=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([f,a],this.options.pathOptions);if(this.options.rectangleAngle){var w=L.PM.Utils._getRotatedRectangle(f,a,this.options.rectangleAngle||0,this._map);_.setLatLngs(w),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var r;(r=this._layer)===null||r===void 0||r.setStyle(this.options.pathOptions)}}),D.Circle=D.extend({initialize:function(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(r){L.Util.setOptions(this,r),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),on(on({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r,a=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng();r=this._map.options.crs===L.CRS.Simple?this._map.distance(a,f):a.distanceTo(f),this.options.minRadiusCircle&&r<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&r>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(At("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a,f=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(f,_):f.distanceTo(_),this.options.minRadiusCircle&&a<this.options.minRadiusCircle?a=this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(a=this.options.maxRadiusCircle);var w=on(on({},this.options.pathOptions),{},{radius:a}),R=L.circle(f,w);this._setPane(R,"layerPane"),this._finishLayer(R),R.addTo(this._map.pm._getContainingLayer()),R.pm&&R.pm._updateHiddenPolyCircle(),this._fireCreate(R),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),f=a.distanceTo(r);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?r=zt(this._map,a,r,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(r=zt(this._map,a,r,this.options.maxRadiusCircle)),r},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),f=r.distanceTo(a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.CircleMarker=D.Marker.extend({initialize:function(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(r){var a=this;if(L.Util.setOptions(this,r),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var f={};L.extend(f,this.options.templineStyle),f.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),f),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){a.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(At("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),f=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(f)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var f=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(f,"Draw")},isRelevantMarker:function(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker:function(r){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&r.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),f=L.circleMarker(a,this.options.pathOptions);this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable&&f.pm.enable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._centerMarker.getLatLng(),f=this._hintMarker.getLatLng(),_=this._map.project(a).distanceTo(this._map.project(f));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var w=xn(xn({},this.options.pathOptions),{},{radius:_}),R=L.circleMarker(a,w);this._setPane(R,"layerPane"),this._finishLayer(R),R.addTo(this._map.pm._getContainingLayer()),R.pm&&R.pm._updateHiddenPolyCircle(),this._fireCreate(R),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),f=this._map.project(a).distanceTo(this._map.project(r));this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?r=zt(this._map,a,r,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(r=zt(this._map,a,r,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return r},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),f=this._map.project(r).distanceTo(this._map.project(a));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(r){var a=this._centerMarker.getLatLng(),f=this._map.project(a),_=L.point(f.x+r,f.y);return this._map.unproject(_).distanceTo(a)},setStyle:function(){var r,a,f={};L.extend(f,this.options.templineStyle),this.options.editable&&(f.radius=0),(r=this._layer)===null||r===void 0||r.setStyle(f),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}});const Qe=function(r){if(!r)throw new Error("geojson is required");var a=[];return Ci(r,function(f){(function(_,w){var R=[],j=_.geometry;if(j!==null){switch(j.type){case"Polygon":R=Ne(j);break;case"LineString":R=[Ne(j)]}R.forEach(function(V){var F=function(G,X){var ut=[];return G.reduce(function(at,xt){var Tt,Gt,ee,ve,Ut,be,Le=St([at,xt],X);return Le.bbox=(Gt=xt,ee=(Tt=at)[0],ve=Tt[1],Ut=Gt[0],be=Gt[1],[ee<Ut?ee:Ut,ve<be?ve:be,ee>Ut?ee:Ut,ve>be?ve:be]),ut.push(Le),xt}),ut}(V,_.properties);F.forEach(function(G){G.id=w.length,w.push(G)})})}})(f,a)}),Dt(a)};var jt=c(1787);function Pi(r,a){var f=Ne(r),_=Ne(a);if(f.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(_.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var w=f[0][0],R=f[0][1],j=f[1][0],V=f[1][1],F=_[0][0],G=_[0][1],X=_[1][0],ut=_[1][1],at=(ut-G)*(j-w)-(X-F)*(V-R),xt=(X-F)*(R-G)-(ut-G)*(w-F),Tt=(j-w)*(R-G)-(V-R)*(w-F);if(at===0)return null;var Gt=xt/at,ee=Tt/at;return Gt>=0&&Gt<=1&&ee>=0&&ee<=1?mt([w+Gt*(j-w),R+Gt*(V-R)]):null}const Rn=function(r,a){var f={},_=[];if(r.type==="LineString"&&(r=rt(r)),a.type==="LineString"&&(a=rt(a)),r.type==="Feature"&&a.type==="Feature"&&r.geometry!==null&&a.geometry!==null&&r.geometry.type==="LineString"&&a.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var w=Pi(r,a);return w&&_.push(w),Dt(_)}var R=jt();return R.load(Qe(a)),kr(Qe(r),function(j){kr(R.search(j),function(V){var F=Pi(j,V);if(F){var G=Ne(F).join(",");f[G]||(f[G]=!0,_.push(F))}})}),Dt(_)},Bn=function(r,a,f){f===void 0&&(f={});var _=qe(r),w=qe(a),R=Kt(w[1]-_[1]),j=Kt(w[0]-_[0]),V=Kt(_[1]),F=Kt(w[1]),G=Math.pow(Math.sin(R/2),2)+Math.pow(Math.sin(j/2),2)*Math.cos(V)*Math.cos(F);return Zt(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)),f.units)},go=function(r){var a=r[0],f=r[1],_=r[2],w=r[3];if(Bn(r.slice(0,2),[_,f])>=Bn(r.slice(0,2),[a,w])){var R=(f+w)/2;return[a,R-(_-a)/2,_,R+(_-a)/2]}var j=(a+_)/2;return[j-(w-f)/2,f,j+(w-f)/2,w]};function Lr(r){var a=[1/0,1/0,-1/0,-1/0];return Mi(r,function(f){a[0]>f[0]&&(a[0]=f[0]),a[1]>f[1]&&(a[1]=f[1]),a[2]<f[0]&&(a[2]=f[0]),a[3]<f[1]&&(a[3]=f[1])}),a}Lr.default=Lr;const rr=Lr,ir=function(r,a){a===void 0&&(a={});var f=a.precision,_=a.coordinates,w=a.mutate;if(f=f==null||isNaN(f)?6:f,_=_==null||isNaN(_)?3:_,!r)throw new Error("<geojson> is required");if(typeof f!="number")throw new Error("<precision> must be a number");if(typeof _!="number")throw new Error("<coordinates> must be a number");w!==!1&&w!==void 0||(r=JSON.parse(JSON.stringify(r)));var R=Math.pow(10,f);return Mi(r,function(j){(function(V,F,G){V.length>G&&V.splice(G,V.length);for(var X=0;X<V.length;X++)V[X]=Math.round(V[X]*F)/F})(j,R,_)}),r};function Si(r,a,f){if(f===void 0&&(f={}),f.final===!0)return function(ut,at){var xt=Si(at,ut);return xt=(xt+180)%360}(r,a);var _=qe(r),w=qe(a),R=Kt(_[0]),j=Kt(w[0]),V=Kt(_[1]),F=Kt(w[1]),G=Math.sin(j-R)*Math.cos(F),X=Math.cos(V)*Math.sin(F)-Math.sin(V)*Math.cos(F)*Math.cos(j-R);return _e(Math.atan2(G,X))}function _o(r,a,f,_){_===void 0&&(_={});var w=qe(r),R=Kt(w[0]),j=Kt(w[1]),V=Kt(f),F=Wt(a,_.units),G=Math.asin(Math.sin(j)*Math.cos(F)+Math.cos(j)*Math.sin(F)*Math.cos(V));return mt([_e(R+Math.atan2(Math.sin(V)*Math.sin(F)*Math.cos(j),Math.cos(F)-Math.sin(j)*Math.sin(G))),_e(G)],_.properties)}const As=function(r,a,f){f===void 0&&(f={});var _=mt([1/0,1/0],{dist:1/0}),w=0;return Ci(r,function(R){for(var j=Ne(R),V=0;V<j.length-1;V++){var F=mt(j[V]);F.properties.dist=Bn(a,F,f);var G=mt(j[V+1]);G.properties.dist=Bn(a,G,f);var X=Bn(F,G,f),ut=Math.max(F.properties.dist,G.properties.dist),at=Si(F,G),xt=_o(a,ut,at+90,f),Tt=_o(a,ut,at-90,f),Gt=Rn(St([xt.geometry.coordinates,Tt.geometry.coordinates]),St([F.geometry.coordinates,G.geometry.coordinates])),ee=null;Gt.features.length>0&&((ee=Gt.features[0]).properties.dist=Bn(a,ee,f),ee.properties.location=w+Bn(F,ee,f)),F.properties.dist<_.properties.dist&&((_=F).properties.index=V,_.properties.location=w),G.properties.dist<_.properties.dist&&((_=G).properties.index=V+1,_.properties.location=w+X),ee&&ee.properties.dist<_.properties.dist&&((_=ee).properties.index=V),w+=X}}),_};function yo(r,a){var f=[],_=jt();return Ci(a,function(w){if(f.forEach(function(V,F){V.id=F}),f.length){var R=_.search(w);if(R.features.length){var j=Ti(w,R);f=f.filter(function(V){return V.id!==j.id}),_.remove(j),kr(Ei(j,w),function(V){f.push(V),_.insert(V)})}}else(f=Ei(r,w).features).forEach(function(V){V.bbox||(V.bbox=go(rr(V)))}),_.load(Dt(f))}),Dt(f)}function Ei(r,a){var f=[],_=Ne(r)[0],w=Ne(r)[r.geometry.coordinates.length-1];if(Oi(_,qe(a))||Oi(w,qe(a)))return Dt([r]);var R=jt(),j=Qe(r);R.load(j);var V=R.search(a);if(!V.features.length)return Dt([r]);var F=Ti(a,V),G=function(X,ut,at){var xt=at;return kr(X,function(Tt,Gt){xt=Gt===0&&at===void 0?Tt:ut(xt,Tt,Gt)}),xt}(j,function(X,ut,at){var xt=Ne(ut)[1],Tt=qe(a);return at===F.id?(X.push(Tt),f.push(St(X)),Oi(Tt,xt)?[Tt]:[Tt,xt]):(X.push(xt),X)},[_]);return G.length>1&&f.push(St(G)),Dt(f)}function Ti(r,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var f,_=1/0;return kr(a,function(w){var R=As(w,r).properties.dist;R<_&&(f=w,_=R)}),f}function Oi(r,a){return r[0]===a[0]&&r[1]===a[1]}const $r=function(r,a){if(!r)throw new Error("line is required");if(!a)throw new Error("splitter is required");var f=Gr(r),_=Gr(a);if(f!=="LineString")throw new Error("line must be LineString");if(_==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(_==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var w=ir(a,{precision:7});switch(_){case"Point":return Ei(r,w);case"MultiPoint":return yo(r,w);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return yo(r,Rn(r,w))}};function Zr(r,a,f){if(f===void 0&&(f={}),!r)throw new Error("point is required");if(!a)throw new Error("polygon is required");var _=qe(r),w=An(a),R=w.type,j=a.bbox,V=w.coordinates;if(j&&function(at,xt){return xt[0]<=at[0]&&xt[1]<=at[1]&&xt[2]>=at[0]&&xt[3]>=at[1]}(_,j)===!1)return!1;R==="Polygon"&&(V=[V]);for(var F=!1,G=0;G<V.length&&!F;G++)if(vo(_,V[G][0],f.ignoreBoundary)){for(var X=!1,ut=1;ut<V[G].length&&!X;)vo(_,V[G][ut],!f.ignoreBoundary)&&(X=!0),ut++;X||(F=!0)}return F}function vo(r,a,f){var _=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var w=0,R=a.length-1;w<a.length;R=w++){var j=a[w][0],V=a[w][1],F=a[R][0],G=a[R][1];if(r[1]*(j-F)+V*(F-r[0])+G*(r[0]-j)==0&&(j-r[0])*(F-r[0])<=0&&(V-r[1])*(G-r[1])<=0)return!f;V>r[1]!=G>r[1]&&r[0]<(F-j)*(r[1]-V)/(G-V)+j&&(_=!_)}return _}function Rs(r,a,f,_,w){var R=f[0],j=f[1],V=r[0],F=r[1],G=a[0],X=a[1],ut=G-V,at=X-F,xt=(f[0]-V)*at-(f[1]-F)*ut;if(w!==null){if(Math.abs(xt)>w)return!1}else if(xt!==0)return!1;return _?_==="start"?Math.abs(ut)>=Math.abs(at)?ut>0?V<R&&R<=G:G<=R&&R<V:at>0?F<j&&j<=X:X<=j&&j<F:_==="end"?Math.abs(ut)>=Math.abs(at)?ut>0?V<=R&&R<G:G<R&&R<=V:at>0?F<=j&&j<X:X<j&&j<=F:_==="both"&&(Math.abs(ut)>=Math.abs(at)?ut>0?V<R&&R<G:G<R&&R<V:at>0?F<j&&j<X:X<j&&j<F):Math.abs(ut)>=Math.abs(at)?ut>0?V<=R&&R<=G:G<=R&&R<=V:at>0?F<=j&&j<=X:X<=j&&j<=F}const Mr=function(r,a,f){f===void 0&&(f={});for(var _=qe(r),w=Ne(a),R=0;R<w.length-1;R++){var j=!1;if(f.ignoreEndVertices&&(R===0&&(j="start"),R===w.length-2&&(j="end"),R===0&&R+1===w.length-1&&(j="both")),Rs(w[R],w[R+1],_,j,typeof f.epsilon>"u"?null:f.epsilon))return!0}return!1};function Bs(r,a){var f=An(r),_=An(a),w=f.type,R=_.type,j=f.coordinates,V=_.coordinates;switch(w){case"Point":if(R==="Point")return Gn(j,V);throw new Error("feature2 "+R+" geometry not supported");case"MultiPoint":switch(R){case"Point":return function(F,G){var X,ut=!1;for(X=0;X<F.coordinates.length;X++)if(Gn(F.coordinates[X],G.coordinates)){ut=!0;break}return ut}(f,_);case"MultiPoint":return function(F,G){for(var X=0,ut=G.coordinates;X<ut.length;X++){for(var at=ut[X],xt=!1,Tt=0,Gt=F.coordinates;Tt<Gt.length;Tt++)if(Gn(at,Gt[Tt])){xt=!0;break}if(!xt)return!1}return!0}(f,_);default:throw new Error("feature2 "+R+" geometry not supported")}case"LineString":switch(R){case"Point":return Mr(_,f,{ignoreEndVertices:!0});case"LineString":return function(F,G){for(var X=!1,ut=0,at=G.coordinates;ut<at.length;ut++){var xt=at[ut];if(Mr({type:"Point",coordinates:xt},F,{ignoreEndVertices:!0})&&(X=!0),!Mr({type:"Point",coordinates:xt},F,{ignoreEndVertices:!1}))return!1}return X}(f,_);case"MultiPoint":return function(F,G){for(var X=!1,ut=0,at=G.coordinates;ut<at.length;ut++){var xt=at[ut];if(Mr(xt,F,{ignoreEndVertices:!0})&&(X=!0),!Mr(xt,F))return!1}return!!X}(f,_);default:throw new Error("feature2 "+R+" geometry not supported")}case"Polygon":switch(R){case"Point":return Zr(_,f,{ignoreBoundary:!0});case"LineString":return function(F,G){var X=!1,ut=0,at=rr(F),xt=rr(G);if(!qr(at,xt))return!1;for(;ut<G.coordinates.length-1;ut++)if(Zr({type:"Point",coordinates:bo(G.coordinates[ut],G.coordinates[ut+1])},F,{ignoreBoundary:!0})){X=!0;break}return X}(f,_);case"Polygon":return function(F,G){if(F.type==="Feature"&&F.geometry===null||G.type==="Feature"&&G.geometry===null)return!1;var X=rr(F),ut=rr(G);if(!qr(X,ut))return!1;for(var at=An(G).coordinates,xt=0,Tt=at;xt<Tt.length;xt++)for(var Gt=0,ee=Tt[xt];Gt<ee.length;Gt++)if(!Zr(ee[Gt],F))return!1;return!0}(f,_);case"MultiPoint":return function(F,G){for(var X=0,ut=G.coordinates;X<ut.length;X++)if(!Zr(ut[X],F,{ignoreBoundary:!0}))return!1;return!0}(f,_);default:throw new Error("feature2 "+R+" geometry not supported")}default:throw new Error("feature1 "+w+" geometry not supported")}}function qr(r,a){return!(r[0]>a[0])&&!(r[2]<a[2])&&!(r[1]>a[1])&&!(r[3]<a[3])}function Gn(r,a){return r[0]===a[0]&&r[1]===a[1]}function bo(r,a){return[(r[0]+a[0])/2,(r[1]+a[1])/2]}var wo=c(2676),or=c.n(wo);function ae(r){var a={type:"Feature"};return a.geometry=r,a}function ke(r){return r.type==="Feature"?r.geometry:r}function Cr(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function $n(r){return ae({type:"Polygon",coordinates:r})}function Zn(r){return ae({type:"MultiPolygon",coordinates:r})}function Kr(r){return Array.isArray(r)?1+Kr(r[0]):-1}function te(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));var a=Cr(r),f=Kr(a),_=[];return f>1?a.forEach(function(w){_.push(function(R){return ae({type:"LineString",coordinates:R})}(w))}):_.push(r),_}function Oe(r){var a=[];return r.eachLayer(function(f){a.push(Cr(f.toGeoJSON(15)))}),function(f){return ae({type:"MultiLineString",coordinates:f})}(a)}function Ai(r,a){return function(f){if(Array.isArray(f))return f}(r)||function(f,_){var w=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(w!=null){var R,j,V=[],F=!0,G=!1;try{for(w=w.call(f);!(F=(R=w.next()).done)&&(V.push(R.value),!_||V.length!==_);F=!0);}catch(X){G=!0,j=X}finally{try{F||w.return==null||w.return()}finally{if(G)throw j}}return V}}(r,a)||function(f,_){if(f){if(typeof f=="string")return Pr(f,_);var w=Object.prototype.toString.call(f).slice(8,-1);if(w==="Object"&&f.constructor&&(w=f.constructor.name),w==="Map"||w==="Set")return Array.from(f);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Pr(f,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pr(r,a){(a==null||a>r.length)&&(a=r.length);for(var f=0,_=new Array(a);f<a;f++)_[f]=r[f];return _}function tn(r){return function(a){if(Array.isArray(a))return Ri(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,f){if(a){if(typeof a=="string")return Ri(a,f);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Ri(a,f)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ri(r,a){(a==null||a>r.length)&&(a=r.length);for(var f=0,_=new Array(a);f<a;f++)_[f]=r[f];return _}D.Cut=D.Polygon.extend({initialize:function(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var r=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var f=L.polygon(a,this.options.pathOptions);f._latlngInfos=this._layer._latlngInfo,this.cut(f),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var w=_.layer,R=_.originalLayer;r._fireCut(R,w,R),r._fireCut(r._map,w,R),R.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(r){var a=this,f=this._map._layers,_=r._latlngInfos||[];Object.keys(f).map(function(w){return f[w]}).filter(function(w){return w.pm}).filter(function(w){return!w._pmTempLayer}).filter(function(w){return!L.PM.optIn&&!w.options.pmIgnore||L.PM.optIn&&w.options.pmIgnore===!1}).filter(function(w){return w instanceof L.Polyline}).filter(function(w){return w!==r}).filter(function(w){return w.pm.options.allowCutting}).filter(function(w){return!(a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0)||a.options.layersToCut.indexOf(w)>-1}).filter(function(w){return!a._layerGroup.hasLayer(w)}).filter(function(w){try{var R=!!Rn(r.toGeoJSON(15),w.toGeoJSON(15)).features.length>0;return R||w instanceof L.Polyline&&!(w instanceof L.Polygon)?R:(j=r.toGeoJSON(15),V=w.toGeoJSON(15),F=ke(j),G=ke(V),!((X=or().intersection(F.coordinates,G.coordinates)).length===0||!(X.length===1?$n(X[0]):Zn(X))))}catch{return w instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var j,V,F,G,X}).forEach(function(w){var R;if(w instanceof L.Polygon){var j=(R=L.polygon(w.getLatLngs())).getLatLngs();_.forEach(function(at){if(at&&at.snapInfo){var xt=at.latlng,Tt=a._calcClosestLayer(xt,[R]);if(Tt&&Tt.segment&&Tt.distance<a.options.snapDistance){var Gt=Tt.segment;if(Gt&&Gt.length===2){var ee=L.PM.Utils._getIndexFromSegment(j,Gt),ve=ee.indexPath,Ut=ee.parentPath,be=ee.newIndex;(ve.length>1?_t()(j,Ut):j).splice(be,0,xt)}}}})}else R=w;var V=a._cutLayer(r,R),F=L.geoJSON(V,w.options);if(F.getLayers().length===1){var G=F.getLayers();F=Ai(G,1)[0]}a._setPane(F,"layerPane");var X=F.addTo(a._map.pm._getContainingLayer());if(X.pm.enable(w.pm.options),X.pm.disable(),w._pmTempLayer=!0,r._pmTempLayer=!0,w.remove(),w.removeFrom(a._map.pm._getContainingLayer()),r.remove(),r.removeFrom(a._map.pm._getContainingLayer()),X.getLayers&&X.getLayers().length===0&&a._map.pm.removeLayer({target:X}),X instanceof L.LayerGroup&&X.eachLayer(function(at){a._addDrawnLayerProp(at)}),a._addDrawnLayerProp(X),a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0){var ut=a.options.layersToCut.indexOf(w);ut>-1&&a.options.layersToCut.splice(ut,1)}a._editedLayers.push({layer:X,originalLayer:w})})},_cutLayer:function(r,a){var f,_,w,R,j,V,F=L.geoJSON();if(a instanceof L.Polygon)_=a.toGeoJSON(15),w=r.toGeoJSON(15),R=ke(_),j=ke(w),f=(V=or().difference(R.coordinates,j.coordinates)).length===0?null:V.length===1?$n(V[0]):Zn(V);else{var G=te(a);G.forEach(function(X){var ut=$r(X,r.toGeoJSON(15));(ut&&ut.features.length>0?L.geoJSON(ut):L.geoJSON(X)).getLayers().forEach(function(at){Bs(r.toGeoJSON(15),at.toGeoJSON(15))||at.addTo(F)})}),f=G.length>1?Oe(F):F.toGeoJSON(15)}return f},_change:L.Util.falseFn}),D.Text=D.extend({initialize:function(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(At("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker:function(r){var a;if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var f=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(a=this.options.textOptions)!==null&&a!==void 0&&a.className){var _,w=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,tn(w))}var R=this._createTextIcon(this.textArea),j=new L.Marker(f,{textMarker:!0,_textMarkerOverPM:!0,icon:R});if(this._setPane(j,"markerPane"),this._finishLayer(j),j.pm||(j.options.draggable=!1),j.addTo(this._map.pm._getContainingLayer()),j.pm){var V,F,G,X,ut;j.pm.textArea=this.textArea,L.setOptions(j.pm,{removeIfEmpty:(V=(F=this.options.textOptions)===null||F===void 0?void 0:F.removeIfEmpty)===null||V===void 0||V});var at=(G=(X=this.options.textOptions)===null||X===void 0?void 0:X.focusAfterDraw)===null||G===void 0||G;j.pm._createTextMarker(at),(ut=this.options.textOptions)!==null&&ut!==void 0&&ut.text&&j.pm.setText(this.options.textOptions.text)}this._fireCreate(j),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var r=document.createElement("textarea");return r.autofocus=!0,r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon:function(r){return L.divIcon({className:"pm-text-marker",html:r})}});const Wr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,It(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var r=this._getDOMElem();r&&(It(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,It(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var r=this._getDOMElem();r&&(It(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(r){var a=r.touches?r.touches[0]:r,f={originalEvent:a,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(a),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseDown(f),!1},_simulateMouseMoveEvent:function(r){var a=r.touches?r.touches[0]:r,f={originalEvent:a,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(a),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseMove(f),!1},_simulateMouseUpEvent:function(r){var a={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown:function(r){if(!(r.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(r);var a=r._fromLayerSync,f=this._syncLayers("_dragMixinOnMouseDown",r);this._layer instanceof L.Marker&&(!this.options.snappable||a||f?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||a||f?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(r){this._overwriteEventIfItComesFromMarker(r);var a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(r){var a=this,f=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){a._dragging=!1,f&&L.DomUtil.removeClass(f,"leaflet-pm-dragging"),a._fireDragEnd(),a._fireEdit(),a._layerEdited=!0},10),!0)},_onLayerDrag:function(r){var a=r.latlng,f=a.lat-this._tempDragCoord.lat,_=a.lng-this._tempDragCoord.lng,w=function X(ut){return ut.map(function(at){if(Array.isArray(at))return X(at);var xt={lat:at.lat+f,lng:at.lng+_};return(at.alt||at.alt===0)&&(xt.alt=at.alt),xt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var R=w([this._layer.getLatLng()]);this._layer.setLatLng(R[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var j=this._layer.getLatLng();this._layer._snapped&&(j=this._layer._orgLatLng);var V=w([j]);this._layer.setLatLng(V[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var F=w([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(F),this._fireChange(this._layer.getBounds(),"Edit")}else{var G=w(this._layer.getLatLngs());this._layer.setLatLngs(G),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,r.layer=this._layer,this._fireDrag(r)},addDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem:function(){var r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker:function(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers:function(r,a){var f=this;if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(j){j instanceof L.LayerGroup&&(_=_.concat(j.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var w in this._parentLayerGroup){var R=this._parentLayerGroup[w];R.pm&&(_=R.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(j){return!!j.pm}).filter(function(j){return!!j.pm.options.draggable})).forEach(function(j){j!==f._layer&&j.pm[r]&&(j._snapped=!1,j.pm[r](a))}),_.length>0}return!1},_stopDOMImageDrag:function(r){return r.preventDefault(),!1}};function In(r,a,f){var _=f.getMaxZoom();if(_===1/0&&(_=f.getZoom()),L.Util.isArray(r)){var w=[];return r.forEach(function(R){w.push(In(R,a,f))}),w}return r instanceof L.LatLng?function(R,j,V,F){return V.unproject(j.transform(V.project(R,F)),F)}(r,a,f,_):null}function Me(r,a){a instanceof L.Layer&&(a=a.getLatLng());var f=r.getMaxZoom();return f===1/0&&(f=r.getZoom()),r.project(a,f)}function fn(r,a){var f=r.getMaxZoom();return f===1/0&&(f=r.getZoom()),r.unproject(a,f)}var Sr={_onRotateStart:function(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Me(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Me(this._map,r.target.getLatLng()),this._initialRotateLatLng=Mt(this._layer),this._startAngle=this.getAngle();var a=Mt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate:function(r){var a=Me(this._map,r.target.getLatLng()),f=this._rotationStartPoint,_=this._rotationOriginPoint,w=Math.atan2(a.y-_.y,a.x-_.x)-Math.atan2(f.y-_.y,f.x-_.x);this._layer.setLatLngs(this._rotateLayer(w,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var R=this;(function G(X){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(at>-1&&ut.push(at),L.Util.isArray(X[0]))X.forEach(function(Tt,Gt){return G(Tt,ut.slice(),Gt)});else{var xt=_t()(R._markers,ut);X.forEach(function(Tt,Gt){xt[Gt].setLatLng(Tt)})}})(this._layer.getLatLngs());var j=Mt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(w,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var V=180*w/Math.PI,F=(V=V<0?V+360:V)+this._startAngle;this._setAngle(F),this._rotationLayer.pm._setAngle(F),this._fireRotation(this._rotationLayer,V,j),this._fireRotation(this._map,V,j),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var a=Mt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Mt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,a),this._fireRotationEnd(this._map,r,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(r,a,f,_,w){var R=Me(w,f);return this._matrix=_.clone().rotate(r,R).flip(),In(a,this._matrix,w)},_setAngle:function(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter:function(){var r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=r.getCenter();return r.removeFrom(this._layer._map),a},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Mt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(r){var a=this.getAngle(),f=this._layer.getLatLngs(),_=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var w=this.getAngle()-a;w=w<0?w+360:w,this._startAngle=a,this._fireRotation(this._layer,w,f,this._layer),this._fireRotation(this._map||this._layer._map,w,f,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(r){var a=r-this.getAngle();this.rotateLayer(a)},getAngle:function(){return this._angle||0},setInitAngle:function(r){this._setAngle(r)}};const Er=Sr,Ae=L.Class.extend({includes:[Wr,A,Er,Pt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(r){L.Util.setOptions(this,r)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(r,a){var f=a.target,_={layer:this._layer,marker:f,event:a},w="";return r==="move"?w="moveVertexValidation":r==="add"?w="addVertexValidation":r==="remove"&&(w="removeVertexValidation"),this.options[w]&&typeof this.options[w]=="function"&&!this.options[w](_)?(r==="move"&&(f._cancelDragEventChain=f.getLatLng()),!1):(f._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(r){return!r._cancelDragEventChain||(r._latlng=r._cancelDragEventChain,r.update(),!1)},_vertexValidationDragEnd:function(r){return!r._cancelDragEventChain||(r._cancelDragEventChain=null,!1)}});function Dn(r){return function(a){if(Array.isArray(a))return Tr(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,f){if(a){if(typeof a=="string")return Tr(a,f);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Tr(a,f)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tr(r,a){(a==null||a>r.length)&&(a=r.length);for(var f=0,_=new Array(a);f<a;f++)_[f]=r[f];return _}Ae.LayerGroup=L.Class.extend({initialize:function(r){var a=this;this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(f){return a._initLayer(f)}),this._layerGroup.on("layeradd",L.Util.throttle(function(f){if(!f.layer._pmTempLayer){a._layers=a.getLayers();var _=a._layers.filter(function(w){return!w.pm._parentLayerGroup||!(a._layerGroup._leaflet_id in w.pm._parentLayerGroup)});_.forEach(function(w){a._initLayer(w)}),_.length>0&&a._getMap()&&a._getMap().pm.globalEditModeEnabled()&&a.enabled()&&a.enable(a.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(f){a._removeLayerFromGroup(f.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(f){f.target._pmTempLayer||(a._layers=a.getLayers())},100,this),this)},enable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(f){f instanceof L.LayerGroup?a.indexOf(f._leaflet_id)===-1&&(a.push(f._leaflet_id),f.pm.enable(r,a)):f.pm.enable(r)})},disable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(a){a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.disable(r)):a.pm.disable()})},enabled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers());var a=this._layers.find(function(f){return f instanceof L.LayerGroup?r.indexOf(f._leaflet_id)===-1&&(r.push(f._leaflet_id),f.pm.enabled(r)):f.pm.enabled()});return!!a},toggleEdit:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(f){f instanceof L.LayerGroup?a.indexOf(f._leaflet_id)===-1&&(a.push(f._leaflet_id),f.pm.toggleEdit(r,a)):f.pm.toggleEdit(r)})},_initLayer:function(r){var a=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup:function(r){if(r.pm&&r.pm._layerGroup){var a=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[a]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var r=this._layers.find(function(a){return a.pm.dragging()});return!!r}return!1},getOptions:function(){return this.options},_getMap:function(){var r;return this._map||((r=this._layers.find(function(a){return!!a._map}))===null||r===void 0?void 0:r._map)||null},getLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],w=[];return r?this._layerGroup.getLayers().forEach(function(R){w.push(R),R instanceof L.LayerGroup&&_.indexOf(R._leaflet_id)===-1&&(_.push(R._leaflet_id),w=w.concat(R.pm.getLayers(!0,!0,!0,_)))}):w=this._layerGroup.getLayers(),f&&(w=w.filter(function(R){return!(R instanceof L.LayerGroup)})),a&&(w=(w=(w=w.filter(function(R){return!!R.pm})).filter(function(R){return!R._pmTempLayer})).filter(function(R){return!L.PM.optIn&&!R.options.pmIgnore||L.PM.optIn&&R.options.pmIgnore===!1})),w},setOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(function(f){f.pm&&(f instanceof L.LayerGroup?a.indexOf(f._leaflet_id)===-1&&(a.push(f._leaflet_id),f.pm.setOptions(r,a)):f.pm.setOptions(r))})}}),Ae.Marker=Ae.extend({_shape:"Marker",initialize:function(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(r){var a=r.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});const Bi={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var r=[].concat(Dn(this._markerGroup.getLayers()),Dn(this.markerCache));this.markerCache=r.filter(function(a,f,_){return _.indexOf(a)===f})},renderLimits:function(r){var a=this;this.markerCache.forEach(function(f){r.includes(f)?a._markerGroup.addLayer(f):a._markerGroup.removeLayer(f)})},applyLimitFilters:function(r){var a=r.latlng,f=a===void 0?{lat:0,lng:0}:a;if(!this._preventRenderMarkers){var _=Dn(this._filterClosestMarkers(f));this.renderLimits(_)}},_filterClosestMarkers:function(r){var a=Dn(this.markerCache),f=this.options.limitMarkersToCount;return f===-1?a:(a.sort(function(_,w){return _._latlng.distanceTo(r)-w._latlng.distanceTo(r)}),a.filter(function(_,w){return!(f>-1)||w<f}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(r){this._preventRenderMarkers=!!r}};function Jr(r,a){return function(f){if(Array.isArray(f))return f}(r)||function(f,_){var w=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(w!=null){var R,j,V=[],F=!0,G=!1;try{for(w=w.call(f);!(F=(R=w.next()).done)&&(V.push(R.value),!_||V.length!==_);F=!0);}catch(X){G=!0,j=X}finally{try{F||w.return==null||w.return()}finally{if(G)throw j}}return V}}(r,a)||function(f,_){if(f){if(typeof f=="string")return Yr(f,_);var w=Object.prototype.toString.call(f).slice(8,-1);if(w==="Object"&&f.constructor&&(w=f.constructor.name),w==="Map"||w==="Set")return Array.from(f);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Yr(f,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yr(r,a){(a==null||a>r.length)&&(a=r.length);for(var f=0,_=new Array(a);f<a;f++)_[f]=r[f];return _}function Ii(r){return function(a){if(Array.isArray(a))return sr(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,f){if(a){if(typeof a=="string")return sr(a,f);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return sr(a,f)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sr(r,a){(a==null||a>r.length)&&(a=r.length);for(var f=0,_=new Array(a);f<a;f++)_[f]=r[f];return _}Ae.Line=Ae.extend({includes:[Bi],_shape:"Line",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(r,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var r=this,a=this._map,f=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(w){if(Array.isArray(w[0]))return w.map(_,r);var R=w.map(r._createMarker,r);return r.options.hideMiddleMarkers!==!0&&w.map(function(j,V){var F=r.isPolygon()?(V+1)%w.length:V+1;return r._createMiddleMarker(R[V],R[F])}),R}(f),this.filterMarkerGroup(),a.addLayer(this._markerGroup)},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker:function(r,a){if(!r||!a)return!1;var f=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),a.getLatLng()),_=this._createMarker(f),w=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(w),_.leftM=r,_.rightM=a,r._middleMarkerNext=_,a._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(r){var a=r.target;if(this._vertexValidation("add",r)){var f=L.divIcon({className:"marker-icon"});a.setIcon(f),this._addMarker(a,a.leftM,a.rightM)}},_onMiddleMarkerMoveStart:function(r){var a=r.target;a.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",r)?(a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)):a.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(r){var a=r.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd:function(r){var a=r.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(a)){var f=L.divIcon({className:"marker-icon"});a.setIcon(f),setTimeout(function(){delete a._dragging},100)}},_addMarker:function(r,a,f){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=r.getLatLng(),w=this._layer._latlngs;delete r.leftM,delete r.rightM;var R=L.PM.Utils.findDeepMarkerIndex(this._markers,a),j=R.indexPath,V=R.index,F=R.parentPath,G=j.length>1?_t()(w,F):w,X=j.length>1?_t()(this._markers,F):this._markers;G.splice(V+1,0,_),X.splice(V+1,0,r),this._layer.setLatLngs(w),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,r),this._createMiddleMarker(r,f)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return se(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(r){var a=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;r?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(se(this._layer.toGeoJSON(15)))}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var r=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){r._layer.setStyle({color:r.cachedColor}),r.isRed=!1},200)},_updateDisabledMarkerStyle:function(r,a){var f=this;r.forEach(function(_){Array.isArray(_)?f._updateDisabledMarkerStyle(_,a):_._icon&&(a&&!f._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(r){var a=r.target;if(this._vertexValidation("remove",r)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mt(this._layer,this._layer.getLatLngs()));var f=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,a),w=_.indexPath,R=_.index,j=_.parentPath;if(w){var V=w.length>1?_t()(f,j):f,F=w.length>1?_t()(this._markers,j):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(V.length<=2||this.isPolygon()&&V.length<=3)){V.splice(R,1),this._layer.setLatLngs(f),this.isPolygon()&&V.length<=2&&V.splice(0,V.length);var G=!1;if(V.length<=1&&(V.splice(0,V.length),j.length>1&&w.length>1&&(f=xe(f)),this._layer.setLatLngs(f),this._initMarkers(),G=!0),Ft(f)||this._layer.remove(),f=xe(f),this._layer.setLatLngs(f),this._markers=xe(this._markers),!G&&(F=w.length>1?_t()(this._markers,j):this._markers,a._middleMarkerPrev&&this._markerGroup.removeLayer(a._middleMarkerPrev),a._middleMarkerNext&&this._markerGroup.removeLayer(a._middleMarkerNext),this._markerGroup.removeLayer(a),F)){var X,ut;if(this.isPolygon()?(X=(R+1)%F.length,ut=(R+(F.length-1))%F.length):(ut=R-1<0?void 0:R-1,X=R+1>=F.length?void 0:R+1),X!==ut){var at=F[ut],xt=F[X];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(at,xt)}F.splice(R,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,w),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(r){var a=this._layer.getLatLngs(),f=r.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,r),w=_.indexPath,R=_.index,j=_.parentPath;(w.length>1?_t()(a,j):a).splice(R,1,f),this._layer.setLatLngs(a)},_getNeighborMarkers:function(r){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,r),f=a.indexPath,_=a.index,w=a.parentPath,R=f.length>1?_t()(this._markers,w):this._markers,j=(_+1)%R.length;return{prevMarker:R[(_+(R.length-1))%R.length],nextMarker:R[j]}},_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),f=a.prevMarker,_=a.nextMarker,w=L.polyline([f.getLatLng(),r.getLatLng()]),R=L.polyline([r.getLatLng(),_.getLatLng()]),j=Rn(this._layer.toGeoJSON(15),w.toGeoJSON(15)).features.length,V=Rn(this._layer.toGeoJSON(15),R.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?V+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(j+=1),!(j<=2&&V<=2)},_onMarkerDragStart:function(r){var a=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",r)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireMarkerDragStart(r,f),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null}},_onMarkerDrag:function(r){var a=r.target;if(this._vertexValidationDrag(a)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,a),_=f.indexPath,w=f.index,R=f.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(a);var j=_.length>1?_t()(this._markers,R):this._markers,V=(w+1)%j.length,F=(w+(j.length-1))%j.length,G=a.getLatLng(),X=j[F].getLatLng(),ut=j[V].getLatLng();if(a._middleMarkerNext){var at=L.PM.Utils.calcMiddleLatLng(this._map,G,ut);a._middleMarkerNext.setLatLng(at)}if(a._middleMarkerPrev){var xt=L.PM.Utils.calcMiddleLatLng(this._map,G,X);a._middleMarkerPrev.setLatLng(xt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(r){var a=r.target;if(this._vertexValidationDragEnd(a)){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var w=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(r,f,w),w)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(r,f);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(r){var a=r.target;if(!a._dragging){var f=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireVertexClick(r,f)}}}),Ae.Polygon=Ae.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),f=a.prevMarker,_=a.nextMarker,w=L.polyline([f.getLatLng(),r.getLatLng()]),R=L.polyline([r.getLatLng(),_.getLatLng()]),j=Rn(this._layer.toGeoJSON(15),w.toGeoJSON(15)).features.length,V=Rn(this._layer.toGeoJSON(15),R.toGeoJSON(15)).features.length;return!(j<=2&&V<=2)}}),Ae.Rectangle=Ae.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var r=this,a=this._map,f=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,a.addLayer(this._markerGroup),this._markers=[],this._markers[0]=f.map(this._createMarker,this);var _=Jr(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(w,R){var j=r._cornerMarkers.find(function(V){return V._index===R});j&&j.setLatLng(w)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(r,a){var f=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(f,"vertexPane"),f._origLatLng=r,f._index=a,f._pmTempLayer=!0,this._markerGroup.addLayer(f),f},_addMarkerEvents:function(){var r=this;this._markers[0].forEach(function(a){a.on("dragstart",r._onMarkerDragStart,r),a.on("drag",r._onMarkerDrag,r),a.on("dragend",r._onMarkerDragEnd,r),r.options.preventMarkerRemoval||a.on("contextmenu",r._removeMarker,r)})},_removeMarker:function(){return null},_onMarkerDragStart:function(r){if(this._vertexValidation("move",r)){var a=r.target,f=this._cornerMarkers;a._oppositeCornerLatLng=f.find(function(_){return _._index===(a._index+2)%4}).getLatLng(),a._snapped=!1,this._fireMarkerDragStart(r)}},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&a._index!==void 0&&(this._adjustRectangleForMarkerMove(a),this._fireMarkerDrag(r),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._cornerMarkers.forEach(function(f){delete f._oppositeCornerLatLng}),this._fireMarkerDragEnd(r),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(r){L.extend(r._origLatLng,r._latlng);var a=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var r=this,a=this._layer.getLatLngs()[0];a&&a.length!==4&&a.length>0?(a.forEach(function(f,_){r._cornerMarkers[_].setLatLng(f)}),this._cornerMarkers.slice(a.length).forEach(function(f){f.setLatLng(a[0])})):a&&a.length?this._cornerMarkers.forEach(function(f){f.setLatLng(a[f._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this._angle||0,this._map)}}),Ae.Circle=Ae.extend({_shape:"Circle",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),f=this._layer._radius,_=this._getLatLngOnCircle(a,f);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(r,a){var f=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("drag",this._moveCircle,this),a.on("dragstart",this._onCircleDragStart,this),a.on("drag",this._onCircleDrag,this),a.on("dragend",this._onCircleDragEnd,this),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(r){if(!r.target._cancelDragEventChain){var a=r.latlng;this._layer.setLatLng(a);var f=this._layer._radius,_=this._getLatLngOnCircle(a,f);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.distance(r,a);this.options.minRadiusCircle&&f<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_disableSnapping:function(){var r=this;this._markers.forEach(function(a){a.off("move",r._syncHintLine,r),a.off("move",r._syncCircleRadius,r),a.off("drag",r._handleSnapping,r),a.off("dragend",r._cleanupSnapping,r)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(r))},_onCircleDragStart:function(r){this._vertexValidationDrag(r.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(r){this._vertexValidationReset||this._fireDrag(r)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(r,a){var f=this._map.project(r),_=L.point(f.x+a,f.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.distance(r,a);return this.options.minRadiusCircle&&f<this.options.minRadiusCircle?a=zt(this._map,r,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle&&(a=zt(this._map,r,a,this.options.maxRadiusCircle)),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.distance(r,a);(this.options.minRadiusCircle&&f<this.options.minRadiusCircle||this.options.maxRadiusCircle&&f>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Ae.CircleMarker=Ae.extend({_shape:"CircleMarker",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),f=this._layer._radius,_=this._getLatLngOnCircle(a,f);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(r,a){var f=this._map.project(r),_=L.point(f.x+a,f.y);return this._map.unproject(_)},_createHintLine:function(r,a){var f=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([f,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_moveCircle:function(){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var a=this._layer._radius,f=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=f,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var r=this._layer.getLatLng(),a=this._layer._radius,f=this._getLatLngOnCircle(r,a);this._outerMarker.setLatLng(f),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var a=r.target;this._vertexValidationDragEnd(a)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_initSnappableMarkersDrag:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var r=this._layer._map||this._map;if(r){var a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),f=L.circle(this._layer.getLatLng(),this._layer.options);f.setRadius(a);var _=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(f,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(f,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.project(r).distanceTo(this._map.project(a));return this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker?a=zt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,r)):this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker&&(a=zt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,r))),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),f=this._map.project(r).distanceTo(this._map.project(a));(this.options.minRadiusCircleMarker&&f<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&f>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Ae.ImageOverlay=Ae.extend({_shape:"ImageOverlay",initialize:function(r){this._layer=r,this._enabled=!1},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},enabled:function(){return this._enabled},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]}}),Ae.Text=Ae.extend({_shape:"Text",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(r,"px"),this.textArea.style.width="".concat(a,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var r=this;this._disableOnBlurActive=!0,setTimeout(function(){r.enabled()&&L.DomEvent.on(document,"click",r._documentClick,r)},100)},_documentClick:function(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._hasFocus;this._hasFocus=r.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(r){this.textArea.value=r,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var r,a=this.options.className.split(" ");(r=this.textArea.classList).add.apply(r,Ii(a))}var f=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(f),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(r){r.preventDefault()}});var Xr=function(r,a,f,_,w,R){this._matrix=[r,a,f,_,w,R]};Xr.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Xr.prototype={transform:function(r){return this._transform(r.clone())},_transform:function(r){var a=this._matrix,f=r.x,_=r.y;return r.x=a[0]*f+a[1]*_+a[4],r.y=a[2]*f+a[3]*_+a[5],r},untransform:function(r){var a=this._matrix;return new L.Point((r.x/a[0]-a[4])/a[0],(r.y/a[2]-a[5])/a[2])},clone:function(){var r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate:function(r){return r===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof r=="number"?(a=r,f=r):(a=r.x,f=r.y),this._add(1,0,0,1,a,f));var a,f},scale:function(r,a){return r===void 0?new L.Point(this._matrix[0],this._matrix[3]):(a=a||L.point(0,0),typeof r=="number"?(f=r,_=r):(f=r.x,_=r.y),this._add(f,0,0,_,a.x,a.y)._add(1,0,0,1,-a.x,-a.y));var f,_},rotate:function(r,a){var f=Math.cos(r),_=Math.sin(r);return a=a||new L.Point(0,0),this._add(f,_,-_,f,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(r,a,f,_,w,R){var j,V=[[],[],[]],F=this._matrix,G=[[F[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]],X=[[r,f,w],[a,_,R],[0,0,1]];r&&r instanceof L.PM.Matrix&&(X=[[(F=r._matrix)[0],F[2],F[4]],[F[1],F[3],F[5]],[0,0,1]]);for(var ut=0;ut<3;ut+=1)for(var at=0;at<3;at+=1){j=0;for(var xt=0;xt<3;xt+=1)j+=G[ut][xt]*X[xt][at];V[ut][at]=j}return this._matrix=[V[0][0],V[1][0],V[0][1],V[1][1],V[0][2],V[1][2]],this}};const Di=Xr;var Is={calcMiddleLatLng:function(r,a,f){var _=r.project(a),w=r.project(f);return r.unproject(_._add(w)._divideBy(2))},findLayers:function(r){var a=[];return r.eachLayer(function(f){(f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.Circle||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&a.push(f)}),a=(a=(a=a.filter(function(f){return!!f.pm})).filter(function(f){return!f._pmTempLayer})).filter(function(f){return!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&f.options.pmIgnore===!1})},circleToPolygon:function(r){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,f=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=r.getLatLng(),w=r.getRadius(),R=re(_,w,a,0,f),j=[],V=0;V<R.length;V+=1){var F=[R[V].lat,R[V].lng];j.push(F)}return L.polygon(j,r.options)},disablePopup:function(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup:function(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent:function(r,a,f){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.fire(a,f,_);var w=this.getAllParentGroups(r),R=w.groups;R.forEach(function(j){j.fire(a,f,_)})},getAllParentGroups:function(r){var a=[],f=[];return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(function _(w){for(var R in w._eventParents)if(a.indexOf(R)===-1){a.push(R);var j=w._eventParents[R];f.push(j),_(j)}}(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:f,groupIds:a},{groupIds:a,groups:f}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:re,getTranslation:At,findDeepCoordIndex:function(r,a){var f,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=function j(V){return function(F,G){var X=V.concat(G);if(_){if(F.lat&&F.lat===a.lat&&F.lng===a.lng)return f=X,!0}else if(F.lat&&L.latLng(F).equals(a))return f=X,!0;return Array.isArray(F)&&F.some(j(X))}};r.some(w([]));var R={};return f&&(R={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),R},findDeepMarkerIndex:function(r,a){var f;r.some(function w(R){return function(j,V){var F=R.concat(V);return j._leaflet_id===a._leaflet_id?(f=F,!0):Array.isArray(j)&&j.some(w(F))}}([]));var _={};return f&&(_={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),_},_getIndexFromSegment:function(r,a){if(a&&a.length===2){var f=this.findDeepCoordIndex(r,a[0]),_=this.findDeepCoordIndex(r,a[1]),w=Math.max(f.index,_.index);return f.index!==0&&_.index!==0||w===1||(w+=1),{indexA:f,indexB:_,newIndex:w,indexPath:f.indexPath,parentPath:f.parentPath}}return null},_getRotatedRectangle:function(r,a,f,_){var w=Me(_,r),R=Me(_,a),j=f*Math.PI/180,V=Math.cos(j),F=Math.sin(j),G=(R.x-w.x)*V+(R.y-w.y)*F,X=(R.y-w.y)*V-(R.x-w.x)*F,ut=G*V+w.x,at=G*F+w.y,xt=-X*F+w.x,Tt=X*V+w.y;return[fn(_,w),fn(_,{x:ut,y:at}),fn(_,R),fn(_,{x:xt,y:Tt})]},pxRadiusToMeterRadius:function(r,a,f){var _=a.project(f),w=L.point(_.x+r,_.y);return a.distance(a.unproject(w),f)}};const Yt=Is;L.PM=L.PM||{version:"2.14.2",Map:ie,Toolbar:yt,Draw:D,Edit:Ae,Utils:Yt,Matrix:Di,activeLang:"en",optIn:!1,initialize:function(r){this.addInitHooks(r)},setOptIn:function(r){this.optIn=!!r},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(r){var a=this;r instanceof L.LayerGroup&&r.eachLayer(function(f){a.reInitLayer(f)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(r){for(var a,f,_=this._map.mouseEventToLayerPoint(r),w=this._drawFirst;w;w=w.next)(a=w.layer).options.interactive&&a._containsPoint(_)&&(r.type!=="click"&&r.type!=="preclick"||!this._map._draggableMoved(a))&&(f=a);f&&(L.DomEvent.fakeStop(r),this._fireEvent([f],r))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],d=0;d<c;d++)if(s.call(h,l[d],d,l))return d;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],d=0;d<c;d++){var m=l[d];if(s.call(h,m,d,l))return m}},typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])}return s}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(s){s.hasOwnProperty("remove")||Object.defineProperty(s,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,l){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),h=c.length>>>0;if(h===0)return!1;for(var d,m,g=0|l,y=Math.max(g>=0?g:h-Math.abs(g),0);y<h;){if((d=c[y])===(m=s)||typeof d=="number"&&typeof m=="number"&&isNaN(d)&&isNaN(m))return!0;y++}return!1}})},1787:(s,l,c)=>{var h=c(2582),d=c(4102),m=c(1540),g=c(9705).Z,y=m.featureEach,k=(m.coordEach,d.polygon,d.featureCollection);function C(z){var T=new h(z);return T.insert=function(S){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:g(S),h.prototype.insert.call(this,S)},T.load=function(S){var $=[];return Array.isArray(S)?S.forEach(function(E){if(E.type!=="Feature")throw new Error("invalid features");E.bbox=E.bbox?E.bbox:g(E),$.push(E)}):y(S,function(E){if(E.type!=="Feature")throw new Error("invalid features");E.bbox=E.bbox?E.bbox:g(E),$.push(E)}),h.prototype.load.call(this,$)},T.remove=function(S,$){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:g(S),h.prototype.remove.call(this,S,$)},T.clear=function(){return h.prototype.clear.call(this)},T.search=function(S){var $=h.prototype.search.call(this,this.toBBox(S));return k($)},T.collides=function(S){return h.prototype.collides.call(this,this.toBBox(S))},T.all=function(){var S=h.prototype.all.call(this);return k(S)},T.toJSON=function(){return h.prototype.toJSON.call(this)},T.fromJSON=function(S){return h.prototype.fromJSON.call(this,S)},T.toBBox=function(S){var $;if(S.bbox)$=S.bbox;else if(Array.isArray(S)&&S.length===4)$=S;else if(Array.isArray(S)&&S.length===6)$=[S[0],S[1],S[3],S[4]];else if(S.type==="Feature")$=g(S);else{if(S.type!=="FeatureCollection")throw new Error("invalid geojson");$=g(S)}return{minX:$[0],minY:$[1],maxX:$[2],maxY:$[3]}},T}s.exports=C,s.exports.default=C},1989:(s,l,c)=>{var h=c(1789),d=c(401),m=c(7667),g=c(1327),y=c(1866);function k(C){var z=-1,T=C==null?0:C.length;for(this.clear();++z<T;){var S=C[z];this.set(S[0],S[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,s.exports=k},8407:(s,l,c)=>{var h=c(7040),d=c(4125),m=c(2117),g=c(7518),y=c(4705);function k(C){var z=-1,T=C==null?0:C.length;for(this.clear();++z<T;){var S=C[z];this.set(S[0],S[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,s.exports=k},7071:(s,l,c)=>{var h=c(852)(c(5639),"Map");s.exports=h},3369:(s,l,c)=>{var h=c(4785),d=c(1285),m=c(6e3),g=c(9916),y=c(5265);function k(C){var z=-1,T=C==null?0:C.length;for(this.clear();++z<T;){var S=C[z];this.set(S[0],S[1])}}k.prototype.clear=h,k.prototype.delete=d,k.prototype.get=m,k.prototype.has=g,k.prototype.set=y,s.exports=k},6384:(s,l,c)=>{var h=c(8407),d=c(7465),m=c(3779),g=c(7599),y=c(4758),k=c(4309);function C(z){var T=this.__data__=new h(z);this.size=T.size}C.prototype.clear=d,C.prototype.delete=m,C.prototype.get=g,C.prototype.has=y,C.prototype.set=k,s.exports=C},2705:(s,l,c)=>{var h=c(5639).Symbol;s.exports=h},1149:(s,l,c)=>{var h=c(5639).Uint8Array;s.exports=h},6874:s=>{s.exports=function(l,c,h){switch(h.length){case 0:return l.call(c);case 1:return l.call(c,h[0]);case 2:return l.call(c,h[0],h[1]);case 3:return l.call(c,h[0],h[1],h[2])}return l.apply(c,h)}},4636:(s,l,c)=>{var h=c(2545),d=c(5694),m=c(1469),g=c(4144),y=c(5776),k=c(6719),C=Object.prototype.hasOwnProperty;s.exports=function(z,T){var S=m(z),$=!S&&d(z),E=!S&&!$&&g(z),O=!S&&!$&&!E&&k(z),H=S||$||E||O,P=H?h(z.length,String):[],I=P.length;for(var K in z)!T&&!C.call(z,K)||H&&(K=="length"||E&&(K=="offset"||K=="parent")||O&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||y(K,I))||P.push(K);return P}},9932:s=>{s.exports=function(l,c){for(var h=-1,d=l==null?0:l.length,m=Array(d);++h<d;)m[h]=c(l[h],h,l);return m}},6556:(s,l,c)=>{var h=c(9465),d=c(7813);s.exports=function(m,g,y){(y!==void 0&&!d(m[g],y)||y===void 0&&!(g in m))&&h(m,g,y)}},4865:(s,l,c)=>{var h=c(9465),d=c(7813),m=Object.prototype.hasOwnProperty;s.exports=function(g,y,k){var C=g[y];m.call(g,y)&&d(C,k)&&(k!==void 0||y in g)||h(g,y,k)}},8470:(s,l,c)=>{var h=c(7813);s.exports=function(d,m){for(var g=d.length;g--;)if(h(d[g][0],m))return g;return-1}},9465:(s,l,c)=>{var h=c(8777);s.exports=function(d,m,g){m=="__proto__"&&h?h(d,m,{configurable:!0,enumerable:!0,value:g,writable:!0}):d[m]=g}},3118:(s,l,c)=>{var h=c(3218),d=Object.create,m=function(){function g(){}return function(y){if(!h(y))return{};if(d)return d(y);g.prototype=y;var k=new g;return g.prototype=void 0,k}}();s.exports=m},8483:(s,l,c)=>{var h=c(5063)();s.exports=h},7786:(s,l,c)=>{var h=c(1811),d=c(327);s.exports=function(m,g){for(var y=0,k=(g=h(g,m)).length;m!=null&&y<k;)m=m[d(g[y++])];return y&&y==k?m:void 0}},4239:(s,l,c)=>{var h=c(2705),d=c(9607),m=c(2333),g=h?h.toStringTag:void 0;s.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":g&&g in Object(y)?d(y):m(y)}},8565:s=>{var l=Object.prototype.hasOwnProperty;s.exports=function(c,h){return c!=null&&l.call(c,h)}},9454:(s,l,c)=>{var h=c(4239),d=c(7005);s.exports=function(m){return d(m)&&h(m)=="[object Arguments]"}},8458:(s,l,c)=>{var h=c(3560),d=c(5346),m=c(3218),g=c(346),y=/^\[object .+?Constructor\]$/,k=Function.prototype,C=Object.prototype,z=k.toString,T=C.hasOwnProperty,S=RegExp("^"+z.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function($){return!(!m($)||d($))&&(h($)?S:y).test(g($))}},8749:(s,l,c)=>{var h=c(4239),d=c(1780),m=c(7005),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,s.exports=function(y){return m(y)&&d(y.length)&&!!g[h(y)]}},313:(s,l,c)=>{var h=c(3218),d=c(5726),m=c(3498),g=Object.prototype.hasOwnProperty;s.exports=function(y){if(!h(y))return m(y);var k=d(y),C=[];for(var z in y)(z!="constructor"||!k&&g.call(y,z))&&C.push(z);return C}},2980:(s,l,c)=>{var h=c(6384),d=c(6556),m=c(8483),g=c(9783),y=c(3218),k=c(1704),C=c(6390);s.exports=function z(T,S,$,E,O){T!==S&&m(S,function(H,P){if(O||(O=new h),y(H))g(T,S,P,$,z,E,O);else{var I=E?E(C(T,P),H,P+"",T,S,O):void 0;I===void 0&&(I=H),d(T,P,I)}},k)}},9783:(s,l,c)=>{var h=c(6556),d=c(4626),m=c(7133),g=c(278),y=c(8517),k=c(5694),C=c(1469),z=c(9246),T=c(4144),S=c(3560),$=c(3218),E=c(8630),O=c(6719),H=c(6390),P=c(9881);s.exports=function(I,K,nt,W,et,st,ft){var it=H(I,nt),gt=H(K,nt),bt=ft.get(gt);if(bt)h(I,nt,bt);else{var Pt=st?st(it,gt,nt+"",I,K,ft):void 0,kt=Pt===void 0;if(kt){var Nt=C(gt),_t=!Nt&&T(gt),le=!Nt&&!_t&&O(gt);Pt=gt,Nt||_t||le?C(it)?Pt=it:z(it)?Pt=g(it):_t?(kt=!1,Pt=d(gt,!0)):le?(kt=!1,Pt=m(gt,!0)):Pt=[]:E(gt)||k(gt)?(Pt=it,k(it)?Pt=P(it):$(it)&&!S(it)||(Pt=y(gt))):kt=!1}kt&&(ft.set(gt,Pt),et(Pt,gt,W,st,ft),ft.delete(gt)),h(I,nt,Pt)}}},5976:(s,l,c)=>{var h=c(6557),d=c(5357),m=c(61);s.exports=function(g,y){return m(d(g,y,h),g+"")}},6560:(s,l,c)=>{var h=c(5703),d=c(8777),m=c(6557),g=d?function(y,k){return d(y,"toString",{configurable:!0,enumerable:!1,value:h(k),writable:!0})}:m;s.exports=g},2545:s=>{s.exports=function(l,c){for(var h=-1,d=Array(l);++h<l;)d[h]=c(h);return d}},531:(s,l,c)=>{var h=c(2705),d=c(9932),m=c(1469),g=c(3448),y=h?h.prototype:void 0,k=y?y.toString:void 0;s.exports=function C(z){if(typeof z=="string")return z;if(m(z))return d(z,C)+"";if(g(z))return k?k.call(z):"";var T=z+"";return T=="0"&&1/z==-1/0?"-0":T}},1717:s=>{s.exports=function(l){return function(c){return l(c)}}},1811:(s,l,c)=>{var h=c(1469),d=c(5403),m=c(5514),g=c(9833);s.exports=function(y,k){return h(y)?y:d(y,k)?[y]:m(g(y))}},4318:(s,l,c)=>{var h=c(1149);s.exports=function(d){var m=new d.constructor(d.byteLength);return new h(m).set(new h(d)),m}},4626:(s,l,c)=>{s=c.nmd(s);var h=c(5639),d=l&&!l.nodeType&&l,m=d&&s&&!s.nodeType&&s,g=m&&m.exports===d?h.Buffer:void 0,y=g?g.allocUnsafe:void 0;s.exports=function(k,C){if(C)return k.slice();var z=k.length,T=y?y(z):new k.constructor(z);return k.copy(T),T}},7133:(s,l,c)=>{var h=c(4318);s.exports=function(d,m){var g=m?h(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.length)}},278:s=>{s.exports=function(l,c){var h=-1,d=l.length;for(c||(c=Array(d));++h<d;)c[h]=l[h];return c}},8363:(s,l,c)=>{var h=c(4865),d=c(9465);s.exports=function(m,g,y,k){var C=!y;y||(y={});for(var z=-1,T=g.length;++z<T;){var S=g[z],$=k?k(y[S],m[S],S,y,m):void 0;$===void 0&&($=m[S]),C?d(y,S,$):h(y,S,$)}return y}},4429:(s,l,c)=>{var h=c(5639)["__core-js_shared__"];s.exports=h},1463:(s,l,c)=>{var h=c(5976),d=c(6612);s.exports=function(m){return h(function(g,y){var k=-1,C=y.length,z=C>1?y[C-1]:void 0,T=C>2?y[2]:void 0;for(z=m.length>3&&typeof z=="function"?(C--,z):void 0,T&&d(y[0],y[1],T)&&(z=C<3?void 0:z,C=1),g=Object(g);++k<C;){var S=y[k];S&&m(g,S,k,z)}return g})}},5063:s=>{s.exports=function(l){return function(c,h,d){for(var m=-1,g=Object(c),y=d(c),k=y.length;k--;){var C=y[l?k:++m];if(h(g[C],C,g)===!1)break}return c}}},8777:(s,l,c)=>{var h=c(852),d=function(){try{var m=h(Object,"defineProperty");return m({},"",{}),m}catch{}}();s.exports=d},1957:(s,l,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;s.exports=h},5050:(s,l,c)=>{var h=c(7019);s.exports=function(d,m){var g=d.__data__;return h(m)?g[typeof m=="string"?"string":"hash"]:g.map}},852:(s,l,c)=>{var h=c(8458),d=c(7801);s.exports=function(m,g){var y=d(m,g);return h(y)?y:void 0}},5924:(s,l,c)=>{var h=c(5569)(Object.getPrototypeOf,Object);s.exports=h},9607:(s,l,c)=>{var h=c(2705),d=Object.prototype,m=d.hasOwnProperty,g=d.toString,y=h?h.toStringTag:void 0;s.exports=function(k){var C=m.call(k,y),z=k[y];try{k[y]=void 0;var T=!0}catch{}var S=g.call(k);return T&&(C?k[y]=z:delete k[y]),S}},7801:s=>{s.exports=function(l,c){return l==null?void 0:l[c]}},222:(s,l,c)=>{var h=c(1811),d=c(5694),m=c(1469),g=c(5776),y=c(1780),k=c(327);s.exports=function(C,z,T){for(var S=-1,$=(z=h(z,C)).length,E=!1;++S<$;){var O=k(z[S]);if(!(E=C!=null&&T(C,O)))break;C=C[O]}return E||++S!=$?E:!!($=C==null?0:C.length)&&y($)&&g(O,$)&&(m(C)||d(C))}},1789:(s,l,c)=>{var h=c(4536);s.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:s=>{s.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(s,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;s.exports=function(m){var g=this.__data__;if(h){var y=g[m];return y==="__lodash_hash_undefined__"?void 0:y}return d.call(g,m)?g[m]:void 0}},1327:(s,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;s.exports=function(m){var g=this.__data__;return h?g[m]!==void 0:d.call(g,m)}},1866:(s,l,c)=>{var h=c(4536);s.exports=function(d,m){var g=this.__data__;return this.size+=this.has(d)?0:1,g[d]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},8517:(s,l,c)=>{var h=c(3118),d=c(5924),m=c(5726);s.exports=function(g){return typeof g.constructor!="function"||m(g)?{}:h(d(g))}},5776:s=>{var l=/^(?:0|[1-9]\d*)$/;s.exports=function(c,h){var d=typeof c;return!!(h=h??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<h}},6612:(s,l,c)=>{var h=c(7813),d=c(8612),m=c(5776),g=c(3218);s.exports=function(y,k,C){if(!g(C))return!1;var z=typeof k;return!!(z=="number"?d(C)&&m(k,C.length):z=="string"&&k in C)&&h(C[k],y)}},5403:(s,l,c)=>{var h=c(1469),d=c(3448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;s.exports=function(y,k){if(h(y))return!1;var C=typeof y;return!(C!="number"&&C!="symbol"&&C!="boolean"&&y!=null&&!d(y))||g.test(y)||!m.test(y)||k!=null&&y in Object(k)}},7019:s=>{s.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(s,l,c)=>{var h,d=c(4429),m=(h=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";s.exports=function(g){return!!m&&m in g}},5726:s=>{var l=Object.prototype;s.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||l)}},7040:s=>{s.exports=function(){this.__data__=[],this.size=0}},4125:(s,l,c)=>{var h=c(8470),d=Array.prototype.splice;s.exports=function(m){var g=this.__data__,y=h(g,m);return!(y<0)&&(y==g.length-1?g.pop():d.call(g,y,1),--this.size,!0)}},2117:(s,l,c)=>{var h=c(8470);s.exports=function(d){var m=this.__data__,g=h(m,d);return g<0?void 0:m[g][1]}},7518:(s,l,c)=>{var h=c(8470);s.exports=function(d){return h(this.__data__,d)>-1}},4705:(s,l,c)=>{var h=c(8470);s.exports=function(d,m){var g=this.__data__,y=h(g,d);return y<0?(++this.size,g.push([d,m])):g[y][1]=m,this}},4785:(s,l,c)=>{var h=c(1989),d=c(8407),m=c(7071);s.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||d),string:new h}}},1285:(s,l,c)=>{var h=c(5050);s.exports=function(d){var m=h(this,d).delete(d);return this.size-=m?1:0,m}},6e3:(s,l,c)=>{var h=c(5050);s.exports=function(d){return h(this,d).get(d)}},9916:(s,l,c)=>{var h=c(5050);s.exports=function(d){return h(this,d).has(d)}},5265:(s,l,c)=>{var h=c(5050);s.exports=function(d,m){var g=h(this,d),y=g.size;return g.set(d,m),this.size+=g.size==y?0:1,this}},4523:(s,l,c)=>{var h=c(8306);s.exports=function(d){var m=h(d,function(y){return g.size===500&&g.clear(),y}),g=m.cache;return m}},4536:(s,l,c)=>{var h=c(852)(Object,"create");s.exports=h},3498:s=>{s.exports=function(l){var c=[];if(l!=null)for(var h in Object(l))c.push(h);return c}},1167:(s,l,c)=>{s=c.nmd(s);var h=c(1957),d=l&&!l.nodeType&&l,m=d&&s&&!s.nodeType&&s,g=m&&m.exports===d&&h.process,y=function(){try{var k=m&&m.require&&m.require("util").types;return k||g&&g.binding&&g.binding("util")}catch{}}();s.exports=y},2333:s=>{var l=Object.prototype.toString;s.exports=function(c){return l.call(c)}},5569:s=>{s.exports=function(l,c){return function(h){return l(c(h))}}},5357:(s,l,c)=>{var h=c(6874),d=Math.max;s.exports=function(m,g,y){return g=d(g===void 0?m.length-1:g,0),function(){for(var k=arguments,C=-1,z=d(k.length-g,0),T=Array(z);++C<z;)T[C]=k[g+C];C=-1;for(var S=Array(g+1);++C<g;)S[C]=k[C];return S[g]=y(T),h(m,this,S)}}},5639:(s,l,c)=>{var h=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,m=h||d||Function("return this")();s.exports=m},6390:s=>{s.exports=function(l,c){if((c!=="constructor"||typeof l[c]!="function")&&c!="__proto__")return l[c]}},61:(s,l,c)=>{var h=c(6560),d=c(1275)(h);s.exports=d},1275:s=>{var l=Date.now;s.exports=function(c){var h=0,d=0;return function(){var m=l(),g=16-(m-d);if(d=m,g>0){if(++h>=800)return arguments[0]}else h=0;return c.apply(void 0,arguments)}}},7465:(s,l,c)=>{var h=c(8407);s.exports=function(){this.__data__=new h,this.size=0}},3779:s=>{s.exports=function(l){var c=this.__data__,h=c.delete(l);return this.size=c.size,h}},7599:s=>{s.exports=function(l){return this.__data__.get(l)}},4758:s=>{s.exports=function(l){return this.__data__.has(l)}},4309:(s,l,c)=>{var h=c(8407),d=c(7071),m=c(3369);s.exports=function(g,y){var k=this.__data__;if(k instanceof h){var C=k.__data__;if(!d||C.length<199)return C.push([g,y]),this.size=++k.size,this;k=this.__data__=new m(C)}return k.set(g,y),this.size=k.size,this}},5514:(s,l,c)=>{var h=c(4523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=h(function(y){var k=[];return y.charCodeAt(0)===46&&k.push(""),y.replace(d,function(C,z,T,S){k.push(T?S.replace(m,"$1"):z||C)}),k});s.exports=g},327:(s,l,c)=>{var h=c(3448);s.exports=function(d){if(typeof d=="string"||h(d))return d;var m=d+"";return m=="0"&&1/d==-1/0?"-0":m}},346:s=>{var l=Function.prototype.toString;s.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},5703:s=>{s.exports=function(l){return function(){return l}}},7813:s=>{s.exports=function(l,c){return l===c||l!=l&&c!=c}},7361:(s,l,c)=>{var h=c(7786);s.exports=function(d,m,g){var y=d==null?void 0:h(d,m);return y===void 0?g:y}},8721:(s,l,c)=>{var h=c(8565),d=c(222);s.exports=function(m,g){return m!=null&&d(m,g,h)}},6557:s=>{s.exports=function(l){return l}},5694:(s,l,c)=>{var h=c(9454),d=c(7005),m=Object.prototype,g=m.hasOwnProperty,y=m.propertyIsEnumerable,k=h(function(){return arguments}())?h:function(C){return d(C)&&g.call(C,"callee")&&!y.call(C,"callee")};s.exports=k},1469:s=>{var l=Array.isArray;s.exports=l},8612:(s,l,c)=>{var h=c(3560),d=c(1780);s.exports=function(m){return m!=null&&d(m.length)&&!h(m)}},9246:(s,l,c)=>{var h=c(8612),d=c(7005);s.exports=function(m){return d(m)&&h(m)}},4144:(s,l,c)=>{s=c.nmd(s);var h=c(5639),d=c(5062),m=l&&!l.nodeType&&l,g=m&&s&&!s.nodeType&&s,y=g&&g.exports===m?h.Buffer:void 0,k=(y?y.isBuffer:void 0)||d;s.exports=k},3560:(s,l,c)=>{var h=c(4239),d=c(3218);s.exports=function(m){if(!d(m))return!1;var g=h(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1780:s=>{s.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:s=>{s.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:s=>{s.exports=function(l){return l!=null&&typeof l=="object"}},8630:(s,l,c)=>{var h=c(4239),d=c(5924),m=c(7005),g=Function.prototype,y=Object.prototype,k=g.toString,C=y.hasOwnProperty,z=k.call(Object);s.exports=function(T){if(!m(T)||h(T)!="[object Object]")return!1;var S=d(T);if(S===null)return!0;var $=C.call(S,"constructor")&&S.constructor;return typeof $=="function"&&$ instanceof $&&k.call($)==z}},3448:(s,l,c)=>{var h=c(4239),d=c(7005);s.exports=function(m){return typeof m=="symbol"||d(m)&&h(m)=="[object Symbol]"}},6719:(s,l,c)=>{var h=c(8749),d=c(1717),m=c(1167),g=m&&m.isTypedArray,y=g?d(g):h;s.exports=y},1704:(s,l,c)=>{var h=c(4636),d=c(313),m=c(8612);s.exports=function(g){return m(g)?h(g,!0):d(g)}},8306:(s,l,c)=>{var h=c(3369);function d(m,g){if(typeof m!="function"||g!=null&&typeof g!="function")throw new TypeError("Expected a function");var y=function(){var k=arguments,C=g?g.apply(this,k):k[0],z=y.cache;if(z.has(C))return z.get(C);var T=m.apply(this,k);return y.cache=z.set(C,T)||z,T};return y.cache=new(d.Cache||h),y}d.Cache=h,s.exports=d},2492:(s,l,c)=>{var h=c(2980),d=c(1463)(function(m,g,y){h(m,g,y)});s.exports=d},5062:s=>{s.exports=function(){return!1}},9881:(s,l,c)=>{var h=c(8363),d=c(1704);s.exports=function(m){return h(m,d(m))}},9833:(s,l,c)=>{var h=c(531);s.exports=function(d){return d==null?"":h(d)}},2676:function(s){s.exports=function(){function l(B,b){if(!(B instanceof b))throw new TypeError("Cannot call a class as a function")}function c(B,b){for(var x=0;x<b.length;x++){var A=b[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(B,A.key,A)}}function h(B,b,x){return b&&c(B.prototype,b),x&&c(B,x),B}var d=function(){function B(b,x){this.next=null,this.key=b,this.data=x,this.left=null,this.right=null}return B}();function m(B,b){return B>b?1:B<b?-1:0}function g(B,b,x){for(var A=new d(null,null),D=A,N=A;;){var Q=x(B,b.key);if(Q<0){if(b.left===null)break;if(x(B,b.left.key)<0){var rt=b.left;if(b.left=rt.right,rt.right=b,(b=rt).left===null)break}N.left=b,N=b,b=b.left}else{if(!(Q>0)||b.right===null||x(B,b.right.key)>0&&(rt=b.right,b.right=rt.left,rt.left=b,(b=rt).right===null))break;D.right=b,D=b,b=b.right}}return D.right=b.left,N.left=b.right,b.left=A.right,b.right=A.left,b}function y(B,b,x,A){var D=new d(B,b);if(x===null)return D.left=D.right=null,D;var N=A(B,(x=g(B,x,A)).key);return N<0?(D.left=x.left,D.right=x,x.left=null):N>=0&&(D.right=x.right,D.left=x,x.right=null),D}function k(B,b,x){var A=null,D=null;if(b){var N=x((b=g(B,b,x)).key,B);N===0?(A=b.left,D=b.right):N<0?(D=b.right,b.right=null,A=b):(A=b.left,b.left=null,D=b)}return{left:A,right:D}}function C(B,b,x){return b===null?B:(B===null||((b=g(B.key,b,x)).left=B),b)}function z(B,b,x,A,D){if(B){A(b+(x?"└── ":"├── ")+D(B)+`
`);var N=b+(x?"    ":"│   ");B.left&&z(B.left,N,!1,A,D),B.right&&z(B.right,N,!0,A,D)}}var T=function(){function B(b){b===void 0&&(b=m),this._root=null,this._size=0,this._comparator=b}return B.prototype.insert=function(b,x){return this._size++,this._root=y(b,x,this._root,this._comparator)},B.prototype.add=function(b,x){var A=new d(b,x);this._root===null&&(A.left=A.right=null,this._size++,this._root=A);var D=this._comparator,N=g(b,this._root,D),Q=D(b,N.key);return Q===0?this._root=N:(Q<0?(A.left=N.left,A.right=N,N.left=null):Q>0&&(A.right=N.right,A.left=N,N.right=null),this._size++,this._root=A),this._root},B.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},B.prototype._remove=function(b,x,A){var D;return x===null?null:A(b,(x=g(b,x,A)).key)===0?(x.left===null?D=x.right:(D=g(b,x.left,A)).right=x.right,this._size--,D):x},B.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=g(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},B.prototype.findStatic=function(b){for(var x=this._root,A=this._comparator;x;){var D=A(b,x.key);if(D===0)return x;x=D<0?x.left:x.right}return null},B.prototype.find=function(b){return this._root&&(this._root=g(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},B.prototype.contains=function(b){for(var x=this._root,A=this._comparator;x;){var D=A(b,x.key);if(D===0)return!0;x=D<0?x.left:x.right}return!1},B.prototype.forEach=function(b,x){for(var A=this._root,D=[],N=!1;!N;)A!==null?(D.push(A),A=A.left):D.length!==0?(A=D.pop(),b.call(x,A),A=A.right):N=!0;return this},B.prototype.range=function(b,x,A,D){for(var N=[],Q=this._comparator,rt=this._root;N.length!==0||rt;)if(rt)N.push(rt),rt=rt.left;else{if(Q((rt=N.pop()).key,x)>0)break;if(Q(rt.key,b)>=0&&A.call(D,rt))return this;rt=rt.right}return this},B.prototype.keys=function(){var b=[];return this.forEach(function(x){var A=x.key;return b.push(A)}),b},B.prototype.values=function(){var b=[];return this.forEach(function(x){var A=x.data;return b.push(A)}),b},B.prototype.min=function(){return this._root?this.minNode(this._root).key:null},B.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},B.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},B.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},B.prototype.at=function(b){for(var x=this._root,A=!1,D=0,N=[];!A;)if(x)N.push(x),x=x.left;else if(N.length>0){if(x=N.pop(),D===b)return x;D++,x=x.right}else A=!0;return null},B.prototype.next=function(b){var x=this._root,A=null;if(b.right){for(A=b.right;A.left;)A=A.left;return A}for(var D=this._comparator;x;){var N=D(b.key,x.key);if(N===0)break;N<0?(A=x,x=x.left):x=x.right}return A},B.prototype.prev=function(b){var x=this._root,A=null;if(b.left!==null){for(A=b.left;A.right;)A=A.right;return A}for(var D=this._comparator;x;){var N=D(b.key,x.key);if(N===0)break;N<0?x=x.left:(A=x,x=x.right)}return A},B.prototype.clear=function(){return this._root=null,this._size=0,this},B.prototype.toList=function(){return E(this._root)},B.prototype.load=function(b,x,A){x===void 0&&(x=[]),A===void 0&&(A=!1);var D=b.length,N=this._comparator;if(A&&P(b,x,0,D-1,N),this._root===null)this._root=S(b,x,0,D),this._size=D;else{var Q=H(this.toList(),$(b,x),N);D=this._size+D,this._root=O({head:Q},0,D)}return this},B.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(B.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),B.prototype.toString=function(b){b===void 0&&(b=function(A){return String(A.key)});var x=[];return z(this._root,"",!0,function(A){return x.push(A)},b),x.join("")},B.prototype.update=function(b,x,A){var D=this._comparator,N=k(b,this._root,D),Q=N.left,rt=N.right;D(b,x)<0?rt=y(x,A,rt,D):Q=y(x,A,Q,D),this._root=C(Q,rt,D)},B.prototype.split=function(b){return k(b,this._root,this._comparator)},B}();function S(B,b,x,A){var D=A-x;if(D>0){var N=x+Math.floor(D/2),Q=B[N],rt=b[N],mt=new d(Q,rt);return mt.left=S(B,b,x,N),mt.right=S(B,b,N+1,A),mt}return null}function $(B,b){for(var x=new d(null,null),A=x,D=0;D<B.length;D++)A=A.next=new d(B[D],b[D]);return A.next=null,x.next}function E(B){for(var b=B,x=[],A=!1,D=new d(null,null),N=D;!A;)b?(x.push(b),b=b.left):x.length>0?b=(b=N=N.next=x.pop()).right:A=!0;return N.next=null,D.next}function O(B,b,x){var A=x-b;if(A>0){var D=b+Math.floor(A/2),N=O(B,b,D),Q=B.head;return Q.left=N,B.head=B.head.next,Q.right=O(B,D+1,x),Q}return null}function H(B,b,x){for(var A=new d(null,null),D=A,N=B,Q=b;N!==null&&Q!==null;)x(N.key,Q.key)<0?(D.next=N,N=N.next):(D.next=Q,Q=Q.next),D=D.next;return N!==null?D.next=N:Q!==null&&(D.next=Q),A.next}function P(B,b,x,A,D){if(!(x>=A)){for(var N=B[x+A>>1],Q=x-1,rt=A+1;;){do Q++;while(D(B[Q],N)<0);do rt--;while(D(B[rt],N)>0);if(Q>=rt)break;var mt=B[Q];B[Q]=B[rt],B[rt]=mt,mt=b[Q],b[Q]=b[rt],b[rt]=mt}P(B,b,x,rt,D),P(B,b,rt+1,A,D)}}var I=function(B,b){return B.ll.x<=b.x&&b.x<=B.ur.x&&B.ll.y<=b.y&&b.y<=B.ur.y},K=function(B,b){if(b.ur.x<B.ll.x||B.ur.x<b.ll.x||b.ur.y<B.ll.y||B.ur.y<b.ll.y)return null;var x=B.ll.x<b.ll.x?b.ll.x:B.ll.x,A=B.ur.x<b.ur.x?B.ur.x:b.ur.x;return{ll:{x,y:B.ll.y<b.ll.y?b.ll.y:B.ll.y},ur:{x:A,y:B.ur.y<b.ur.y?B.ur.y:b.ur.y}}},nt=Number.EPSILON;nt===void 0&&(nt=Math.pow(2,-52));var W=nt*nt,et=function(B,b){if(-nt<B&&B<nt&&-nt<b&&b<nt)return 0;var x=B-b;return x*x<W*B*b?0:B<b?-1:1},st=function(){function B(){l(this,B),this.reset()}return h(B,[{key:"reset",value:function(){this.xRounder=new ft,this.yRounder=new ft}},{key:"round",value:function(b,x){return{x:this.xRounder.round(b),y:this.yRounder.round(x)}}}]),B}(),ft=function(){function B(){l(this,B),this.tree=new T,this.round(0)}return h(B,[{key:"round",value:function(b){var x=this.tree.add(b),A=this.tree.prev(x);if(A!==null&&et(x.key,A.key)===0)return this.tree.remove(b),A.key;var D=this.tree.next(x);return D!==null&&et(x.key,D.key)===0?(this.tree.remove(b),D.key):b}}]),B}(),it=new st,gt=function(B,b){return B.x*b.y-B.y*b.x},bt=function(B,b){return B.x*b.x+B.y*b.y},Pt=function(B,b,x){var A={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y},N=gt(A,D);return et(N,0)},kt=function(B){return Math.sqrt(bt(B,B))},Nt=function(B,b,x){var A={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y};return gt(D,A)/kt(D)/kt(A)},_t=function(B,b,x){var A={x:b.x-B.x,y:b.y-B.y},D={x:x.x-B.x,y:x.y-B.y};return bt(D,A)/kt(D)/kt(A)},le=function(B,b,x){return b.y===0?null:{x:B.x+b.x/b.y*(x-B.y),y:x}},Bt=function(B,b,x){return b.x===0?null:{x,y:B.y+b.y/b.x*(x-B.x)}},At=function(B,b,x,A){if(b.x===0)return Bt(x,A,B.x);if(A.x===0)return Bt(B,b,x.x);if(b.y===0)return le(x,A,B.y);if(A.y===0)return le(B,b,x.y);var D=gt(b,A);if(D==0)return null;var N={x:x.x-B.x,y:x.y-B.y},Q=gt(N,b)/D,rt=gt(N,A)/D;return{x:(B.x+rt*b.x+(x.x+Q*A.x))/2,y:(B.y+rt*b.y+(x.y+Q*A.y))/2}},Ft=function(){function B(b,x){l(this,B),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=x}return h(B,null,[{key:"compare",value:function(b,x){var A=B.comparePoints(b.point,x.point);return A!==0?A:(b.point!==x.point&&b.link(x),b.isLeft!==x.isLeft?b.isLeft?1:-1:ce.compare(b.segment,x.segment))}},{key:"comparePoints",value:function(b,x){return b.x<x.x?-1:b.x>x.x?1:b.y<x.y?-1:b.y>x.y?1:0}}]),h(B,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var x=b.point.events,A=0,D=x.length;A<D;A++){var N=x[A];this.point.events.push(N),N.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,x=0;x<b;x++){var A=this.point.events[x];if(A.segment.consumedBy===void 0)for(var D=x+1;D<b;D++){var N=this.point.events[D];N.consumedBy===void 0&&A.otherSE.point.events===N.otherSE.point.events&&A.segment.consume(N.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],x=0,A=this.point.events.length;x<A;x++){var D=this.point.events[x];D!==this&&!D.segment.ringOut&&D.segment.isInResult()&&b.push(D)}return b}},{key:"getLeftmostComparator",value:function(b){var x=this,A=new Map,D=function(N){var Q=N.otherSE;A.set(N,{sine:Nt(x.point,b.point,Q.point),cosine:_t(x.point,b.point,Q.point)})};return function(N,Q){A.has(N)||D(N),A.has(Q)||D(Q);var rt=A.get(N),mt=rt.sine,St=rt.cosine,Dt=A.get(Q),Zt=Dt.sine,Wt=Dt.cosine;return mt>=0&&Zt>=0?St<Wt?1:St>Wt?-1:0:mt<0&&Zt<0?St<Wt?-1:St>Wt?1:0:Zt<mt?-1:Zt>mt?1:0}}}]),B}(),xe=0,ce=function(){function B(b,x,A,D){l(this,B),this.id=++xe,this.leftSE=b,b.segment=this,b.otherSE=x,this.rightSE=x,x.segment=this,x.otherSE=b,this.rings=A,this.windings=D}return h(B,null,[{key:"compare",value:function(b,x){var A=b.leftSE.point.x,D=x.leftSE.point.x,N=b.rightSE.point.x,Q=x.rightSE.point.x;if(Q<A)return 1;if(N<D)return-1;var rt=b.leftSE.point.y,mt=x.leftSE.point.y,St=b.rightSE.point.y,Dt=x.rightSE.point.y;if(A<D){if(mt<rt&&mt<St)return 1;if(mt>rt&&mt>St)return-1;var Zt=b.comparePoint(x.leftSE.point);if(Zt<0)return 1;if(Zt>0)return-1;var Wt=x.comparePoint(b.rightSE.point);return Wt!==0?Wt:-1}if(A>D){if(rt<mt&&rt<Dt)return-1;if(rt>mt&&rt>Dt)return 1;var _e=x.comparePoint(b.leftSE.point);if(_e!==0)return _e;var Kt=b.comparePoint(x.rightSE.point);return Kt<0?1:Kt>0?-1:1}if(rt<mt)return-1;if(rt>mt)return 1;if(N<Q){var me=x.comparePoint(b.rightSE.point);if(me!==0)return me}if(N>Q){var se=b.comparePoint(x.rightSE.point);if(se<0)return 1;if(se>0)return-1}if(N!==Q){var ye=St-rt,Ee=N-A,$e=Dt-mt,Ze=Q-D;if(ye>Ee&&$e<Ze)return 1;if(ye<Ee&&$e>Ze)return-1}return N>Q?1:N<Q||St<Dt?-1:St>Dt?1:b.id<x.id?-1:b.id>x.id?1:0}}]),h(B,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,x=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<x?b:x},ur:{x:this.rightSE.point.x,y:b>x?b:x}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var x=this.leftSE.point,A=this.rightSE.point,D=this.vector();if(x.x===A.x)return b.x===x.x?0:b.x<x.x?1:-1;var N=(b.y-x.y)/D.y,Q=x.x+N*D.x;if(b.x===Q)return 0;var rt=(b.x-x.x)/D.x,mt=x.y+rt*D.y;return b.y===mt?0:b.y<mt?-1:1}},{key:"getIntersection",value:function(b){var x=this.bbox(),A=b.bbox(),D=K(x,A);if(D===null)return null;var N=this.leftSE.point,Q=this.rightSE.point,rt=b.leftSE.point,mt=b.rightSE.point,St=I(x,rt)&&this.comparePoint(rt)===0,Dt=I(A,N)&&b.comparePoint(N)===0,Zt=I(x,mt)&&this.comparePoint(mt)===0,Wt=I(A,Q)&&b.comparePoint(Q)===0;if(Dt&&St)return Wt&&!Zt?Q:!Wt&&Zt?mt:null;if(Dt)return Zt&&N.x===mt.x&&N.y===mt.y?null:N;if(St)return Wt&&Q.x===rt.x&&Q.y===rt.y?null:rt;if(Wt&&Zt)return null;if(Wt)return Q;if(Zt)return mt;var _e=At(N,this.vector(),rt,b.vector());return _e===null?null:I(D,_e)?it.round(_e.x,_e.y):null}},{key:"split",value:function(b){var x=[],A=b.events!==void 0,D=new Ft(b,!0),N=new Ft(b,!1),Q=this.rightSE;this.replaceRightSE(N),x.push(N),x.push(D);var rt=new B(D,Q,this.rings.slice(),this.windings.slice());return Ft.comparePoints(rt.leftSE.point,rt.rightSE.point)>0&&rt.swapEvents(),Ft.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),A&&(D.checkForConsuming(),N.checkForConsuming()),x}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var x=0,A=this.windings.length;x<A;x++)this.windings[x]*=-1}},{key:"consume",value:function(b){for(var x=this,A=b;x.consumedBy;)x=x.consumedBy;for(;A.consumedBy;)A=A.consumedBy;var D=B.compare(x,A);if(D!==0){if(D>0){var N=x;x=A,A=N}if(x.prev===A){var Q=x;x=A,A=Q}for(var rt=0,mt=A.rings.length;rt<mt;rt++){var St=A.rings[rt],Dt=A.windings[rt],Zt=x.rings.indexOf(St);Zt===-1?(x.rings.push(St),x.windings.push(Dt)):x.windings[Zt]+=Dt}A.rings=null,A.windings=null,A.consumedBy=x,A.leftSE.consumedBy=x.leftSE,A.rightSE.consumedBy=x.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var x=this._afterState.rings,A=this._afterState.windings,D=this._afterState.multiPolys,N=0,Q=this.rings.length;N<Q;N++){var rt=this.rings[N],mt=this.windings[N],St=x.indexOf(rt);St===-1?(x.push(rt),A.push(mt)):A[St]+=mt}for(var Dt=[],Zt=[],Wt=0,_e=x.length;Wt<_e;Wt++)if(A[Wt]!==0){var Kt=x[Wt],me=Kt.poly;if(Zt.indexOf(me)===-1)if(Kt.isExterior)Dt.push(me);else{Zt.indexOf(me)===-1&&Zt.push(me);var se=Dt.indexOf(Kt.poly);se!==-1&&Dt.splice(se,1)}}for(var ye=0,Ee=Dt.length;ye<Ee;ye++){var $e=Dt[ye].multiPoly;D.indexOf($e)===-1&&D.push($e)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,x=this.afterState().multiPolys;switch(J.type){case"union":var A=b.length===0,D=x.length===0;this._isInResult=A!==D;break;case"intersection":var N,Q;b.length<x.length?(N=b.length,Q=x.length):(N=x.length,Q=b.length),this._isInResult=Q===J.numMultiPolys&&N<Q;break;case"xor":var rt=Math.abs(b.length-x.length);this._isInResult=rt%2==1;break;case"difference":var mt=function(St){return St.length===1&&St[0].isSubject};this._isInResult=mt(b)!==mt(x);break;default:throw new Error("Unrecognized operation type found ".concat(J.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,x,A){var D,N,Q,rt=Ft.comparePoints(b,x);if(rt<0)D=b,N=x,Q=1;else{if(!(rt>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));D=x,N=b,Q=-1}return new B(new Ft(D,!0),new Ft(N,!1),[A],[Q])}}]),B}(),re=function(){function B(b,x,A){if(l(this,B),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=x,this.isExterior=A,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var D=it.round(b[0][0],b[0][1]);this.bbox={ll:{x:D.x,y:D.y},ur:{x:D.x,y:D.y}};for(var N=D,Q=1,rt=b.length;Q<rt;Q++){if(typeof b[Q][0]!="number"||typeof b[Q][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var mt=it.round(b[Q][0],b[Q][1]);mt.x===N.x&&mt.y===N.y||(this.segments.push(ce.fromRing(N,mt,this)),mt.x<this.bbox.ll.x&&(this.bbox.ll.x=mt.x),mt.y<this.bbox.ll.y&&(this.bbox.ll.y=mt.y),mt.x>this.bbox.ur.x&&(this.bbox.ur.x=mt.x),mt.y>this.bbox.ur.y&&(this.bbox.ur.y=mt.y),N=mt)}D.x===N.x&&D.y===N.y||this.segments.push(ce.fromRing(N,D,this))}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],x=0,A=this.segments.length;x<A;x++){var D=this.segments[x];b.push(D.leftSE),b.push(D.rightSE)}return b}}]),B}(),zt=function(){function B(b,x){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new re(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var A=1,D=b.length;A<D;A++){var N=new re(b[A],this,!1);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.interiorRings.push(N)}this.multiPoly=x}return h(B,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),x=0,A=this.interiorRings.length;x<A;x++)for(var D=this.interiorRings[x].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),lt=function(){function B(b,x){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var A=0,D=b.length;A<D;A++){var N=new zt(b[A],this);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.polys.push(N)}this.isSubject=x}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],x=0,A=this.polys.length;x<A;x++)for(var D=this.polys[x].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),Mt=function(){function B(b){l(this,B),this.events=b;for(var x=0,A=b.length;x<A;x++)b[x].segment.ringOut=this;this.poly=null}return h(B,null,[{key:"factory",value:function(b){for(var x=[],A=0,D=b.length;A<D;A++){var N=b[A];if(N.isInResult()&&!N.ringOut){for(var Q=null,rt=N.leftSE,mt=N.rightSE,St=[rt],Dt=rt.point,Zt=[];Q=rt,rt=mt,St.push(rt),rt.point!==Dt;)for(;;){var Wt=rt.getAvailableLinkedEvents();if(Wt.length===0){var _e=St[0].point,Kt=St[St.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(_e.x,",")+" ".concat(_e.y,"]. Last matching segment found ends at")+" [".concat(Kt.x,", ").concat(Kt.y,"]."))}if(Wt.length===1){mt=Wt[0].otherSE;break}for(var me=null,se=0,ye=Zt.length;se<ye;se++)if(Zt[se].point===rt.point){me=se;break}if(me===null){Zt.push({index:St.length,point:rt.point});var Ee=rt.getLeftmostComparator(Q);mt=Wt.sort(Ee)[0].otherSE;break}var $e=Zt.splice(me)[0],Ze=St.splice($e.index);Ze.unshift(Ze[0].otherSE),x.push(new B(Ze.reverse()))}x.push(new B(St))}}return x}}]),h(B,[{key:"getGeom",value:function(){for(var b=this.events[0].point,x=[b],A=1,D=this.events.length-1;A<D;A++){var N=this.events[A].point,Q=this.events[A+1].point;Pt(N,b,Q)!==0&&(x.push(N),b=N)}if(x.length===1)return null;var rt=x[0],mt=x[1];Pt(rt,b,mt)===0&&x.shift(),x.push(x[0]);for(var St=this.isExteriorRing()?1:-1,Dt=this.isExteriorRing()?0:x.length-1,Zt=this.isExteriorRing()?x.length:-1,Wt=[],_e=Dt;_e!=Zt;_e+=St)Wt.push([x[_e].x,x[_e].y]);return Wt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],x=1,A=this.events.length;x<A;x++){var D=this.events[x];Ft.compare(b,D)>0&&(b=D)}for(var N=b.segment.prevInResult(),Q=N?N.prevInResult():null;;){if(!N)return null;if(!Q)return N.ringOut;if(Q.ringOut!==N.ringOut)return Q.ringOut.enclosingRing()!==N.ringOut?N.ringOut:N.ringOut.enclosingRing();N=Q.prevInResult(),Q=N?N.prevInResult():null}}}]),B}(),Ct=function(){function B(b){l(this,B),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return h(B,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var x=0,A=this.interiorRings.length;x<A;x++){var D=this.interiorRings[x].getGeom();D!==null&&b.push(D)}return b}}]),B}(),It=function(){function B(b){l(this,B),this.rings=b,this.polys=this._composePolys(b)}return h(B,[{key:"getGeom",value:function(){for(var b=[],x=0,A=this.polys.length;x<A;x++){var D=this.polys[x].getGeom();D!==null&&b.push(D)}return b}},{key:"_composePolys",value:function(b){for(var x=[],A=0,D=b.length;A<D;A++){var N=b[A];if(!N.poly)if(N.isExteriorRing())x.push(new Ct(N));else{var Q=N.enclosingRing();Q.poly||x.push(new Ct(Q)),Q.poly.addInterior(N)}}return x}}]),B}(),ie=function(){function B(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce.compare;l(this,B),this.queue=b,this.tree=new T(x),this.segments=[]}return h(B,[{key:"process",value:function(b){var x=b.segment,A=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(x),A;var D=b.isLeft?this.tree.insert(x):this.tree.find(x);if(!D)throw new Error("Unable to find segment #".concat(x.id," ")+"[".concat(x.leftSE.point.x,", ").concat(x.leftSE.point.y,"] -> ")+"[".concat(x.rightSE.point.x,", ").concat(x.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var N=D,Q=D,rt=void 0,mt=void 0;rt===void 0;)(N=this.tree.prev(N))===null?rt=null:N.key.consumedBy===void 0&&(rt=N.key);for(;mt===void 0;)(Q=this.tree.next(Q))===null?mt=null:Q.key.consumedBy===void 0&&(mt=Q.key);if(b.isLeft){var St=null;if(rt){var Dt=rt.getIntersection(x);if(Dt!==null&&(x.isAnEndpoint(Dt)||(St=Dt),!rt.isAnEndpoint(Dt)))for(var Zt=this._splitSafely(rt,Dt),Wt=0,_e=Zt.length;Wt<_e;Wt++)A.push(Zt[Wt])}var Kt=null;if(mt){var me=mt.getIntersection(x);if(me!==null&&(x.isAnEndpoint(me)||(Kt=me),!mt.isAnEndpoint(me)))for(var se=this._splitSafely(mt,me),ye=0,Ee=se.length;ye<Ee;ye++)A.push(se[ye])}if(St!==null||Kt!==null){var $e=null;$e=St===null?Kt:Kt===null||Ft.comparePoints(St,Kt)<=0?St:Kt,this.queue.remove(x.rightSE),A.push(x.rightSE);for(var Ze=x.split($e),hn=0,on=Ze.length;hn<on;hn++)A.push(Ze[hn])}A.length>0?(this.tree.remove(x),A.push(b)):(this.segments.push(x),x.prev=rt)}else{if(rt&&mt){var Ke=rt.getIntersection(mt);if(Ke!==null){if(!rt.isAnEndpoint(Ke))for(var sn=this._splitSafely(rt,Ke),xn=0,Vn=sn.length;xn<Vn;xn++)A.push(sn[xn]);if(!mt.isAnEndpoint(Ke))for(var qe=this._splitSafely(mt,Ke),Ne=0,An=qe.length;Ne<An;Ne++)A.push(qe[Ne])}}this.tree.remove(x)}return A}},{key:"_splitSafely",value:function(b,x){this.tree.remove(b);var A=b.rightSE;this.queue.remove(A);var D=b.split(x);return D.push(A),b.consumedBy===void 0&&this.tree.insert(b),D}}]),B}(),U=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,q=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,J=new(function(){function B(){l(this,B)}return h(B,[{key:"run",value:function(b,x,A){J.type=b,it.reset();for(var D=[new lt(x,!0)],N=0,Q=A.length;N<Q;N++)D.push(new lt(A[N],!1));if(J.numMultiPolys=D.length,J.type==="difference")for(var rt=D[0],mt=1;mt<D.length;)K(D[mt].bbox,rt.bbox)!==null?mt++:D.splice(mt,1);if(J.type==="intersection"){for(var St=0,Dt=D.length;St<Dt;St++)for(var Zt=D[St],Wt=St+1,_e=D.length;Wt<_e;Wt++)if(K(Zt.bbox,D[Wt].bbox)===null)return[]}for(var Kt=new T(Ft.compare),me=0,se=D.length;me<se;me++)for(var ye=D[me].getSweepEvents(),Ee=0,$e=ye.length;Ee<$e;Ee++)if(Kt.insert(ye[Ee]),Kt.size>U)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ze=new ie(Kt),hn=Kt.size,on=Kt.pop();on;){var Ke=on.key;if(Kt.size===hn){var sn=Ke.segment;throw new Error("Unable to pop() ".concat(Ke.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ke.point.x,", ").concat(Ke.point.y,"] from segment #").concat(sn.id," ")+"[".concat(sn.leftSE.point.x,", ").concat(sn.leftSE.point.y,"] -> ")+"[".concat(sn.rightSE.point.x,", ").concat(sn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Kt.size>U)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ze.segments.length>q)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var xn=Ze.process(Ke),Vn=0,qe=xn.length;Vn<qe;Vn++){var Ne=xn[Vn];Ne.consumedBy===void 0&&Kt.insert(Ne)}hn=Kt.size,on=Kt.pop()}it.reset();var An=Mt.factory(Ze.segments);return new It(An).getGeom()}}]),B}()),ct=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),A=1;A<b;A++)x[A-1]=arguments[A];return J.run("union",B,x)},pt=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),A=1;A<b;A++)x[A-1]=arguments[A];return J.run("intersection",B,x)},yt=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),A=1;A<b;A++)x[A-1]=arguments[A];return J.run("xor",B,x)},Et=function(B){for(var b=arguments.length,x=new Array(b>1?b-1:0),A=1;A<b;A++)x[A-1]=arguments[A];return J.run("difference",B,x)};return{union:ct,intersection:pt,xor:yt,difference:Et}}()},2582:function(s){s.exports=function(){function l(P,I,K,nt,W){(function et(st,ft,it,gt,bt){for(;gt>it;){if(gt-it>600){var Pt=gt-it+1,kt=ft-it+1,Nt=Math.log(Pt),_t=.5*Math.exp(2*Nt/3),le=.5*Math.sqrt(Nt*_t*(Pt-_t)/Pt)*(kt-Pt/2<0?-1:1);et(st,ft,Math.max(it,Math.floor(ft-kt*_t/Pt+le)),Math.min(gt,Math.floor(ft+(Pt-kt)*_t/Pt+le)),bt)}var Bt=st[ft],At=it,Ft=gt;for(c(st,it,ft),bt(st[gt],Bt)>0&&c(st,it,gt);At<Ft;){for(c(st,At,Ft),At++,Ft--;bt(st[At],Bt)<0;)At++;for(;bt(st[Ft],Bt)>0;)Ft--}bt(st[it],Bt)===0?c(st,it,Ft):c(st,++Ft,gt),Ft<=ft&&(it=Ft+1),ft<=Ft&&(gt=Ft-1)}})(P,I,K||0,nt||P.length-1,W||h)}function c(P,I,K){var nt=P[I];P[I]=P[K],P[K]=nt}function h(P,I){return P<I?-1:P>I?1:0}var d=function(P){P===void 0&&(P=9),this._maxEntries=Math.max(4,P),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function m(P,I,K){if(!K)return I.indexOf(P);for(var nt=0;nt<I.length;nt++)if(K(P,I[nt]))return nt;return-1}function g(P,I){y(P,0,P.children.length,I,P)}function y(P,I,K,nt,W){W||(W=O(null)),W.minX=1/0,W.minY=1/0,W.maxX=-1/0,W.maxY=-1/0;for(var et=I;et<K;et++){var st=P.children[et];k(W,P.leaf?nt(st):st)}return W}function k(P,I){return P.minX=Math.min(P.minX,I.minX),P.minY=Math.min(P.minY,I.minY),P.maxX=Math.max(P.maxX,I.maxX),P.maxY=Math.max(P.maxY,I.maxY),P}function C(P,I){return P.minX-I.minX}function z(P,I){return P.minY-I.minY}function T(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function S(P){return P.maxX-P.minX+(P.maxY-P.minY)}function $(P,I){return P.minX<=I.minX&&P.minY<=I.minY&&I.maxX<=P.maxX&&I.maxY<=P.maxY}function E(P,I){return I.minX<=P.maxX&&I.minY<=P.maxY&&I.maxX>=P.minX&&I.maxY>=P.minY}function O(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function H(P,I,K,nt,W){for(var et=[I,K];et.length;)if(!((K=et.pop())-(I=et.pop())<=nt)){var st=I+Math.ceil((K-I)/nt/2)*nt;l(P,st,I,K,W),et.push(I,st,st,K)}}return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(P){var I=this.data,K=[];if(!E(P,I))return K;for(var nt=this.toBBox,W=[];I;){for(var et=0;et<I.children.length;et++){var st=I.children[et],ft=I.leaf?nt(st):st;E(P,ft)&&(I.leaf?K.push(st):$(P,ft)?this._all(st,K):W.push(st))}I=W.pop()}return K},d.prototype.collides=function(P){var I=this.data;if(!E(P,I))return!1;for(var K=[];I;){for(var nt=0;nt<I.children.length;nt++){var W=I.children[nt],et=I.leaf?this.toBBox(W):W;if(E(P,et)){if(I.leaf||$(P,et))return!0;K.push(W)}}I=K.pop()}return!1},d.prototype.load=function(P){if(!P||!P.length)return this;if(P.length<this._minEntries){for(var I=0;I<P.length;I++)this.insert(P[I]);return this}var K=this._build(P.slice(),0,P.length-1,0);if(this.data.children.length)if(this.data.height===K.height)this._splitRoot(this.data,K);else{if(this.data.height<K.height){var nt=this.data;this.data=K,K=nt}this._insert(K,this.data.height-K.height-1,!0)}else this.data=K;return this},d.prototype.insert=function(P){return P&&this._insert(P,this.data.height-1),this},d.prototype.clear=function(){return this.data=O([]),this},d.prototype.remove=function(P,I){if(!P)return this;for(var K,nt,W,et=this.data,st=this.toBBox(P),ft=[],it=[];et||ft.length;){if(et||(et=ft.pop(),nt=ft[ft.length-1],K=it.pop(),W=!0),et.leaf){var gt=m(P,et.children,I);if(gt!==-1)return et.children.splice(gt,1),ft.push(et),this._condense(ft),this}W||et.leaf||!$(et,st)?nt?(K++,et=nt.children[K],W=!1):et=null:(ft.push(et),it.push(K),K=0,nt=et,et=et.children[0])}return this},d.prototype.toBBox=function(P){return P},d.prototype.compareMinX=function(P,I){return P.minX-I.minX},d.prototype.compareMinY=function(P,I){return P.minY-I.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(P){return this.data=P,this},d.prototype._all=function(P,I){for(var K=[];P;)P.leaf?I.push.apply(I,P.children):K.push.apply(K,P.children),P=K.pop();return I},d.prototype._build=function(P,I,K,nt){var W,et=K-I+1,st=this._maxEntries;if(et<=st)return g(W=O(P.slice(I,K+1)),this.toBBox),W;nt||(nt=Math.ceil(Math.log(et)/Math.log(st)),st=Math.ceil(et/Math.pow(st,nt-1))),(W=O([])).leaf=!1,W.height=nt;var ft=Math.ceil(et/st),it=ft*Math.ceil(Math.sqrt(st));H(P,I,K,it,this.compareMinX);for(var gt=I;gt<=K;gt+=it){var bt=Math.min(gt+it-1,K);H(P,gt,bt,ft,this.compareMinY);for(var Pt=gt;Pt<=bt;Pt+=ft){var kt=Math.min(Pt+ft-1,bt);W.children.push(this._build(P,Pt,kt,nt-1))}}return g(W,this.toBBox),W},d.prototype._chooseSubtree=function(P,I,K,nt){for(;nt.push(I),!I.leaf&&nt.length-1!==K;){for(var W=1/0,et=1/0,st=void 0,ft=0;ft<I.children.length;ft++){var it=I.children[ft],gt=T(it),bt=(Pt=P,kt=it,(Math.max(kt.maxX,Pt.maxX)-Math.min(kt.minX,Pt.minX))*(Math.max(kt.maxY,Pt.maxY)-Math.min(kt.minY,Pt.minY))-gt);bt<et?(et=bt,W=gt<W?gt:W,st=it):bt===et&&gt<W&&(W=gt,st=it)}I=st||I.children[0]}var Pt,kt;return I},d.prototype._insert=function(P,I,K){var nt=K?P:this.toBBox(P),W=[],et=this._chooseSubtree(nt,this.data,I,W);for(et.children.push(P),k(et,nt);I>=0&&W[I].children.length>this._maxEntries;)this._split(W,I),I--;this._adjustParentBBoxes(nt,W,I)},d.prototype._split=function(P,I){var K=P[I],nt=K.children.length,W=this._minEntries;this._chooseSplitAxis(K,W,nt);var et=this._chooseSplitIndex(K,W,nt),st=O(K.children.splice(et,K.children.length-et));st.height=K.height,st.leaf=K.leaf,g(K,this.toBBox),g(st,this.toBBox),I?P[I-1].children.push(st):this._splitRoot(K,st)},d.prototype._splitRoot=function(P,I){this.data=O([P,I]),this.data.height=P.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(P,I,K){for(var nt,W,et,st,ft,it,gt,bt=1/0,Pt=1/0,kt=I;kt<=K-I;kt++){var Nt=y(P,0,kt,this.toBBox),_t=y(P,kt,K,this.toBBox),le=(W=Nt,et=_t,st=void 0,ft=void 0,it=void 0,gt=void 0,st=Math.max(W.minX,et.minX),ft=Math.max(W.minY,et.minY),it=Math.min(W.maxX,et.maxX),gt=Math.min(W.maxY,et.maxY),Math.max(0,it-st)*Math.max(0,gt-ft)),Bt=T(Nt)+T(_t);le<bt?(bt=le,nt=kt,Pt=Bt<Pt?Bt:Pt):le===bt&&Bt<Pt&&(Pt=Bt,nt=kt)}return nt||K-I},d.prototype._chooseSplitAxis=function(P,I,K){var nt=P.leaf?this.compareMinX:C,W=P.leaf?this.compareMinY:z;this._allDistMargin(P,I,K,nt)<this._allDistMargin(P,I,K,W)&&P.children.sort(nt)},d.prototype._allDistMargin=function(P,I,K,nt){P.children.sort(nt);for(var W=this.toBBox,et=y(P,0,I,W),st=y(P,K-I,K,W),ft=S(et)+S(st),it=I;it<K-I;it++){var gt=P.children[it];k(et,P.leaf?W(gt):gt),ft+=S(et)}for(var bt=K-I-1;bt>=I;bt--){var Pt=P.children[bt];k(st,P.leaf?W(Pt):Pt),ft+=S(st)}return ft},d.prototype._adjustParentBBoxes=function(P,I,K){for(var nt=K;nt>=0;nt--)k(I[nt],P)},d.prototype._condense=function(P){for(var I=P.length-1,K=void 0;I>=0;I--)P[I].children.length===0?I>0?(K=P[I-1].children).splice(K.indexOf(P[I]),1):this.clear():g(P[I],this.toBBox)},d}()}},n={};function o(s){var l=n[s];if(l!==void 0)return l.exports;var c=n[s]={id:s,loaded:!1,exports:{}};return t[s].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}o.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return o.d(l,{a:l}),l},o.d=(s,l)=>{for(var c in l)o.o(l,c)&&!o.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),o.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),o(5975)})();const $0={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Object,default:()=>({})}},emits:["geojson:ready","geojson","add:layer","draw:start","edit:layer","drag:layer","zoom:change","zoom:start"],setup(t,{expose:n,emit:o}){const s=t;delete Mn.Icon.Default.prototype._getIconUrl,Mn.Icon.Default.mergeOptions({iconRetinaUrl:R0,iconUrl:B0,shadowUrl:I0});const{map_tile_server:l,map_tile_attribution:c}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"DKwGc6rqkWHHUDwz9SM2Sw",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:null,header_logo_text:"My project",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],meta_keywords:"taxonpages, species, sfg",meta_description:"My public pages",meta_robots:"follow",meta_copyright:"",project_name:"My project",project_citation:null,project_url:null,project_authors:null};let h,d,m,g;const y=Xt(null),k={osm:Mn.tileLayer(l,{maxZoom:18,className:"map-tiles",attribution:c})},C=pe(()=>({maxZoom:s.zoomBounds,zoom:{animate:s.zoomAnimate}}));Ie(()=>s.geojson,P=>{g.clearLayers(),O(P)},{deep:!0}),Ie(()=>s.dragging,P=>{P?h.dragging.enable():h.dragging.disable()}),On(()=>{const P={center:s.center,zoom:s.zoom,worldCopyJump:!0,dragging:s.dragging};s.disableZoom&&Object.assign(P,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),m=new Mn.FeatureGroup,g=new Mn.FeatureGroup,h=Mn.map(y.value,P),h.pm.setGlobalOptions({layerGroup:m}),g.addTo(h),h.addLayer(m),h.addLayer(g),s.geojson&&O(s.geojson),s.controls&&(h.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),h.on("pm:create",I=>{o("geojson",z()),o("add:layer",S(I.layer))}),m.on("pm:edit",I=>{o("geojson",z()),o("edit:layer",S(I.layer))}),h.on("pm:drawstart",I=>{T(),o("draw:start",I)}),h.on("zoom",I=>o("zoom:change",I)),h.on("zoomstart",I=>o("zoom:start",I))),k.osm.addTo(h),E()});function z(){const P=Mn.featureGroup();return m.eachLayer(I=>{(I instanceof Mn.Path||I instanceof Mn.Marker)&&I.pm&&P.addLayer(I)}),P.toGeoJSON()}function T(){m.clearLayers()}function S(P){const I=P.toGeoJSON();return typeof P.getRadius=="function"&&(I.properties.radius=P.getRadius()),I}const $=()=>{if(!g)return;const P=g.getBounds();h.invalidateSize(),ms(()=>{Object.keys(P).length&&h.fitBounds(P,C.value)})},E=()=>{d=new ResizeObserver(P=>{P[0].contentRect,$()}),d.observe(y.value)};ki(()=>{g.clearLayers(),d==null||d.disconnect()});function O(P){if(P){Mn.geoJSON(P,{...G0(Mn),...s.geojsonOptions}).addTo(g);const I=g.getBounds();I.isValid()&&h.fitBounds(I,C.value)}o("geojson:ready",g)}function H(){return h}return n({clearDrawLayers:T,getMapObject:H,resizeMap:$}),(P,I)=>(Y(),ht("div",{ref_key:"leafletMap",ref:y,style:Fr({width:s.width,height:s.height})},null,4))}},Z0=Object.freeze(Object.defineProperty({__proto__:null,default:$0},Symbol.toStringTag,{value:"Module"}));function q0(t){K0(t,Object.assign({"/src/components/Map/VMap.client.vue":Z0}))}function K0(t,n){Object.entries(n).forEach(([s,l])=>{const c=s.split("/").pop().replace(/\.client.\w+$/,"");t.component(c,l.default)})}const W0={};function J0(t,n){return Y(),Vt(al,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:Ht(()=>[Re(t.$slots,"default")]),_:3})}const Y0=de(W0,[["render",J0]]),X0=Object.freeze(Object.defineProperty({__proto__:null,default:Y0},Symbol.toStringTag,{value:"Module"})),Q0={},tw={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},ew=rl('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),nw=[ew];function rw(t,n){return Y(),ht("svg",tw,nw)}const iw=de(Q0,[["render",rw]]);const ow={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},sw={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},aw=["placeholder"],lw={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},cw=["onClick"],uw=["innerHTML"],hw=500,fw={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:n}){const o=t,s=Xt(""),l=Xt([]),c=Xt(!1),h=Xt(null);let d;Ie(s,g=>{clearTimeout(d),g.length?d=setTimeout(()=>{c.value=!0,an.get(o.url,{params:{...o.params,[o.queryParam]:s.value}}).then(({data:y})=>{c.value=!1,l.value=y})},hw):l.value=[]});const m=g=>{n("select",g),s.value=""};return On(()=>{o.autofocus&&h.value.focus()}),(g,y)=>{const k=Ot("IconSearch");return Y(),ht("div",ow,[wt("div",sw,[Lt(k,{class:"w-4 h-4 text-gray-500"})]),Xa(wt("input",{"onUpdate:modelValue":y[0]||(y[0]=C=>s.value=C),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:h},null,8,aw),[[Rm,s.value]]),c.value?(Y(),Vt(iw,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Qt("",!0),l.value.length?(Y(),ht("ul",lw,[(Y(!0),ht(Jt,null,Te(l.value,C=>(Y(),ht("li",{key:C.id,class:"autocomplete__item px-3 py-2 border-b text-xs cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:z=>m(C)},[wt("span",{innerHTML:C[t.label]},null,8,uw)],8,cw))),128))])):Qt("",!0)])}}},vf=de(fw,[["__scopeId","data-v-c5caf34f"]]),dw=Object.freeze(Object.defineProperty({__proto__:null,default:vf},Symbol.toStringTag,{value:"Module"})),pw={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const n=df(),o=({id:s,otu_valid_id:l})=>{n.push({name:"otus-id-overview",params:{id:l||s}})};return(s,l)=>(Y(),Vt(vf,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:o},null,8,["autofocus"]))}},mw=Object.freeze(Object.defineProperty({__proto__:null,default:pw},Symbol.toStringTag,{value:"Module"})),gw={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,s=pe({get(){return o.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>{const h=Ot("IconMinusCircle"),d=Ot("IconPlusCircle");return Y(),ht("button",{type:"button",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:c[0]||(c[0]=m=>s.value=!s.value)},[s.value?(Y(),Vt(h,{key:0,class:"w-5 h-5"})):(Y(),Vt(d,{key:1,class:"w-5 h-5"}))])}}},_w=Object.freeze(Object.defineProperty({__proto__:null,default:gw},Symbol.toStringTag,{value:"Module"})),yw={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(n,o)=>(Y(),ht("button",{type:"button",class:wn(["px-3 py-1 hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Re(n.$slots,"default")],2))}},vw=Object.freeze(Object.defineProperty({__proto__:null,default:yw},Symbol.toStringTag,{value:"Module"}));const bw={},ww={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function xw(t,n){return Y(),ht("div",ww,[Re(t.$slots,"default")])}const kw=de(bw,[["render",xw]]),Lw=Object.freeze(Object.defineProperty({__proto__:null,default:kw},Symbol.toStringTag,{value:"Module"})),Mw={},Cw={class:"p-4 pl-5 pr-5"};function Pw(t,n){return Y(),ht("div",Cw,[Re(t.$slots,"default")])}const Sw=de(Mw,[["render",Pw]]),Ew=Object.freeze(Object.defineProperty({__proto__:null,default:Sw},Symbol.toStringTag,{value:"Module"})),Tw={},Ow={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function Aw(t,n){return Y(),ht("div",Ow,[Re(t.$slots,"default")])}const Rw=de(Tw,[["render",Aw]]),Bw=Object.freeze(Object.defineProperty({__proto__:null,default:Rw},Symbol.toStringTag,{value:"Module"})),Iw={class:"relative inline"},Dw={key:0,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},zw=["onClick"],jw={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const n=Xt(!1),o=()=>{n.value=!n.value},s=l=>{n.value=!1,l.action()};return(l,c)=>(Y(),ht("div",Iw,[wt("button",{title:"Menu",onClick:o},[Re(l.$slots,"button")]),n.value?(Y(),ht("ul",Dw,[(Y(!0),ht(Jt,null,Te(t.items,h=>(Y(),ht("li",{key:h.label,class:"block w-full px-4 py-2 text-left text-sm cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border",onClick:d=>s(h)},Ce(h.label),9,zw))),128))])):Qt("",!0)]))}},Nw=Object.freeze(Object.defineProperty({__proto__:null,default:jw},Symbol.toStringTag,{value:"Module"})),Hw=["title"],Fw=["alt","src"],Uw={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(n,o)=>(Y(),ht("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[wt("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,Fw)],8,Hw))}},Vw={class:"flex flex-row overflow-x-auto print:flex-wrap"},bf={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:n}){return(o,s)=>(Y(),ht("div",Vw,[(Y(!0),ht(Jt,null,Te(t.images,(l,c)=>(Y(),ht("div",{key:l.id,class:"pr-1.5 last:pr-0"},[Lt(Uw,{image:l,class:wn({"border border-secondary-color":t.current===c}),title:l.depictions.map(h=>h.label).join(";"),onClick:h=>n("selectIndex",c)},null,8,["image","class","title","onClick"])]))),128))]))}},Gw={class:"h-80 max-h-80 flex items-center justify-center"},$w=["src","alt"],Zw={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:n}){const o=t,s=Xt(!1),l=Xt(null);return Ie(()=>o.image,c=>{c.id&&(s.value=!0)}),On(()=>{l.value.addEventListener("load",()=>s.value=!1)}),(c,h)=>{const d=Ot("VSpinner"),m=Ot("ClientOnly");return Y(),ht("div",Gw,[Lt(m,null,{default:Ht(()=>[s.value?(Y(),Vt(d,{key:0})):Qt("",!0)]),_:1}),wt("img",{ref_key:"imageElement",ref:l,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto",src:t.image.original,alt:t.image.depictions.map(g=>g.label).join(";"),onClick:h[0]||(h[0]=g=>n("open:viewer"))},null,8,$w)])}}},qw={class:"flex flex-col"},Kw={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},Ww={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const n=t,o=Xt(!1),s=Xt(0),l=pe(()=>n.images[s.value]||{}),c=()=>{s.value--},h=()=>{s.value++};return Ie(()=>n.images,()=>{s.value=0},{immediate:!0}),(d,m)=>{const g=Ot("ImageViewer");return Y(),ht(Jt,null,[wt("div",qw,[wt("div",Kw,[Lt(Zw,{image:l.value,"onOpen:viewer":m[0]||(m[0]=()=>o.value=!0)},null,8,["image"])]),Lt(bf,{class:"pt-2 pb-2",images:t.images,onSelectIndex:m[1]||(m[1]=y=>{s.value=y})},null,8,["images"])]),o.value?(Y(),Vt(g,{key:0,index:s.value,images:t.images,next:s.value<n.images.length-1,previous:s.value>0,onSelectIndex:m[2]||(m[2]=y=>s.value=y),onNext:m[3]||(m[3]=y=>h()),onPrevious:m[4]||(m[4]=y=>c()),onClose:m[5]||(m[5]=y=>o.value=!1)},null,8,["index","images","next","previous"])):Qt("",!0)],64)}}},Jw=Object.freeze(Object.defineProperty({__proto__:null,default:Ww},Symbol.toStringTag,{value:"Module"})),Yw={},Xw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Qw=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),tx=[Qw];function ex(t,n){return Y(),ht("svg",Xw,tx)}const nx=de(Yw,[["render",ex]]),rx=Object.freeze(Object.defineProperty({__proto__:null,default:nx},Symbol.toStringTag,{value:"Module"})),ix={},ox={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},sx=wt("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),ax=[sx];function lx(t,n){return Y(),ht("svg",ox,ax)}const cx=de(ix,[["render",lx]]),ux=Object.freeze(Object.defineProperty({__proto__:null,default:cx},Symbol.toStringTag,{value:"Module"})),hx={},fx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},dx=wt("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),px=[dx];function mx(t,n){return Y(),ht("svg",fx,px)}const gx=de(hx,[["render",mx]]),_x=Object.freeze(Object.defineProperty({__proto__:null,default:gx},Symbol.toStringTag,{value:"Module"})),yx={},vx={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},bx=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),wx=[bx];function xx(t,n){return Y(),ht("svg",vx,wx)}const kx=de(yx,[["render",xx]]),Lx=Object.freeze(Object.defineProperty({__proto__:null,default:kx},Symbol.toStringTag,{value:"Module"})),Mx={},Cx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Px=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),Sx=[Px];function Ex(t,n){return Y(),ht("svg",Cx,Sx)}const Tx=de(Mx,[["render",Ex]]),Ox=Object.freeze(Object.defineProperty({__proto__:null,default:Tx},Symbol.toStringTag,{value:"Module"})),Ax={},Rx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Bx=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),Ix=[Bx];function Dx(t,n){return Y(),ht("svg",Rx,Ix)}const zx=de(Ax,[["render",Dx]]),jx=Object.freeze(Object.defineProperty({__proto__:null,default:zx},Symbol.toStringTag,{value:"Module"})),Nx={},Hx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Fx=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ux=[Fx];function Vx(t,n){return Y(),ht("svg",Hx,Ux)}const Gx=de(Nx,[["render",Vx]]),$x=Object.freeze(Object.defineProperty({__proto__:null,default:Gx},Symbol.toStringTag,{value:"Module"})),Zx={},qx={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Kx=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Wx=[Kx];function Jx(t,n){return Y(),ht("svg",qx,Wx)}const Yx=de(Zx,[["render",Jx]]),Xx=Object.freeze(Object.defineProperty({__proto__:null,default:Yx},Symbol.toStringTag,{value:"Module"})),Qx={},t1={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},e1=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),n1=[e1];function r1(t,n){return Y(),ht("svg",t1,n1)}const i1=de(Qx,[["render",r1]]),o1=Object.freeze(Object.defineProperty({__proto__:null,default:i1},Symbol.toStringTag,{value:"Module"})),s1={},a1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},l1=wt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),c1=[l1];function u1(t,n){return Y(),ht("svg",a1,c1)}const h1=de(s1,[["render",u1]]),f1=Object.freeze(Object.defineProperty({__proto__:null,default:h1},Symbol.toStringTag,{value:"Module"})),d1={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(n,o)=>(Y(),ht("div",null,[wt("p",null,Ce(t.attribution.label),1)]))}},p1={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(n,o)=>(Y(),ht("div",null,[(Y(!0),ht(Jt,null,Te(t.depictions,s=>(Y(),ht("div",{key:s.id},[wt("p",null,Ce(s.label),1)]))),128))]))}},m1=["innerHTML"],g1={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(n,o)=>(Y(),ht("div",null,[wt("p",{innerHTML:t.source.label},null,8,m1)]))}},_1={class:"p-2 text-black dark:text-white opacity-50"},y1={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(n,o)=>(Y(),ht("span",_1,Ce(t.currentImage+1)+"/"+Ce(t.totalImages),1))}},v1={},b1={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background"};function w1(t,n){const o=Ot("IconArrowRight");return Y(),ht("button",b1,[Lt(o,{class:"h-8 w-8"})])}const x1=de(v1,[["render",w1]]),k1={},L1={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background"};function M1(t,n){const o=Ot("IconArrowLeft");return Y(),ht("button",L1,[Lt(o,{class:"h-8 w-8"})])}const C1=de(k1,[["render",M1]]),P1={},S1={class:"p-2 box-border flex justify-between"};function E1(t,n){return Y(),ht("div",S1,[wt("div",null,[Re(t.$slots,"default")]),wt("div",null,[Re(t.$slots,"right")])])}const T1=de(P1,[["render",E1]]),O1={},A1={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function R1(t,n){const o=Ot("IconClose");return Y(),ht("button",A1,[Lt(o)])}const B1=de(O1,[["render",R1]]),I1={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},D1={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},z1=["src"],j1={class:"bottom-0 fixed max-w-full w-full"},N1={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},H1={class:"flex justify-center"},F1={__name:"ImageViewer.global",props:{index:{type:Object,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:n}){const o=t,s=({key:d})=>{switch(d){case"ArrowLeft":o.previous&&n("previous");break;case"ArrowRight":o.next&&n("next");break;case"Escape":n("close");break}},l=Xt(null),c=Xt(!1),h=pe(()=>o.images[o.index]);return document.addEventListener("keyup",s),On(()=>{l.value.addEventListener("load",()=>c.value=!1),document.body.classList.add("overflow-hidden")}),ki(()=>{document.removeEventListener("keyup",s),document.body.classList.remove("overflow-hidden")}),Ie(()=>o.index,()=>c.value=!0),(d,m)=>{const g=Ot("VSpinner");return Y(),ht("div",I1,[wt("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:m[3]||(m[3]=Ac(()=>{},["stop"]))},[wt("div",D1,[c.value?(Y(),Vt(g,{key:0})):Qt("",!0),wt("img",{ref_key:"imageElement",ref:l,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",src:h.value.original,onClick:m[0]||(m[0]=y=>n("close"))},null,8,z1),t.next?(Y(),Vt(x1,{key:1,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:m[1]||(m[1]=y=>n("next"))})):Qt("",!0),t.previous?(Y(),Vt(C1,{key:2,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:m[2]||(m[2]=y=>n("previous"))})):Qt("",!0)])]),wt("div",j1,[wt("div",N1,[Lt(p1,{class:"my-auto",depictions:h.value.depictions},null,8,["depictions"]),Lt(d1,{class:"my-auto",attribution:h.value.attribution},null,8,["attribution"]),Lt(g1,{class:"my-auto",source:h.value.source},null,8,["source"])]),wt("div",H1,[Lt(bf,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:m[4]||(m[4]=y=>n("selectIndex",y)),onClick:m[5]||(m[5]=Ac(()=>{},["stop"]))},null,8,["current","images"])])]),Lt(T1,{class:"w-full absolute top-0 h-12 left-0"},{right:Ht(()=>[Lt(B1,{onClick:m[6]||(m[6]=y=>n("close"))})]),default:Ht(()=>[Lt(y1,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},U1=Object.freeze(Object.defineProperty({__proto__:null,default:F1},Symbol.toStringTag,{value:"Module"})),V1={key:1},G1={__name:"ClientOnly.global",setup(t){const n=Xt(!1);return On(()=>{n.value=!0}),(o,s)=>n.value?Re(o.$slots,"default",{key:0}):(Y(),ht("div",V1))}},$1=Object.freeze(Object.defineProperty({__proto__:null,default:G1},Symbol.toStringTag,{value:"Module"})),Z1={class:"inline-flex items-center text-sm"},q1={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(n,o)=>{const s=Ot("router-link");return Y(),ht("li",Z1,[Lt(s,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-gray-700 border-b-2 border-transparent","active-class":"border-b-2 border-blue-500 text-primary-500",to:t.to},{default:Ht(()=>[Re(n.$slots,"default")]),_:3},8,["to"])])}}},K1=Object.freeze(Object.defineProperty({__proto__:null,default:q1},Symbol.toStringTag,{value:"Module"})),W1={},J1={class:"inline-flex items-center space-x-1 md:space-x-3"};function Y1(t,n){return Y(),ht("ul",J1,[Re(t.$slots,"default")])}const X1=de(W1,[["render",Y1]]),Q1=Object.freeze(Object.defineProperty({__proto__:null,default:X1},Symbol.toStringTag,{value:"Module"})),tk={},ek={class:"relative sm:rounded-lg"},nk={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function rk(t,n){return Y(),ht("div",ek,[wt("table",nk,[Re(t.$slots,"default")])])}const ik=de(tk,[["render",rk]]),ok=Object.freeze(Object.defineProperty({__proto__:null,default:ik},Symbol.toStringTag,{value:"Module"})),sk={},ak={class:"normal-case text-xs"};function lk(t,n){return Y(),ht("tbody",ak,[Re(t.$slots,"default")])}const ck=de(sk,[["render",lk]]),uk=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"})),hk={},fk={class:"px-4 py-4"};function dk(t,n){return Y(),ht("td",fk,[Re(t.$slots,"default")])}const pk=de(hk,[["render",dk]]),mk=Object.freeze(Object.defineProperty({__proto__:null,default:pk},Symbol.toStringTag,{value:"Module"})),gk={},_k={class:"bg-base-foreground border-b border-base-border"};function yk(t,n){return Y(),ht("tr",_k,[Re(t.$slots,"default")])}const vk=de(gk,[["render",yk]]),bk=Object.freeze(Object.defineProperty({__proto__:null,default:vk},Symbol.toStringTag,{value:"Module"})),wk={},xk={class:"text-xs text-base-content uppercase bg-base-background"};function kk(t,n){return Y(),ht("thead",xk,[Re(t.$slots,"default")])}const Lk=de(wk,[["render",kk]]),Mk=Object.freeze(Object.defineProperty({__proto__:null,default:Lk},Symbol.toStringTag,{value:"Module"})),Ck={},Pk={class:"px-4 py-3"};function Sk(t,n){return Y(),ht("th",Pk,[Re(t.$slots,"default")])}const Ek=de(Ck,[["render",Sk]]),Tk=Object.freeze(Object.defineProperty({__proto__:null,default:Ek},Symbol.toStringTag,{value:"Module"})),Ok={};function Ak(t,n){return Y(),ht("tr",null,[Re(t.$slots,"default")])}const Rk=de(Ok,[["render",Ak]]),Bk=Object.freeze(Object.defineProperty({__proto__:null,default:Rk},Symbol.toStringTag,{value:"Module"})),Ik={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const n=Tp(),o=pe(()=>{var c;const l=(c=n.default)==null?void 0:c.call(n);return s(l)});function s(l){if(!l)return!0;const[c]=l;let h=c.children;return c.el!==null||h!==null}return(l,c)=>(Y(),ht(Jt,null,[Re(l.$slots,"default"),o.value?(Y(),ht("span",{key:0,class:wn(t.class)},[(Y(!0),ht(Jt,null,Te(t.lines,h=>(Y(),ht("span",{key:h,class:"inline-block w-full rounded-sm bg-base-muted leading-5"}," ‌ "))),128))],2)):Qt("",!0)],64))}},Dk=Object.freeze(Object.defineProperty({__proto__:null,default:Ik},Symbol.toStringTag,{value:"Module"}));const zk=rl(`<path id="LeftTop" d="M14.2,63.1C24.3,63.1,28,76.3,28,76.3s5,15.5,15.3,15.5c7.7,0,9.4-6.3,9.8-9.1c0-0.1,0-0.2,0-0.4s0-0.5,0.1-0.8
            c0-0.1,0-0.1,0-0.2c0.3-2-0.8-4-2.7-4.8l0,0c-3.1-1.1-5.9-3-8-5.6c-6.4-7.4-3-17,4.5-23.6c-3.5-4-8-8.7-12-10.8
            c-8.7-4.6-15.7,2.6-16.2,3.2L18.7,40c-0.6,0.8-1.2,1.6-1.8,2.5l-0.1,0.1c-0.6,0.9-1.2,1.8-1.8,2.7L15,45.4c-0.5,0.8-1,1.6-1.5,2.4
            l-0.3,0.5c-1,1.8-2,3.6-3,5.5L10,54.3c-0.4,0.9-0.9,1.8-1.3,2.7l-0.1,0.1C8.2,58,7.8,59,7.4,59.9l-0.2,0.5c-0.3,0.8-0.6,1.5-0.9,2.3
            l-0.2,0.6c-0.4,1-0.7,1.9-1,2.9L5,66.7c-0.1,0.3-0.2,0.5-0.2,0.8C7.1,64.7,10.5,63.1,14.2,63.1z" data-v-1cf7d148></path><path id="Head" d="M36.2,33c5.3,1.8,11.4,6.8,15.7,11c0.5-0.3,1.1-0.6,1.6-0.9c2.3-1.2,4.7-2.1,7.2-2.7
            c-2.4-4.9-5.6-12.8-4.9-18.3c1.4-11.2,13.6-12,13.6-12S58.3,12.5,59,22.9c0.3,5,4.7,12.5,7.5,16.8c7-0.1,13,2.7,15.8,8
            c0.3,0.5,0.5,1.1,0.7,1.6l0,0c0.5,1,1.3,1.9,2.3,2.4c3.6,1.2,7.6,2.5,11.7,4.2c5.8,2.3,11.5,5,17,8.1c0.5,0.2,1,0,1.2-0.5
            c0.1-0.3,0.1-0.7-0.2-0.9c-27.2-26.1-8-36.3-8-36.3c-9.8,14.2,6.6,24.5,25.5,35.1c16.6,9.3,28.4,19.5,41.3,12.7
            c6.4-3.4,1.9-11-1-15.2c-2.2-2.9-4-6-5.6-9.2c-1-2.1-1.3-4.4-0.8-6.6c0.7-3.1-0.4-6.8-2.8-10.5c-1.8-2.8-5.1-5.7-7.6-7.6
            c-1.6-1.3-3.1-2.7-4.3-4.4c-9-12.6-32.2-17.9-32.2-17.9l0,0C97.5-2.6,74.3,0.1,54,10.2l0,0c-6.9,3.5-13.5,7.7-19.4,12.7l-0.8,0.6
            c-1.4,1.2-2.8,2.5-4.2,3.8l0,0c-0.8,0.8-1.6,1.5-2.3,2.3l0,0c-1.5,1.6-3,3.2-4.4,4.9l-0.2,0.2l-0.4,0.5C25.2,32.8,29.6,30.9,36.2,33
            z M145.8,33.9c3.9-1.7,8.5,0.1,10.2,4c0.6,1.3,0.8,2.7,0.6,4c-2.5,1.2-5.5,0.9-7.7-0.9C146.5,39.5,145.3,36.7,145.8,33.9L145.8,33.9
            z" data-v-1cf7d148></path><path id="LeftMid" d="M53.2,106.9c-0.2-2-0.4-4-0.4-6.3c-2.3,1-4.7,1.5-7.2,1.5c-19,0-19.5-18.8-26.2-29.2
            c-7-10.8-16.8,0.9-17.8,7.2c0,0.3-0.1,0.5-0.1,0.7c-0.1,0.6-0.2,1.3-0.3,1.9C1,83.1,1,83.4,1,83.6c-0.1,0.8-0.2,1.6-0.3,2.3
            c0,0.3-0.1,0.5-0.1,0.8c-0.1,1-0.2,2.1-0.3,3.1c0,0.1,0,0.2,0,0.3c-0.1,0.9-0.2,1.9-0.2,2.8c0,0.3,0,0.6,0,0.9C0,94.9,0,95.8,0,96.7
            c0,0.1,0,0.2,0,0.3s0,0.1,0,0.1s0,0.1,0,0.1c0,0.4,0,0.8,0,1.2s0,0.8,0,1.2c0,0.6,0,1.2,0.1,1.7c0,0.2,0,0.5,0,0.7
            c1.5,30.7,17.5,58.9,43,76c-8-7.8-12.7-17.8-12.7-28.6c0-13.4,7.3-26,19.1-34.4C52,113.2,53.5,110.1,53.2,106.9z" data-v-1cf7d148></path><path id="LeftBottom" d="M128.3,170c-5.8,2.4-12,3.9-18.3,4.4c-1.1,0.1-2.2,0.1-3.3,0.1c-12.3,0-28.4-4.8-40.7-25.3
            l-1.6-2.7c-1.9,2.7-2.9,6-2.9,9.3c0,13.9,16.6,26.5,36.7,26.5c5.4,0.1,10.7-0.6,15.9-2c-4.6,2.9-13.8,5.6-21.9,5.6
            C69.2,186,50,170.8,50,152.7c0.1-6.3,2.1-12.5,5.8-17.6c1.5-2.1,1.9-4.8,1.1-7.2l0,0c-10.5,6.1-17,15.4-17,26.6
            c0,17.2,15.3,31.9,37,37.9c1.2,0.3,2.5,0.5,3.7,0.7c15.6,2.6,29.5-0.1,38.9-9.1C123.5,180.1,126.5,175.3,128.3,170z" data-v-1cf7d148></path><path id="Tail" class="st0" d="M171,33.8c28,39.3,18.8,93.8-20.5,121.8c-2.4,1.7-4.9,3.3-7.5,4.8l-0.2,0.2c0-0.4,0-0.9,0.1-1.3
            c0.6-3.9,2.1-7.6,4.4-10.8c7.5-10.7,12.4-27-0.3-48.1c-7-11.6-21.7-28-51.7-40.1c-4.1-1.7-8.1-3.1-11.8-4.2L82,55.6l-0.2-0.1
            c-1.1-0.3-2.1-0.6-3.1-0.9h-0.2l-2.9-0.8h-0.1l-1.3-0.3h-0.1l-2.6-0.6h-0.1l-2.3-0.5h-0.2l-1-0.2l0,0L67,51.7h-0.2l-0.7-0.2h-0.2
            l-0.8-0.2H65l-0.6-0.1h-0.2L63.7,51l-0.1,0.4v0.1l-0.1,0.3l0,0.2l-0.1,0.3l-0.1,0.2l-0.1,0.3l-0.1,0.2L63,53.5L63,53.7l-0.1,0.4
            l-0.1,0.2l-0.1,0.5l-0.1,0.3l-0.1,0.6L62.3,56l-0.1,0.5l-0.1,0.3L62,57.2l-0.1,0.4L61.8,58l-0.1,0.4l-0.1,0.5l-0.1,0.4l-0.1,0.5
            l-0.1,0.4l-0.1,0.6l-0.1,0.5L61,61.9l-0.1,0.4l-0.1,0.5l-0.1,0.5l-0.1,0.5l-0.1,0.5l-0.1,0.5l-0.1,0.5l-0.1,0.5l-0.1,0.5L60,66.9
            l-0.1,0.5l-0.1,0.7l-0.1,0.5l-0.2,1l-0.1,0.5l-0.1,0.6l-0.1,0.5l-0.1,0.6l-0.1,0.6L59,73.1l-0.1,0.6l-0.1,0.6l-0.1,0.6l-0.1,0.7
            l-0.1,0.6l-0.1,0.8l-0.1,0.5c-0.2,1.8-0.4,3.6-0.6,5.5V83c0,0.6-0.1,1.1-0.1,1.7l0,0c0,0.6-0.1,1.1-0.1,1.7v0.1
            c0,0.6-0.1,1.1-0.1,1.7l0,0c-0.2,3-0.2,6.2-0.2,9.5c0.1,4.3,0.4,8.5,0.8,12.7c0,0.3,0.1,0.7,0.1,1.1c0.7,5.8,1.9,11.4,3.6,17
            c1.5,4.5,3.2,8.9,5.2,13.2c0.9,1.7,1.8,3.4,2.8,5.1c9.2,15.3,21.5,23,36.6,23c1,0,2.1,0,3.2-0.1c7-0.6,13.9-2.5,20.2-5.6
            c4.9-24.5-8.4-59.3-36.1-88.3C90,71.8,86,68,81.7,64.4c9.2,6.9,13.9,10.7,19.2,16.3c37.8,39.6,49.7,89.7,26.5,111.9
            c-3.4,3.3-7.5,5.8-11.9,7.5c5.8-1.6,11.1-4.5,15.4-8.6c1.4-1.3,2.6-2.7,3.8-4.2c49.6-20.7,73-77.7,52.4-127.3
            C183.1,50.4,177.7,41.6,171,33.8z" data-v-1cf7d148></path>`,5),jk=[zk],Nk=["innerHTML"],Hk={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({marginTop:"30px",textAlign:"center"})},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({width:"50px",height:"50px"})}},setup(t){const n=t,o={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},s=Xt(null),l=Xt({}),c=Xt(void 0);On(()=>{h(),n.resize&&!n.fullScreen&&m()}),ki(()=>clearInterval(c.value));const h=()=>{const g=n.target?document.querySelector(n.target):s.value.parentNode;Object.assign(l.value,n.fullScreen?o:d(g))},d=g=>{const y=g.getBoundingClientRect(),k=window.getComputedStyle(g,null),C=parseInt(k.getPropertyValue("padding-left"),10),z=parseInt(k.getPropertyValue("padding-right"),10),T=parseInt(k.getPropertyValue("padding-top"),10),S=parseInt(k.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:y.width-C-z+"px",height:y.height-T-S+"px"}},m=()=>{c.value=setInterval(h(),500)};return(g,y)=>(Y(),ht("div",{ref_key:"spinnerElement",ref:s,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Fr(l.value)},[wt("div",{class:wn(["tw-spinner",[`tw-spinner-${t.spinnerPosition}`]])},[t.showSpinner?(Y(),ht("svg",{key:0,style:Fr([t.logoSize,{"enable-background":"new 0 0 194.6 200"}]),version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 194.6 200","xml:space":"preserve"},jk,4)):Qt("",!0),wt("div",{class:"text-gray-900 dark:text-slate-400",style:Fr(t.legendStyle)},[t.showLegend?(Y(),ht("span",{key:0,innerHTML:t.legend},null,8,Nk)):Qt("",!0),Re(g.$slots,"default",{},void 0,!0)],4)],2)],4))}},Fk=de(Hk,[["__scopeId","data-v-1cf7d148"]]),Uk=Object.freeze(Object.defineProperty({__proto__:null,default:Fk},Symbol.toStringTag,{value:"Module"}));function Vk(t){Gk(t,Object.assign({"/src/components/Animation/AnimationOpacity.global.vue":X0,"/src/components/Autocomplete/Autocomplete.global.vue":dw,"/src/components/Autocomplete/AutocompleteOtu.global.vue":mw,"/src/components/Button/ButtonExpand.global.vue":_w,"/src/components/Button/VButton.global.vue":vw,"/src/components/Card/VCard.global.vue":Lw,"/src/components/Card/VCardContent.global.vue":Ew,"/src/components/Card/VCardHeader.global.vue":Bw,"/src/components/Dropdown/Dropdown.global.vue":Nw,"/src/components/Gallery/GalleryImage.global.vue":Jw,"/src/components/Icon/IconArrowDown.global.vue":rx,"/src/components/Icon/IconArrowLeft.global.vue":ux,"/src/components/Icon/IconArrowRight.global.vue":_x,"/src/components/Icon/IconClose.global.vue":Lx,"/src/components/Icon/IconDocument.global.vue":Ox,"/src/components/Icon/IconHamburger.global.vue":jx,"/src/components/Icon/IconMinusCircle.global.vue":$x,"/src/components/Icon/IconPlusCircle.global.vue":Xx,"/src/components/Icon/IconSearch.global.vue":o1,"/src/components/Icon/IconTrash.global.vue":f1,"/src/components/ImageViewer/ImageViewer.global.vue":U1,"/src/components/Ssr/ClientOnly.global.vue":$1,"/src/components/Tab/TabItem.global.vue":K1,"/src/components/Tab/TabMenu.global.vue":Q1,"/src/components/Table/VTable.global.vue":ok,"/src/components/Table/VTableBody.global.vue":uk,"/src/components/Table/VTableBodyCell.global.vue":mk,"/src/components/Table/VTableBodyRow.global.vue":bk,"/src/components/Table/VTableHeader.global.vue":Mk,"/src/components/Table/VTableHeaderCell.global.vue":Tk,"/src/components/Table/VTableHeaderRow.global.vue":Bk,"/src/components/VSkeleton.global.vue":Dk,"/src/components/VSpinner.global.vue":Uk}))}function Gk(t,n){Object.entries(n).forEach(([s,l])=>{const c=s.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(c,l.default)})}const{app:gl,router:$k,store:Zk}=E0(),vu=window.initialState;vu&&(Zk.state.value=vu);q0(gl);Vk(gl);$k.isReady().then(()=>{gl.mount("#app")});export{wt as a,un as b,ht as c,eh as d,Lt as e,rl as f,Y as o,Ot as r,Ce as t};
